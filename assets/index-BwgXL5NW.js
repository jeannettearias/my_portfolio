function dk(t,e){for(var i=0;i<e.length;i++){const n=e[i];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const r=Object.getOwnPropertyDescriptor(n,s);r&&Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function i(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=i(s);fetch(s.href,r)}})();function C0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ny={exports:{}},ou={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vD;function fk(){if(vD)return ou;vD=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(n,s,r){var l=null;if(r!==void 0&&(l=""+r),s.key!==void 0&&(l=""+s.key),"key"in s){r={};for(var c in s)c!=="key"&&(r[c]=s[c])}else r=s;return s=r.ref,{$$typeof:t,type:n,key:l,ref:s!==void 0?s:null,props:r}}return ou.Fragment=e,ou.jsx=i,ou.jsxs=i,ou}var MD;function pk(){return MD||(MD=1,ny.exports=fk()),ny.exports}var P=pk(),sy={exports:{}},Ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SD;function gk(){if(SD)return Ot;SD=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function m(w){return w===null||typeof w!="object"?null:(w=g&&w[g]||w["@@iterator"],typeof w=="function"?w:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,S={};function A(w,U,Q){this.props=w,this.context=U,this.refs=S,this.updater=Q||b}A.prototype.isReactComponent={},A.prototype.setState=function(w,U){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,U,"setState")},A.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function D(){}D.prototype=A.prototype;function L(w,U,Q){this.props=w,this.context=U,this.refs=S,this.updater=Q||b}var C=L.prototype=new D;C.constructor=L,v(C,A.prototype),C.isPureReactComponent=!0;var N=Array.isArray,k={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function _(w,U,Q,$,X,dt){return Q=dt.ref,{$$typeof:t,type:w,key:U,ref:Q!==void 0?Q:null,props:dt}}function j(w,U){return _(w.type,U,void 0,void 0,void 0,w.props)}function z(w){return typeof w=="object"&&w!==null&&w.$$typeof===t}function B(w){var U={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(Q){return U[Q]})}var q=/\/+/g;function at(w,U){return typeof w=="object"&&w!==null&&w.key!=null?B(""+w.key):U.toString(36)}function nt(){}function xt(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(nt,nt):(w.status="pending",w.then(function(U){w.status==="pending"&&(w.status="fulfilled",w.value=U)},function(U){w.status==="pending"&&(w.status="rejected",w.reason=U)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function St(w,U,Q,$,X){var dt=typeof w;(dt==="undefined"||dt==="boolean")&&(w=null);var ct=!1;if(w===null)ct=!0;else switch(dt){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(w.$$typeof){case t:case e:ct=!0;break;case p:return ct=w._init,St(ct(w._payload),U,Q,$,X)}}if(ct)return X=X(w),ct=$===""?"."+at(w,0):$,N(X)?(Q="",ct!=null&&(Q=ct.replace(q,"$&/")+"/"),St(X,U,Q,"",function(et){return et})):X!=null&&(z(X)&&(X=j(X,Q+(X.key==null||w&&w.key===X.key?"":(""+X.key).replace(q,"$&/")+"/")+ct)),U.push(X)),1;ct=0;var pt=$===""?".":$+":";if(N(w))for(var J=0;J<w.length;J++)$=w[J],dt=pt+at($,J),ct+=St($,U,Q,dt,X);else if(J=m(w),typeof J=="function")for(w=J.call(w),J=0;!($=w.next()).done;)$=$.value,dt=pt+at($,J++),ct+=St($,U,Q,dt,X);else if(dt==="object"){if(typeof w.then=="function")return St(xt(w),U,Q,$,X);throw U=String(w),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return ct}function W(w,U,Q){if(w==null)return w;var $=[],X=0;return St(w,$,"","",function(dt){return U.call(Q,dt,X++)}),$}function lt(w){if(w._status===-1){var U=w._result;U=U(),U.then(function(Q){(w._status===0||w._status===-1)&&(w._status=1,w._result=Q)},function(Q){(w._status===0||w._status===-1)&&(w._status=2,w._result=Q)}),w._status===-1&&(w._status=0,w._result=U)}if(w._status===1)return w._result.default;throw w._result}var it=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function ut(){}return Ot.Children={map:W,forEach:function(w,U,Q){W(w,function(){U.apply(this,arguments)},Q)},count:function(w){var U=0;return W(w,function(){U++}),U},toArray:function(w){return W(w,function(U){return U})||[]},only:function(w){if(!z(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},Ot.Component=A,Ot.Fragment=i,Ot.Profiler=s,Ot.PureComponent=L,Ot.StrictMode=n,Ot.Suspense=h,Ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Ot.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ot.cache=function(w){return function(){return w.apply(null,arguments)}},Ot.cloneElement=function(w,U,Q){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var $=v({},w.props),X=w.key,dt=void 0;if(U!=null)for(ct in U.ref!==void 0&&(dt=void 0),U.key!==void 0&&(X=""+U.key),U)!O.call(U,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&U.ref===void 0||($[ct]=U[ct]);var ct=arguments.length-2;if(ct===1)$.children=Q;else if(1<ct){for(var pt=Array(ct),J=0;J<ct;J++)pt[J]=arguments[J+2];$.children=pt}return _(w.type,X,void 0,void 0,dt,$)},Ot.createContext=function(w){return w={$$typeof:l,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:r,_context:w},w},Ot.createElement=function(w,U,Q){var $,X={},dt=null;if(U!=null)for($ in U.key!==void 0&&(dt=""+U.key),U)O.call(U,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(X[$]=U[$]);var ct=arguments.length-2;if(ct===1)X.children=Q;else if(1<ct){for(var pt=Array(ct),J=0;J<ct;J++)pt[J]=arguments[J+2];X.children=pt}if(w&&w.defaultProps)for($ in ct=w.defaultProps,ct)X[$]===void 0&&(X[$]=ct[$]);return _(w,dt,void 0,void 0,null,X)},Ot.createRef=function(){return{current:null}},Ot.forwardRef=function(w){return{$$typeof:c,render:w}},Ot.isValidElement=z,Ot.lazy=function(w){return{$$typeof:p,_payload:{_status:-1,_result:w},_init:lt}},Ot.memo=function(w,U){return{$$typeof:d,type:w,compare:U===void 0?null:U}},Ot.startTransition=function(w){var U=k.T,Q={};k.T=Q;try{var $=w(),X=k.S;X!==null&&X(Q,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(ut,it)}catch(dt){it(dt)}finally{k.T=U}},Ot.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Ot.use=function(w){return k.H.use(w)},Ot.useActionState=function(w,U,Q){return k.H.useActionState(w,U,Q)},Ot.useCallback=function(w,U){return k.H.useCallback(w,U)},Ot.useContext=function(w){return k.H.useContext(w)},Ot.useDebugValue=function(){},Ot.useDeferredValue=function(w,U){return k.H.useDeferredValue(w,U)},Ot.useEffect=function(w,U){return k.H.useEffect(w,U)},Ot.useId=function(){return k.H.useId()},Ot.useImperativeHandle=function(w,U,Q){return k.H.useImperativeHandle(w,U,Q)},Ot.useInsertionEffect=function(w,U){return k.H.useInsertionEffect(w,U)},Ot.useLayoutEffect=function(w,U){return k.H.useLayoutEffect(w,U)},Ot.useMemo=function(w,U){return k.H.useMemo(w,U)},Ot.useOptimistic=function(w,U){return k.H.useOptimistic(w,U)},Ot.useReducer=function(w,U,Q){return k.H.useReducer(w,U,Q)},Ot.useRef=function(w){return k.H.useRef(w)},Ot.useState=function(w){return k.H.useState(w)},Ot.useSyncExternalStore=function(w,U,Q){return k.H.useSyncExternalStore(w,U,Q)},Ot.useTransition=function(){return k.H.useTransition()},Ot.version="19.0.0",Ot}var DD;function E0(){return DD||(DD=1,sy.exports=gk()),sy.exports}var gt=E0();const SL=C0(gt),mk=dk({__proto__:null,default:SL},[gt]);var ay={exports:{}},lu={},ry={exports:{}},oy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AD;function yk(){return AD||(AD=1,function(t){function e(W,lt){var it=W.length;W.push(lt);t:for(;0<it;){var ut=it-1>>>1,w=W[ut];if(0<s(w,lt))W[ut]=lt,W[it]=w,it=ut;else break t}}function i(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var lt=W[0],it=W.pop();if(it!==lt){W[0]=it;t:for(var ut=0,w=W.length,U=w>>>1;ut<U;){var Q=2*(ut+1)-1,$=W[Q],X=Q+1,dt=W[X];if(0>s($,it))X<w&&0>s(dt,$)?(W[ut]=dt,W[X]=it,ut=X):(W[ut]=$,W[Q]=it,ut=Q);else if(X<w&&0>s(dt,it))W[ut]=dt,W[X]=it,ut=X;else break t}}return lt}function s(W,lt){var it=W.sortIndex-lt.sortIndex;return it!==0?it:W.id-lt.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var h=[],d=[],p=1,g=null,m=3,b=!1,v=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function C(W){for(var lt=i(d);lt!==null;){if(lt.callback===null)n(d);else if(lt.startTime<=W)n(d),lt.sortIndex=lt.expirationTime,e(h,lt);else break;lt=i(d)}}function N(W){if(S=!1,C(W),!v)if(i(h)!==null)v=!0,xt();else{var lt=i(d);lt!==null&&St(N,lt.startTime-W)}}var k=!1,O=-1,_=5,j=-1;function z(){return!(t.unstable_now()-j<_)}function B(){if(k){var W=t.unstable_now();j=W;var lt=!0;try{t:{v=!1,S&&(S=!1,D(O),O=-1),b=!0;var it=m;try{e:{for(C(W),g=i(h);g!==null&&!(g.expirationTime>W&&z());){var ut=g.callback;if(typeof ut=="function"){g.callback=null,m=g.priorityLevel;var w=ut(g.expirationTime<=W);if(W=t.unstable_now(),typeof w=="function"){g.callback=w,C(W),lt=!0;break e}g===i(h)&&n(h),C(W)}else n(h);g=i(h)}if(g!==null)lt=!0;else{var U=i(d);U!==null&&St(N,U.startTime-W),lt=!1}}break t}finally{g=null,m=it,b=!1}lt=void 0}}finally{lt?q():k=!1}}}var q;if(typeof L=="function")q=function(){L(B)};else if(typeof MessageChannel<"u"){var at=new MessageChannel,nt=at.port2;at.port1.onmessage=B,q=function(){nt.postMessage(null)}}else q=function(){A(B,0)};function xt(){k||(k=!0,q())}function St(W,lt){O=A(function(){W(t.unstable_now())},lt)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){v||b||(v=!0,xt())},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return i(h)},t.unstable_next=function(W){switch(m){case 1:case 2:case 3:var lt=3;break;default:lt=m}var it=m;m=lt;try{return W()}finally{m=it}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,lt){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var it=m;m=W;try{return lt()}finally{m=it}},t.unstable_scheduleCallback=function(W,lt,it){var ut=t.unstable_now();switch(typeof it=="object"&&it!==null?(it=it.delay,it=typeof it=="number"&&0<it?ut+it:ut):it=ut,W){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=it+w,W={id:p++,callback:lt,priorityLevel:W,startTime:it,expirationTime:w,sortIndex:-1},it>ut?(W.sortIndex=it,e(d,W),i(h)===null&&W===i(d)&&(S?(D(O),O=-1):S=!0,St(N,it-ut))):(W.sortIndex=w,e(h,W),v||b||(v=!0,xt())),W},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(W){var lt=m;return function(){var it=m;m=lt;try{return W.apply(this,arguments)}finally{m=it}}}}(oy)),oy}var LD;function bk(){return LD||(LD=1,ry.exports=yk()),ry.exports}var ly={exports:{}},Ii={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TD;function xk(){if(TD)return Ii;TD=1;var t=E0();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var n={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");function r(h,d,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:h,containerInfo:d,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ii.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ii.createPortal=function(h,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return r(h,d,null,p)},Ii.flushSync=function(h){var d=l.T,p=n.p;try{if(l.T=null,n.p=2,h)return h()}finally{l.T=d,n.p=p,n.d.f()}},Ii.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(h,d))},Ii.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},Ii.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var p=d.as,g=c(p,d.crossOrigin),m=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?n.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:m,fetchPriority:b}):p==="script"&&n.d.X(h,{crossOrigin:g,integrity:m,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ii.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);n.d.M(h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(h)},Ii.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,g=c(p,d.crossOrigin);n.d.L(h,p,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ii.preloadModule=function(h,d){if(typeof h=="string")if(d){var p=c(d.as,d.crossOrigin);n.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(h)},Ii.requestFormReset=function(h){n.d.r(h)},Ii.unstable_batchedUpdates=function(h,d){return h(d)},Ii.useFormState=function(h,d,p){return l.H.useFormState(h,d,p)},Ii.useFormStatus=function(){return l.H.useHostTransitionStatus()},Ii.version="19.0.0",Ii}var ID;function DL(){if(ID)return ly.exports;ID=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ly.exports=xk(),ly.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ND;function vk(){if(ND)return lu;ND=1;var t=bk(),e=E0(),i=DL();function n(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}var r=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),m=Symbol.for("react.consumer"),b=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),N=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function O(a){return a===null||typeof a!="object"?null:(a=k&&a[k]||a["@@iterator"],typeof a=="function"?a:null)}var _=Symbol.for("react.client.reference");function j(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===_?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case h:return"Fragment";case c:return"Portal";case p:return"Profiler";case d:return"StrictMode";case S:return"Suspense";case A:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case b:return(a.displayName||"Context")+".Provider";case m:return(a._context.displayName||"Context")+".Consumer";case v:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case D:return o=a.displayName||null,o!==null?o:j(a.type)||"Memo";case L:o=a._payload,a=a._init;try{return j(a(o))}catch{}}return null}var z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=Object.assign,q,at;function nt(a){if(q===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);q=o&&o[1]||"",at=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+q+a+at}var xt=!1;function St(a,o){if(!a||xt)return"";xt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var st=function(){throw Error()};if(Object.defineProperty(st.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(st,[])}catch(K){var H=K}Reflect.construct(a,[],st)}else{try{st.call()}catch(K){H=K}a.call(st.prototype)}}else{try{throw Error()}catch(K){H=K}(st=a())&&typeof st.catch=="function"&&st.catch(function(){})}}catch(K){if(K&&H&&typeof K.stack=="string")return[K.stack,H.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=f.DetermineComponentFrameRoot(),I=x[0],E=x[1];if(I&&E){var R=I.split(`
`),G=E.split(`
`);for(y=f=0;f<R.length&&!R[f].includes("DetermineComponentFrameRoot");)f++;for(;y<G.length&&!G[y].includes("DetermineComponentFrameRoot");)y++;if(f===R.length||y===G.length)for(f=R.length-1,y=G.length-1;1<=f&&0<=y&&R[f]!==G[y];)y--;for(;1<=f&&0<=y;f--,y--)if(R[f]!==G[y]){if(f!==1||y!==1)do if(f--,y--,0>y||R[f]!==G[y]){var Z=`
`+R[f].replace(" at new "," at ");return a.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",a.displayName)),Z}while(1<=f&&0<=y);break}}}finally{xt=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?nt(u):""}function W(a){switch(a.tag){case 26:case 27:case 5:return nt(a.type);case 16:return nt("Lazy");case 13:return nt("Suspense");case 19:return nt("SuspenseList");case 0:case 15:return a=St(a.type,!1),a;case 11:return a=St(a.type.render,!1),a;case 1:return a=St(a.type,!0),a;default:return""}}function lt(a){try{var o="";do o+=W(a),a=a.return;while(a);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function it(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function ut(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function w(a){if(it(a)!==a)throw Error(n(188))}function U(a){var o=a.alternate;if(!o){if(o=it(a),o===null)throw Error(n(188));return o!==a?null:a}for(var u=a,f=o;;){var y=u.return;if(y===null)break;var x=y.alternate;if(x===null){if(f=y.return,f!==null){u=f;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===u)return w(y),a;if(x===f)return w(y),o;x=x.sibling}throw Error(n(188))}if(u.return!==f.return)u=y,f=x;else{for(var I=!1,E=y.child;E;){if(E===u){I=!0,u=y,f=x;break}if(E===f){I=!0,f=y,u=x;break}E=E.sibling}if(!I){for(E=x.child;E;){if(E===u){I=!0,u=x,f=y;break}if(E===f){I=!0,f=x,u=y;break}E=E.sibling}if(!I)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?a:o}function Q(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=Q(a),o!==null)return o;a=a.sibling}return null}var $=Array.isArray,X=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},ct=[],pt=-1;function J(a){return{current:a}}function et(a){0>pt||(a.current=ct[pt],ct[pt]=null,pt--)}function ht(a,o){pt++,ct[pt]=a.current,a.current=o}var Mt=J(null),wt=J(null),Bt=J(null),Yt=J(null);function Kt(a,o){switch(ht(Bt,o),ht(wt,a),ht(Mt,null),a=o.nodeType,a){case 9:case 11:o=(o=o.documentElement)&&(o=o.namespaceURI)?XS(o):0;break;default:if(a=a===8?o.parentNode:o,o=a.tagName,a=a.namespaceURI)a=XS(a),o=$S(a,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}et(Mt),ht(Mt,o)}function se(){et(Mt),et(wt),et(Bt)}function me(a){a.memoizedState!==null&&ht(Yt,a);var o=Mt.current,u=$S(o,a.type);o!==u&&(ht(wt,a),ht(Mt,u))}function Me(a){wt.current===a&&(et(Mt),et(wt)),Yt.current===a&&(et(Yt),iu._currentValue=dt)}var li=Object.prototype.hasOwnProperty,_e=t.unstable_scheduleCallback,Se=t.unstable_cancelCallback,Ai=t.unstable_shouldYield,zi=t.unstable_requestPaint,Ji=t.unstable_now,jo=t.unstable_getCurrentPriorityLevel,uc=t.unstable_ImmediatePriority,Bx=t.unstable_UserBlockingPriority,jh=t.unstable_NormalPriority,K1=t.unstable_LowPriority,Fx=t.unstable_IdlePriority,Z1=t.log,X1=t.unstable_setDisableYieldValue,hc=null,dn=null;function $1(a){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(hc,a,void 0,(a.current.flags&128)===128)}catch{}}function Oa(a){if(typeof Z1=="function"&&X1(a),dn&&typeof dn.setStrictMode=="function")try{dn.setStrictMode(hc,a)}catch{}}var fn=Math.clz32?Math.clz32:J1,q1=Math.log,Q1=Math.LN2;function J1(a){return a>>>=0,a===0?32:31-(q1(a)/Q1|0)|0}var _h=128,zh=4194304;function Er(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Ph(a,o){var u=a.pendingLanes;if(u===0)return 0;var f=0,y=a.suspendedLanes,x=a.pingedLanes,I=a.warmLanes;a=a.finishedLanes!==0;var E=u&134217727;return E!==0?(u=E&~y,u!==0?f=Er(u):(x&=E,x!==0?f=Er(x):a||(I=E&~I,I!==0&&(f=Er(I))))):(E=u&~y,E!==0?f=Er(E):x!==0?f=Er(x):a||(I=u&~I,I!==0&&(f=Er(I)))),f===0?0:o!==0&&o!==f&&(o&y)===0&&(y=f&-f,I=o&-o,y>=I||y===32&&(I&4194176)!==0)?o:f}function dc(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function tC(a,o){switch(a){case 1:case 2:case 4:case 8:return o+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gx(){var a=_h;return _h<<=1,(_h&4194176)===0&&(_h=128),a}function Ux(){var a=zh;return zh<<=1,(zh&62914560)===0&&(zh=4194304),a}function Qp(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function fc(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function eC(a,o,u,f,y,x){var I=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var E=a.entanglements,R=a.expirationTimes,G=a.hiddenUpdates;for(u=I&~u;0<u;){var Z=31-fn(u),st=1<<Z;E[Z]=0,R[Z]=-1;var H=G[Z];if(H!==null)for(G[Z]=null,Z=0;Z<H.length;Z++){var K=H[Z];K!==null&&(K.lane&=-536870913)}u&=~st}f!==0&&Yx(a,f,0),x!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=x&~(I&~o))}function Yx(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var f=31-fn(o);a.entangledLanes|=o,a.entanglements[f]=a.entanglements[f]|1073741824|u&4194218}function Vx(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var f=31-fn(u),y=1<<f;y&o|a[f]&o&&(a[f]|=o),u&=~y}}function Hx(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Wx(){var a=X.p;return a!==0?a:(a=window.event,a===void 0?32:pD(a.type))}function iC(a,o){var u=X.p;try{return X.p=a,o()}finally{X.p=u}}var Ra=Math.random().toString(36).slice(2),Li="__reactFiber$"+Ra,tn="__reactProps$"+Ra,_o="__reactContainer$"+Ra,Jp="__reactEvents$"+Ra,nC="__reactListeners$"+Ra,sC="__reactHandles$"+Ra,Kx="__reactResources$"+Ra,pc="__reactMarker$"+Ra;function tg(a){delete a[Li],delete a[tn],delete a[Jp],delete a[nC],delete a[sC]}function kr(a){var o=a[Li];if(o)return o;for(var u=a.parentNode;u;){if(o=u[_o]||u[Li]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=JS(a);a!==null;){if(u=a[Li])return u;a=JS(a)}return o}a=u,u=a.parentNode}return null}function zo(a){if(a=a[Li]||a[_o]){var o=a.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return a}return null}function gc(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(n(33))}function Po(a){var o=a[Kx];return o||(o=a[Kx]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function ci(a){a[pc]=!0}var Zx=new Set,Xx={};function wr(a,o){Bo(a,o),Bo(a+"Capture",o)}function Bo(a,o){for(Xx[a]=o,a=0;a<o.length;a++)Zx.add(o[a])}var Gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),aC=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$x={},qx={};function rC(a){return li.call(qx,a)?!0:li.call($x,a)?!1:aC.test(a)?qx[a]=!0:($x[a]=!0,!1)}function Bh(a,o,u){if(rC(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function Fh(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function Us(a,o,u,f){if(f===null)a.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+f)}}function Tn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Qx(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function oC(a){var o=Qx(a)?"checked":"value",u=Object.getOwnPropertyDescriptor(a.constructor.prototype,o),f=""+a[o];if(!a.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,x=u.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(I){f=""+I,x.call(this,I)}}),Object.defineProperty(a,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(I){f=""+I},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Gh(a){a._valueTracker||(a._valueTracker=oC(a))}function Jx(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return a&&(f=Qx(a)?a.checked?"true":"false":a.value),a=f,a!==u?(o.setValue(a),!0):!1}function Uh(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var lC=/[\n"\\]/g;function In(a){return a.replace(lC,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function eg(a,o,u,f,y,x,I,E){a.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?a.type=I:a.removeAttribute("type"),o!=null?I==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Tn(o)):a.value!==""+Tn(o)&&(a.value=""+Tn(o)):I!=="submit"&&I!=="reset"||a.removeAttribute("value"),o!=null?ig(a,I,Tn(o)):u!=null?ig(a,I,Tn(u)):f!=null&&a.removeAttribute("value"),y==null&&x!=null&&(a.defaultChecked=!!x),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?a.name=""+Tn(E):a.removeAttribute("name")}function tv(a,o,u,f,y,x,I,E){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(a.type=x),o!=null||u!=null){if(!(x!=="submit"&&x!=="reset"||o!=null))return;u=u!=null?""+Tn(u):"",o=o!=null?""+Tn(o):u,E||o===a.value||(a.value=o),a.defaultValue=o}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,a.checked=E?a.checked:!!f,a.defaultChecked=!!f,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(a.name=I)}function ig(a,o,u){o==="number"&&Uh(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function Fo(a,o,u,f){if(a=a.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<a.length;u++)y=o.hasOwnProperty("$"+a[u].value),a[u].selected!==y&&(a[u].selected=y),y&&f&&(a[u].defaultSelected=!0)}else{for(u=""+Tn(u),o=null,y=0;y<a.length;y++){if(a[y].value===u){a[y].selected=!0,f&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function ev(a,o,u){if(o!=null&&(o=""+Tn(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+Tn(u):""}function iv(a,o,u,f){if(o==null){if(f!=null){if(u!=null)throw Error(n(92));if($(f)){if(1<f.length)throw Error(n(93));f=f[0]}u=f}u==null&&(u=""),o=u}u=Tn(o),a.defaultValue=u,f=a.textContent,f===u&&f!==""&&f!==null&&(a.value=f)}function Go(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var cC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nv(a,o,u){var f=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":f?a.setProperty(o,u):typeof u!="number"||u===0||cC.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function sv(a,o,u){if(o!=null&&typeof o!="object")throw Error(n(62));if(a=a.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?a.setProperty(f,""):f==="float"?a.cssFloat="":a[f]="");for(var y in o)f=o[y],o.hasOwnProperty(y)&&u[y]!==f&&nv(a,y,f)}else for(var x in o)o.hasOwnProperty(x)&&nv(a,x,o[x])}function ng(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yh(a){return hC.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var sg=null;function ag(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Uo=null,Yo=null;function av(a){var o=zo(a);if(o&&(a=o.stateNode)){var u=a[tn]||null;t:switch(a=o.stateNode,o.type){case"input":if(eg(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+In(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==a&&f.form===a.form){var y=f[tn]||null;if(!y)throw Error(n(90));eg(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)f=u[o],f.form===a.form&&Jx(f)}break t;case"textarea":ev(a,u.value,u.defaultValue);break t;case"select":o=u.value,o!=null&&Fo(a,!!u.multiple,o,!1)}}}var rg=!1;function rv(a,o,u){if(rg)return a(o,u);rg=!0;try{var f=a(o);return f}finally{if(rg=!1,(Uo!==null||Yo!==null)&&(Td(),Uo&&(o=Uo,a=Yo,Yo=Uo=null,av(o),a)))for(o=0;o<a.length;o++)av(a[o])}}function mc(a,o){var u=a.stateNode;if(u===null)return null;var f=u[tn]||null;if(f===null)return null;u=f[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(a=a.type,f=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break t;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var og=!1;if(Gs)try{var yc={};Object.defineProperty(yc,"passive",{get:function(){og=!0}}),window.addEventListener("test",yc,yc),window.removeEventListener("test",yc,yc)}catch{og=!1}var ja=null,lg=null,Vh=null;function ov(){if(Vh)return Vh;var a,o=lg,u=o.length,f,y="value"in ja?ja.value:ja.textContent,x=y.length;for(a=0;a<u&&o[a]===y[a];a++);var I=u-a;for(f=1;f<=I&&o[u-f]===y[x-f];f++);return Vh=y.slice(a,1<f?1-f:void 0)}function Hh(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Wh(){return!0}function lv(){return!1}function en(a){function o(u,f,y,x,I){this._reactName=u,this._targetInst=y,this.type=f,this.nativeEvent=x,this.target=I,this.currentTarget=null;for(var E in a)a.hasOwnProperty(E)&&(u=a[E],this[E]=u?u(x):x[E]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Wh:lv,this.isPropagationStopped=lv,this}return B(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Wh)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Wh)},persist:function(){},isPersistent:Wh}),o}var Or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kh=en(Or),bc=B({},Or,{view:0,detail:0}),dC=en(bc),cg,ug,xc,Zh=B({},bc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dg,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==xc&&(xc&&a.type==="mousemove"?(cg=a.screenX-xc.screenX,ug=a.screenY-xc.screenY):ug=cg=0,xc=a),cg)},movementY:function(a){return"movementY"in a?a.movementY:ug}}),cv=en(Zh),fC=B({},Zh,{dataTransfer:0}),pC=en(fC),gC=B({},bc,{relatedTarget:0}),hg=en(gC),mC=B({},Or,{animationName:0,elapsedTime:0,pseudoElement:0}),yC=en(mC),bC=B({},Or,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),xC=en(bC),vC=B({},Or,{data:0}),uv=en(vC),MC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AC(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=DC[a])?!!o[a]:!1}function dg(){return AC}var LC=B({},bc,{key:function(a){if(a.key){var o=MC[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Hh(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?SC[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dg,charCode:function(a){return a.type==="keypress"?Hh(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Hh(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),TC=en(LC),IC=B({},Zh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hv=en(IC),NC=B({},bc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dg}),CC=en(NC),EC=B({},Or,{propertyName:0,elapsedTime:0,pseudoElement:0}),kC=en(EC),wC=B({},Zh,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),OC=en(wC),RC=B({},Or,{newState:0,oldState:0}),jC=en(RC),_C=[9,13,27,32],fg=Gs&&"CompositionEvent"in window,vc=null;Gs&&"documentMode"in document&&(vc=document.documentMode);var zC=Gs&&"TextEvent"in window&&!vc,dv=Gs&&(!fg||vc&&8<vc&&11>=vc),fv=" ",pv=!1;function gv(a,o){switch(a){case"keyup":return _C.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mv(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Vo=!1;function PC(a,o){switch(a){case"compositionend":return mv(o);case"keypress":return o.which!==32?null:(pv=!0,fv);case"textInput":return a=o.data,a===fv&&pv?null:a;default:return null}}function BC(a,o){if(Vo)return a==="compositionend"||!fg&&gv(a,o)?(a=ov(),Vh=lg=ja=null,Vo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return dv&&o.locale!=="ko"?null:o.data;default:return null}}var FC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yv(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!FC[a.type]:o==="textarea"}function bv(a,o,u,f){Uo?Yo?Yo.push(f):Yo=[f]:Uo=f,o=kd(o,"onChange"),0<o.length&&(u=new Kh("onChange","change",null,u,f),a.push({event:u,listeners:o}))}var Mc=null,Sc=null;function GC(a){VS(a,0)}function Xh(a){var o=gc(a);if(Jx(o))return a}function xv(a,o){if(a==="change")return o}var vv=!1;if(Gs){var pg;if(Gs){var gg="oninput"in document;if(!gg){var Mv=document.createElement("div");Mv.setAttribute("oninput","return;"),gg=typeof Mv.oninput=="function"}pg=gg}else pg=!1;vv=pg&&(!document.documentMode||9<document.documentMode)}function Sv(){Mc&&(Mc.detachEvent("onpropertychange",Dv),Sc=Mc=null)}function Dv(a){if(a.propertyName==="value"&&Xh(Sc)){var o=[];bv(o,Sc,a,ag(a)),rv(GC,o)}}function UC(a,o,u){a==="focusin"?(Sv(),Mc=o,Sc=u,Mc.attachEvent("onpropertychange",Dv)):a==="focusout"&&Sv()}function YC(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Xh(Sc)}function VC(a,o){if(a==="click")return Xh(o)}function HC(a,o){if(a==="input"||a==="change")return Xh(o)}function WC(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var pn=typeof Object.is=="function"?Object.is:WC;function Dc(a,o){if(pn(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var y=u[f];if(!li.call(o,y)||!pn(a[y],o[y]))return!1}return!0}function Av(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Lv(a,o){var u=Av(a);a=0;for(var f;u;){if(u.nodeType===3){if(f=a+u.textContent.length,a<=o&&f>=o)return{node:u,offset:o-a};a=f}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=Av(u)}}function Tv(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?Tv(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function Iv(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Uh(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=Uh(a.document)}return o}function mg(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}function KC(a,o){var u=Iv(o);o=a.focusedElem;var f=a.selectionRange;if(u!==o&&o&&o.ownerDocument&&Tv(o.ownerDocument.documentElement,o)){if(f!==null&&mg(o)){if(a=f.start,u=f.end,u===void 0&&(u=a),"selectionStart"in o)o.selectionStart=a,o.selectionEnd=Math.min(u,o.value.length);else if(u=(a=o.ownerDocument||document)&&a.defaultView||window,u.getSelection){u=u.getSelection();var y=o.textContent.length,x=Math.min(f.start,y);f=f.end===void 0?x:Math.min(f.end,y),!u.extend&&x>f&&(y=f,f=x,x=y),y=Lv(o,x);var I=Lv(o,f);y&&I&&(u.rangeCount!==1||u.anchorNode!==y.node||u.anchorOffset!==y.offset||u.focusNode!==I.node||u.focusOffset!==I.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),u.removeAllRanges(),x>f?(u.addRange(a),u.extend(I.node,I.offset)):(a.setEnd(I.node,I.offset),u.addRange(a)))}}for(a=[],u=o;u=u.parentNode;)u.nodeType===1&&a.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<a.length;o++)u=a[o],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var ZC=Gs&&"documentMode"in document&&11>=document.documentMode,Ho=null,yg=null,Ac=null,bg=!1;function Nv(a,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;bg||Ho==null||Ho!==Uh(f)||(f=Ho,"selectionStart"in f&&mg(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Ac&&Dc(Ac,f)||(Ac=f,f=kd(yg,"onSelect"),0<f.length&&(o=new Kh("onSelect","select",null,o,u),a.push({event:o,listeners:f}),o.target=Ho)))}function Rr(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var Wo={animationend:Rr("Animation","AnimationEnd"),animationiteration:Rr("Animation","AnimationIteration"),animationstart:Rr("Animation","AnimationStart"),transitionrun:Rr("Transition","TransitionRun"),transitionstart:Rr("Transition","TransitionStart"),transitioncancel:Rr("Transition","TransitionCancel"),transitionend:Rr("Transition","TransitionEnd")},xg={},Cv={};Gs&&(Cv=document.createElement("div").style,"AnimationEvent"in window||(delete Wo.animationend.animation,delete Wo.animationiteration.animation,delete Wo.animationstart.animation),"TransitionEvent"in window||delete Wo.transitionend.transition);function jr(a){if(xg[a])return xg[a];if(!Wo[a])return a;var o=Wo[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in Cv)return xg[a]=o[u];return a}var Ev=jr("animationend"),kv=jr("animationiteration"),wv=jr("animationstart"),XC=jr("transitionrun"),$C=jr("transitionstart"),qC=jr("transitioncancel"),Ov=jr("transitionend"),Rv=new Map,jv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function is(a,o){Rv.set(a,o),wr(o,[a])}var Nn=[],Ko=0,vg=0;function $h(){for(var a=Ko,o=vg=Ko=0;o<a;){var u=Nn[o];Nn[o++]=null;var f=Nn[o];Nn[o++]=null;var y=Nn[o];Nn[o++]=null;var x=Nn[o];if(Nn[o++]=null,f!==null&&y!==null){var I=f.pending;I===null?y.next=y:(y.next=I.next,I.next=y),f.pending=y}x!==0&&_v(u,y,x)}}function qh(a,o,u,f){Nn[Ko++]=a,Nn[Ko++]=o,Nn[Ko++]=u,Nn[Ko++]=f,vg|=f,a.lanes|=f,a=a.alternate,a!==null&&(a.lanes|=f)}function Mg(a,o,u,f){return qh(a,o,u,f),Qh(a)}function _a(a,o){return qh(a,null,null,o),Qh(a)}function _v(a,o,u){a.lanes|=u;var f=a.alternate;f!==null&&(f.lanes|=u);for(var y=!1,x=a.return;x!==null;)x.childLanes|=u,f=x.alternate,f!==null&&(f.childLanes|=u),x.tag===22&&(a=x.stateNode,a===null||a._visibility&1||(y=!0)),a=x,x=x.return;y&&o!==null&&a.tag===3&&(x=a.stateNode,y=31-fn(u),x=x.hiddenUpdates,a=x[y],a===null?x[y]=[o]:a.push(o),o.lane=u|536870912)}function Qh(a){if(50<Xc)throw Xc=0,Im=null,Error(n(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Zo={},zv=new WeakMap;function Cn(a,o){if(typeof a=="object"&&a!==null){var u=zv.get(a);return u!==void 0?u:(o={value:a,source:o,stack:lt(o)},zv.set(a,o),o)}return{value:a,source:o,stack:lt(o)}}var Xo=[],$o=0,Jh=null,td=0,En=[],kn=0,_r=null,Ys=1,Vs="";function zr(a,o){Xo[$o++]=td,Xo[$o++]=Jh,Jh=a,td=o}function Pv(a,o,u){En[kn++]=Ys,En[kn++]=Vs,En[kn++]=_r,_r=a;var f=Ys;a=Vs;var y=32-fn(f)-1;f&=~(1<<y),u+=1;var x=32-fn(o)+y;if(30<x){var I=y-y%5;x=(f&(1<<I)-1).toString(32),f>>=I,y-=I,Ys=1<<32-fn(o)+y|u<<y|f,Vs=x+a}else Ys=1<<x|u<<y|f,Vs=a}function Sg(a){a.return!==null&&(zr(a,1),Pv(a,1,0))}function Dg(a){for(;a===Jh;)Jh=Xo[--$o],Xo[$o]=null,td=Xo[--$o],Xo[$o]=null;for(;a===_r;)_r=En[--kn],En[kn]=null,Vs=En[--kn],En[kn]=null,Ys=En[--kn],En[kn]=null}var Pi=null,bi=null,Qt=!1,ns=null,xs=!1,Ag=Error(n(519));function Pr(a){var o=Error(n(418,""));throw Ic(Cn(o,a)),Ag}function Bv(a){var o=a.stateNode,u=a.type,f=a.memoizedProps;switch(o[Li]=a,o[tn]=f,u){case"dialog":Vt("cancel",o),Vt("close",o);break;case"iframe":case"object":case"embed":Vt("load",o);break;case"video":case"audio":for(u=0;u<qc.length;u++)Vt(qc[u],o);break;case"source":Vt("error",o);break;case"img":case"image":case"link":Vt("error",o),Vt("load",o);break;case"details":Vt("toggle",o);break;case"input":Vt("invalid",o),tv(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Gh(o);break;case"select":Vt("invalid",o);break;case"textarea":Vt("invalid",o),iv(o,f.value,f.defaultValue,f.children),Gh(o)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||f.suppressHydrationWarning===!0||ZS(o.textContent,u)?(f.popover!=null&&(Vt("beforetoggle",o),Vt("toggle",o)),f.onScroll!=null&&Vt("scroll",o),f.onScrollEnd!=null&&Vt("scrollend",o),f.onClick!=null&&(o.onclick=wd),o=!0):o=!1,o||Pr(a)}function Fv(a){for(Pi=a.return;Pi;)switch(Pi.tag){case 3:case 27:xs=!0;return;case 5:case 13:xs=!1;return;default:Pi=Pi.return}}function Lc(a){if(a!==Pi)return!1;if(!Qt)return Fv(a),Qt=!0,!1;var o=!1,u;if((u=a.tag!==3&&a.tag!==27)&&((u=a.tag===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||Vm(a.type,a.memoizedProps)),u=!u),u&&(o=!0),o&&bi&&Pr(a),Fv(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));t:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8)if(u=a.data,u==="/$"){if(o===0){bi=as(a.nextSibling);break t}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;a=a.nextSibling}bi=null}}else bi=Pi?as(a.stateNode.nextSibling):null;return!0}function Tc(){bi=Pi=null,Qt=!1}function Ic(a){ns===null?ns=[a]:ns.push(a)}var Nc=Error(n(460)),Gv=Error(n(474)),Lg={then:function(){}};function Uv(a){return a=a.status,a==="fulfilled"||a==="rejected"}function ed(){}function Yv(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(ed,ed),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,a===Nc?Error(n(483)):a;default:if(typeof o.status=="string")o.then(ed,ed);else{if(a=ye,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=o,a.status="pending",a.then(function(f){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=f}},function(f){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,a===Nc?Error(n(483)):a}throw Cc=o,Nc}}var Cc=null;function Vv(){if(Cc===null)throw Error(n(459));var a=Cc;return Cc=null,a}var qo=null,Ec=0;function id(a){var o=Ec;return Ec+=1,qo===null&&(qo=[]),Yv(qo,a,o)}function kc(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function nd(a,o){throw o.$$typeof===r?Error(n(525)):(a=Object.prototype.toString.call(o),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function Hv(a){var o=a._init;return o(a._payload)}function Wv(a){function o(Y,F){if(a){var V=Y.deletions;V===null?(Y.deletions=[F],Y.flags|=16):V.push(F)}}function u(Y,F){if(!a)return null;for(;F!==null;)o(Y,F),F=F.sibling;return null}function f(Y){for(var F=new Map;Y!==null;)Y.key!==null?F.set(Y.key,Y):F.set(Y.index,Y),Y=Y.sibling;return F}function y(Y,F){return Y=Za(Y,F),Y.index=0,Y.sibling=null,Y}function x(Y,F,V){return Y.index=V,a?(V=Y.alternate,V!==null?(V=V.index,V<F?(Y.flags|=33554434,F):V):(Y.flags|=33554434,F)):(Y.flags|=1048576,F)}function I(Y){return a&&Y.alternate===null&&(Y.flags|=33554434),Y}function E(Y,F,V,tt){return F===null||F.tag!==6?(F=xm(V,Y.mode,tt),F.return=Y,F):(F=y(F,V),F.return=Y,F)}function R(Y,F,V,tt){var vt=V.type;return vt===h?Z(Y,F,V.props.children,tt,V.key):F!==null&&(F.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===L&&Hv(vt)===F.type)?(F=y(F,V.props),kc(F,V),F.return=Y,F):(F=Md(V.type,V.key,V.props,null,Y.mode,tt),kc(F,V),F.return=Y,F)}function G(Y,F,V,tt){return F===null||F.tag!==4||F.stateNode.containerInfo!==V.containerInfo||F.stateNode.implementation!==V.implementation?(F=vm(V,Y.mode,tt),F.return=Y,F):(F=y(F,V.children||[]),F.return=Y,F)}function Z(Y,F,V,tt,vt){return F===null||F.tag!==7?(F=Zr(V,Y.mode,tt,vt),F.return=Y,F):(F=y(F,V),F.return=Y,F)}function st(Y,F,V){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=xm(""+F,Y.mode,V),F.return=Y,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case l:return V=Md(F.type,F.key,F.props,null,Y.mode,V),kc(V,F),V.return=Y,V;case c:return F=vm(F,Y.mode,V),F.return=Y,F;case L:var tt=F._init;return F=tt(F._payload),st(Y,F,V)}if($(F)||O(F))return F=Zr(F,Y.mode,V,null),F.return=Y,F;if(typeof F.then=="function")return st(Y,id(F),V);if(F.$$typeof===b)return st(Y,bd(Y,F),V);nd(Y,F)}return null}function H(Y,F,V,tt){var vt=F!==null?F.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return vt!==null?null:E(Y,F,""+V,tt);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case l:return V.key===vt?R(Y,F,V,tt):null;case c:return V.key===vt?G(Y,F,V,tt):null;case L:return vt=V._init,V=vt(V._payload),H(Y,F,V,tt)}if($(V)||O(V))return vt!==null?null:Z(Y,F,V,tt,null);if(typeof V.then=="function")return H(Y,F,id(V),tt);if(V.$$typeof===b)return H(Y,F,bd(Y,V),tt);nd(Y,V)}return null}function K(Y,F,V,tt,vt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return Y=Y.get(V)||null,E(F,Y,""+tt,vt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case l:return Y=Y.get(tt.key===null?V:tt.key)||null,R(F,Y,tt,vt);case c:return Y=Y.get(tt.key===null?V:tt.key)||null,G(F,Y,tt,vt);case L:var Pt=tt._init;return tt=Pt(tt._payload),K(Y,F,V,tt,vt)}if($(tt)||O(tt))return Y=Y.get(V)||null,Z(F,Y,tt,vt,null);if(typeof tt.then=="function")return K(Y,F,V,id(tt),vt);if(tt.$$typeof===b)return K(Y,F,V,bd(F,tt),vt);nd(F,tt)}return null}function Dt(Y,F,V,tt){for(var vt=null,Pt=null,Lt=F,It=F=0,di=null;Lt!==null&&It<V.length;It++){Lt.index>It?(di=Lt,Lt=null):di=Lt.sibling;var Jt=H(Y,Lt,V[It],tt);if(Jt===null){Lt===null&&(Lt=di);break}a&&Lt&&Jt.alternate===null&&o(Y,Lt),F=x(Jt,F,It),Pt===null?vt=Jt:Pt.sibling=Jt,Pt=Jt,Lt=di}if(It===V.length)return u(Y,Lt),Qt&&zr(Y,It),vt;if(Lt===null){for(;It<V.length;It++)Lt=st(Y,V[It],tt),Lt!==null&&(F=x(Lt,F,It),Pt===null?vt=Lt:Pt.sibling=Lt,Pt=Lt);return Qt&&zr(Y,It),vt}for(Lt=f(Lt);It<V.length;It++)di=K(Lt,Y,It,V[It],tt),di!==null&&(a&&di.alternate!==null&&Lt.delete(di.key===null?It:di.key),F=x(di,F,It),Pt===null?vt=di:Pt.sibling=di,Pt=di);return a&&Lt.forEach(function(er){return o(Y,er)}),Qt&&zr(Y,It),vt}function kt(Y,F,V,tt){if(V==null)throw Error(n(151));for(var vt=null,Pt=null,Lt=F,It=F=0,di=null,Jt=V.next();Lt!==null&&!Jt.done;It++,Jt=V.next()){Lt.index>It?(di=Lt,Lt=null):di=Lt.sibling;var er=H(Y,Lt,Jt.value,tt);if(er===null){Lt===null&&(Lt=di);break}a&&Lt&&er.alternate===null&&o(Y,Lt),F=x(er,F,It),Pt===null?vt=er:Pt.sibling=er,Pt=er,Lt=di}if(Jt.done)return u(Y,Lt),Qt&&zr(Y,It),vt;if(Lt===null){for(;!Jt.done;It++,Jt=V.next())Jt=st(Y,Jt.value,tt),Jt!==null&&(F=x(Jt,F,It),Pt===null?vt=Jt:Pt.sibling=Jt,Pt=Jt);return Qt&&zr(Y,It),vt}for(Lt=f(Lt);!Jt.done;It++,Jt=V.next())Jt=K(Lt,Y,It,Jt.value,tt),Jt!==null&&(a&&Jt.alternate!==null&&Lt.delete(Jt.key===null?It:Jt.key),F=x(Jt,F,It),Pt===null?vt=Jt:Pt.sibling=Jt,Pt=Jt);return a&&Lt.forEach(function(hk){return o(Y,hk)}),Qt&&zr(Y,It),vt}function je(Y,F,V,tt){if(typeof V=="object"&&V!==null&&V.type===h&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case l:t:{for(var vt=V.key;F!==null;){if(F.key===vt){if(vt=V.type,vt===h){if(F.tag===7){u(Y,F.sibling),tt=y(F,V.props.children),tt.return=Y,Y=tt;break t}}else if(F.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===L&&Hv(vt)===F.type){u(Y,F.sibling),tt=y(F,V.props),kc(tt,V),tt.return=Y,Y=tt;break t}u(Y,F);break}else o(Y,F);F=F.sibling}V.type===h?(tt=Zr(V.props.children,Y.mode,tt,V.key),tt.return=Y,Y=tt):(tt=Md(V.type,V.key,V.props,null,Y.mode,tt),kc(tt,V),tt.return=Y,Y=tt)}return I(Y);case c:t:{for(vt=V.key;F!==null;){if(F.key===vt)if(F.tag===4&&F.stateNode.containerInfo===V.containerInfo&&F.stateNode.implementation===V.implementation){u(Y,F.sibling),tt=y(F,V.children||[]),tt.return=Y,Y=tt;break t}else{u(Y,F);break}else o(Y,F);F=F.sibling}tt=vm(V,Y.mode,tt),tt.return=Y,Y=tt}return I(Y);case L:return vt=V._init,V=vt(V._payload),je(Y,F,V,tt)}if($(V))return Dt(Y,F,V,tt);if(O(V)){if(vt=O(V),typeof vt!="function")throw Error(n(150));return V=vt.call(V),kt(Y,F,V,tt)}if(typeof V.then=="function")return je(Y,F,id(V),tt);if(V.$$typeof===b)return je(Y,F,bd(Y,V),tt);nd(Y,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,F!==null&&F.tag===6?(u(Y,F.sibling),tt=y(F,V),tt.return=Y,Y=tt):(u(Y,F),tt=xm(V,Y.mode,tt),tt.return=Y,Y=tt),I(Y)):u(Y,F)}return function(Y,F,V,tt){try{Ec=0;var vt=je(Y,F,V,tt);return qo=null,vt}catch(Lt){if(Lt===Nc)throw Lt;var Pt=jn(29,Lt,null,Y.mode);return Pt.lanes=tt,Pt.return=Y,Pt}finally{}}}var Br=Wv(!0),Kv=Wv(!1),Qo=J(null),sd=J(0);function Zv(a,o){a=ea,ht(sd,a),ht(Qo,o),ea=a|o.baseLanes}function Tg(){ht(sd,ea),ht(Qo,Qo.current)}function Ig(){ea=sd.current,et(Qo),et(sd)}var wn=J(null),vs=null;function za(a){var o=a.alternate;ht(ei,ei.current&1),ht(wn,a),vs===null&&(o===null||Qo.current!==null||o.memoizedState!==null)&&(vs=a)}function Xv(a){if(a.tag===22){if(ht(ei,ei.current),ht(wn,a),vs===null){var o=a.alternate;o!==null&&o.memoizedState!==null&&(vs=a)}}else Pa()}function Pa(){ht(ei,ei.current),ht(wn,wn.current)}function Hs(a){et(wn),vs===a&&(vs=null),et(ei)}var ei=J(0);function ad(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var QC=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,f){a.push(f)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},JC=t.unstable_scheduleCallback,tE=t.unstable_NormalPriority,ii={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ng(){return{controller:new QC,data:new Map,refCount:0}}function wc(a){a.refCount--,a.refCount===0&&JC(tE,function(){a.controller.abort()})}var Oc=null,Cg=0,Jo=0,tl=null;function eE(a,o){if(Oc===null){var u=Oc=[];Cg=0,Jo=jm(),tl={status:"pending",value:void 0,then:function(f){u.push(f)}}}return Cg++,o.then($v,$v),o}function $v(){if(--Cg===0&&Oc!==null){tl!==null&&(tl.status="fulfilled");var a=Oc;Oc=null,Jo=0,tl=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function iE(a,o){var u=[],f={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return a.then(function(){f.status="fulfilled",f.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(f.status="rejected",f.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),f}var qv=z.S;z.S=function(a,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&eE(a,o),qv!==null&&qv(a,o)};var Fr=J(null);function Eg(){var a=Fr.current;return a!==null?a:ye.pooledCache}function rd(a,o){o===null?ht(Fr,Fr.current):ht(Fr,o.pool)}function Qv(){var a=Eg();return a===null?null:{parent:ii._currentValue,pool:a}}var Ba=0,_t=null,re=null,He=null,od=!1,el=!1,Gr=!1,ld=0,Rc=0,il=null,nE=0;function ze(){throw Error(n(321))}function kg(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!pn(a[u],o[u]))return!1;return!0}function wg(a,o,u,f,y,x){return Ba=x,_t=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,z.H=a===null||a.memoizedState===null?Ur:Fa,Gr=!1,x=u(f,y),Gr=!1,el&&(x=tM(o,u,f,y)),Jv(a),x}function Jv(a){z.H=Ms;var o=re!==null&&re.next!==null;if(Ba=0,He=re=_t=null,od=!1,Rc=0,il=null,o)throw Error(n(300));a===null||ui||(a=a.dependencies,a!==null&&yd(a)&&(ui=!0))}function tM(a,o,u,f){_t=a;var y=0;do{if(el&&(il=null),Rc=0,el=!1,25<=y)throw Error(n(301));if(y+=1,He=re=null,a.updateQueue!=null){var x=a.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}z.H=Yr,x=o(u,f)}while(el);return x}function sE(){var a=z.H,o=a.useState()[0];return o=typeof o.then=="function"?jc(o):o,a=a.useState()[0],(re!==null?re.memoizedState:null)!==a&&(_t.flags|=1024),o}function Og(){var a=ld!==0;return ld=0,a}function Rg(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function jg(a){if(od){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}od=!1}Ba=0,He=re=_t=null,el=!1,Rc=ld=0,il=null}function nn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?_t.memoizedState=He=a:He=He.next=a,He}function We(){if(re===null){var a=_t.alternate;a=a!==null?a.memoizedState:null}else a=re.next;var o=He===null?_t.memoizedState:He.next;if(o!==null)He=o,re=a;else{if(a===null)throw _t.alternate===null?Error(n(467)):Error(n(310));re=a,a={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},He===null?_t.memoizedState=He=a:He=He.next=a}return He}var cd;cd=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function jc(a){var o=Rc;return Rc+=1,il===null&&(il=[]),a=Yv(il,a,o),o=_t,(He===null?o.memoizedState:He.next)===null&&(o=o.alternate,z.H=o===null||o.memoizedState===null?Ur:Fa),a}function ud(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return jc(a);if(a.$$typeof===b)return Ti(a)}throw Error(n(438,String(a)))}function _g(a){var o=null,u=_t.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var f=_t.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=cd(),_t.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),f=0;f<a;f++)u[f]=N;return o.index++,u}function Ws(a,o){return typeof o=="function"?o(a):o}function hd(a){var o=We();return zg(o,re,a)}function zg(a,o,u){var f=a.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=u;var y=a.baseQueue,x=f.pending;if(x!==null){if(y!==null){var I=y.next;y.next=x.next,x.next=I}o.baseQueue=y=x,f.pending=null}if(x=a.baseState,y===null)a.memoizedState=x;else{o=y.next;var E=I=null,R=null,G=o,Z=!1;do{var st=G.lane&-536870913;if(st!==G.lane?(Zt&st)===st:(Ba&st)===st){var H=G.revertLane;if(H===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),st===Jo&&(Z=!0);else if((Ba&H)===H){G=G.next,H===Jo&&(Z=!0);continue}else st={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},R===null?(E=R=st,I=x):R=R.next=st,_t.lanes|=H,Xa|=H;st=G.action,Gr&&u(x,st),x=G.hasEagerState?G.eagerState:u(x,st)}else H={lane:st,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},R===null?(E=R=H,I=x):R=R.next=H,_t.lanes|=st,Xa|=st;G=G.next}while(G!==null&&G!==o);if(R===null?I=x:R.next=E,!pn(x,a.memoizedState)&&(ui=!0,Z&&(u=tl,u!==null)))throw u;a.memoizedState=x,a.baseState=I,a.baseQueue=R,f.lastRenderedState=x}return y===null&&(f.lanes=0),[a.memoizedState,f.dispatch]}function Pg(a){var o=We(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=a;var f=u.dispatch,y=u.pending,x=o.memoizedState;if(y!==null){u.pending=null;var I=y=y.next;do x=a(x,I.action),I=I.next;while(I!==y);pn(x,o.memoizedState)||(ui=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),u.lastRenderedState=x}return[x,f]}function eM(a,o,u){var f=_t,y=We(),x=Qt;if(x){if(u===void 0)throw Error(n(407));u=u()}else u=o();var I=!pn((re||y).memoizedState,u);if(I&&(y.memoizedState=u,ui=!0),y=y.queue,Gg(sM.bind(null,f,y,a),[a]),y.getSnapshot!==o||I||He!==null&&He.memoizedState.tag&1){if(f.flags|=2048,nl(9,nM.bind(null,f,y,u,o),{destroy:void 0},null),ye===null)throw Error(n(349));x||(Ba&60)!==0||iM(f,o,u)}return u}function iM(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=_t.updateQueue,o===null?(o=cd(),_t.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function nM(a,o,u,f){o.value=u,o.getSnapshot=f,aM(o)&&rM(a)}function sM(a,o,u){return u(function(){aM(o)&&rM(a)})}function aM(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!pn(a,u)}catch{return!0}}function rM(a){var o=_a(a,2);o!==null&&Bi(o,a,2)}function Bg(a){var o=nn();if(typeof a=="function"){var u=a;if(a=u(),Gr){Oa(!0);try{u()}finally{Oa(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:a},o}function oM(a,o,u,f){return a.baseState=u,zg(a,re,typeof f=="function"?f:Ws)}function aE(a,o,u,f,y){if(pd(a))throw Error(n(485));if(a=o.action,a!==null){var x={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){x.listeners.push(I)}};z.T!==null?u(!0):x.isTransition=!1,f(x),u=o.pending,u===null?(x.next=o.pending=x,lM(o,x)):(x.next=u.next,o.pending=u.next=x)}}function lM(a,o){var u=o.action,f=o.payload,y=a.state;if(o.isTransition){var x=z.T,I={};z.T=I;try{var E=u(y,f),R=z.S;R!==null&&R(I,E),cM(a,o,E)}catch(G){Fg(a,o,G)}finally{z.T=x}}else try{x=u(y,f),cM(a,o,x)}catch(G){Fg(a,o,G)}}function cM(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){uM(a,o,f)},function(f){return Fg(a,o,f)}):uM(a,o,u)}function uM(a,o,u){o.status="fulfilled",o.value=u,hM(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,lM(a,u)))}function Fg(a,o,u){var f=a.pending;if(a.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=u,hM(o),o=o.next;while(o!==f)}a.action=null}function hM(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function dM(a,o){return o}function fM(a,o){if(Qt){var u=ye.formState;if(u!==null){t:{var f=_t;if(Qt){if(bi){e:{for(var y=bi,x=xs;y.nodeType!==8;){if(!x){y=null;break e}if(y=as(y.nextSibling),y===null){y=null;break e}}x=y.data,y=x==="F!"||x==="F"?y:null}if(y){bi=as(y.nextSibling),f=y.data==="F!";break t}}Pr(f)}f=!1}f&&(o=u[0])}}return u=nn(),u.memoizedState=u.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dM,lastRenderedState:o},u.queue=f,u=kM.bind(null,_t,f),f.dispatch=u,f=Bg(!1),x=Wg.bind(null,_t,!1,f.queue),f=nn(),y={state:o,dispatch:null,action:a,pending:null},f.queue=y,u=aE.bind(null,_t,y,x,u),y.dispatch=u,f.memoizedState=a,[o,u,!1]}function pM(a){var o=We();return gM(o,re,a)}function gM(a,o,u){o=zg(a,o,dM)[0],a=hd(Ws)[0],o=typeof o=="object"&&o!==null&&typeof o.then=="function"?jc(o):o;var f=We(),y=f.queue,x=y.dispatch;return u!==f.memoizedState&&(_t.flags|=2048,nl(9,rE.bind(null,y,u),{destroy:void 0},null)),[o,x,a]}function rE(a,o){a.action=o}function mM(a){var o=We(),u=re;if(u!==null)return gM(o,u,a);We(),o=o.memoizedState,u=We();var f=u.queue.dispatch;return u.memoizedState=a,[o,f,!1]}function nl(a,o,u,f){return a={tag:a,create:o,inst:u,deps:f,next:null},o=_t.updateQueue,o===null&&(o=cd(),_t.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(f=u.next,u.next=a,a.next=f,o.lastEffect=a),a}function yM(){return We().memoizedState}function dd(a,o,u,f){var y=nn();_t.flags|=a,y.memoizedState=nl(1|o,u,{destroy:void 0},f===void 0?null:f)}function fd(a,o,u,f){var y=We();f=f===void 0?null:f;var x=y.memoizedState.inst;re!==null&&f!==null&&kg(f,re.memoizedState.deps)?y.memoizedState=nl(o,u,x,f):(_t.flags|=a,y.memoizedState=nl(1|o,u,x,f))}function bM(a,o){dd(8390656,8,a,o)}function Gg(a,o){fd(2048,8,a,o)}function xM(a,o){return fd(4,2,a,o)}function vM(a,o){return fd(4,4,a,o)}function MM(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function SM(a,o,u){u=u!=null?u.concat([a]):null,fd(4,4,MM.bind(null,o,a),u)}function Ug(){}function DM(a,o){var u=We();o=o===void 0?null:o;var f=u.memoizedState;return o!==null&&kg(o,f[1])?f[0]:(u.memoizedState=[a,o],a)}function AM(a,o){var u=We();o=o===void 0?null:o;var f=u.memoizedState;if(o!==null&&kg(o,f[1]))return f[0];if(f=a(),Gr){Oa(!0);try{a()}finally{Oa(!1)}}return u.memoizedState=[f,o],f}function Yg(a,o,u){return u===void 0||(Ba&1073741824)!==0?a.memoizedState=o:(a.memoizedState=u,a=TS(),_t.lanes|=a,Xa|=a,u)}function LM(a,o,u,f){return pn(u,o)?u:Qo.current!==null?(a=Yg(a,u,f),pn(a,o)||(ui=!0),a):(Ba&42)===0?(ui=!0,a.memoizedState=u):(a=TS(),_t.lanes|=a,Xa|=a,o)}function TM(a,o,u,f,y){var x=X.p;X.p=x!==0&&8>x?x:8;var I=z.T,E={};z.T=E,Wg(a,!1,o,u);try{var R=y(),G=z.S;if(G!==null&&G(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Z=iE(R,f);_c(a,o,Z,bn(a))}else _c(a,o,f,bn(a))}catch(st){_c(a,o,{then:function(){},status:"rejected",reason:st},bn())}finally{X.p=x,z.T=I}}function oE(){}function Vg(a,o,u,f){if(a.tag!==5)throw Error(n(476));var y=IM(a).queue;TM(a,y,o,dt,u===null?oE:function(){return NM(a),u(f)})}function IM(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:dt},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function NM(a){var o=IM(a).next.queue;_c(a,o,{},bn())}function Hg(){return Ti(iu)}function CM(){return We().memoizedState}function EM(){return We().memoizedState}function lE(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=bn();a=Ya(u);var f=Va(o,a,u);f!==null&&(Bi(f,o,u),Bc(f,o,u)),o={cache:Ng()},a.payload=o;return}o=o.return}}function cE(a,o,u){var f=bn();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},pd(a)?wM(o,u):(u=Mg(a,o,u,f),u!==null&&(Bi(u,a,f),OM(u,o,f)))}function kM(a,o,u){var f=bn();_c(a,o,u,f)}function _c(a,o,u,f){var y={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(pd(a))wM(o,y);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var I=o.lastRenderedState,E=x(I,u);if(y.hasEagerState=!0,y.eagerState=E,pn(E,I))return qh(a,o,y,0),ye===null&&$h(),!1}catch{}finally{}if(u=Mg(a,o,y,f),u!==null)return Bi(u,a,f),OM(u,o,f),!0}return!1}function Wg(a,o,u,f){if(f={lane:2,revertLane:jm(),action:f,hasEagerState:!1,eagerState:null,next:null},pd(a)){if(o)throw Error(n(479))}else o=Mg(a,u,f,2),o!==null&&Bi(o,a,2)}function pd(a){var o=a.alternate;return a===_t||o!==null&&o===_t}function wM(a,o){el=od=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function OM(a,o,u){if((u&4194176)!==0){var f=o.lanes;f&=a.pendingLanes,u|=f,o.lanes=u,Vx(a,u)}}var Ms={readContext:Ti,use:ud,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useLayoutEffect:ze,useInsertionEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useSyncExternalStore:ze,useId:ze};Ms.useCacheRefresh=ze,Ms.useMemoCache=ze,Ms.useHostTransitionStatus=ze,Ms.useFormState=ze,Ms.useActionState=ze,Ms.useOptimistic=ze;var Ur={readContext:Ti,use:ud,useCallback:function(a,o){return nn().memoizedState=[a,o===void 0?null:o],a},useContext:Ti,useEffect:bM,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,dd(4194308,4,MM.bind(null,o,a),u)},useLayoutEffect:function(a,o){return dd(4194308,4,a,o)},useInsertionEffect:function(a,o){dd(4,2,a,o)},useMemo:function(a,o){var u=nn();o=o===void 0?null:o;var f=a();if(Gr){Oa(!0);try{a()}finally{Oa(!1)}}return u.memoizedState=[f,o],f},useReducer:function(a,o,u){var f=nn();if(u!==void 0){var y=u(o);if(Gr){Oa(!0);try{u(o)}finally{Oa(!1)}}}else y=o;return f.memoizedState=f.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},f.queue=a,a=a.dispatch=cE.bind(null,_t,a),[f.memoizedState,a]},useRef:function(a){var o=nn();return a={current:a},o.memoizedState=a},useState:function(a){a=Bg(a);var o=a.queue,u=kM.bind(null,_t,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:Ug,useDeferredValue:function(a,o){var u=nn();return Yg(u,a,o)},useTransition:function(){var a=Bg(!1);return a=TM.bind(null,_t,a.queue,!0,!1),nn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var f=_t,y=nn();if(Qt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),ye===null)throw Error(n(349));(Zt&60)!==0||iM(f,o,u)}y.memoizedState=u;var x={value:u,getSnapshot:o};return y.queue=x,bM(sM.bind(null,f,x,a),[a]),f.flags|=2048,nl(9,nM.bind(null,f,x,u,o),{destroy:void 0},null),u},useId:function(){var a=nn(),o=ye.identifierPrefix;if(Qt){var u=Vs,f=Ys;u=(f&~(1<<32-fn(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=ld++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=nE++,o=":"+o+"r"+u.toString(32)+":";return a.memoizedState=o},useCacheRefresh:function(){return nn().memoizedState=lE.bind(null,_t)}};Ur.useMemoCache=_g,Ur.useHostTransitionStatus=Hg,Ur.useFormState=fM,Ur.useActionState=fM,Ur.useOptimistic=function(a){var o=nn();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Wg.bind(null,_t,!0,u),u.dispatch=o,[a,o]};var Fa={readContext:Ti,use:ud,useCallback:DM,useContext:Ti,useEffect:Gg,useImperativeHandle:SM,useInsertionEffect:xM,useLayoutEffect:vM,useMemo:AM,useReducer:hd,useRef:yM,useState:function(){return hd(Ws)},useDebugValue:Ug,useDeferredValue:function(a,o){var u=We();return LM(u,re.memoizedState,a,o)},useTransition:function(){var a=hd(Ws)[0],o=We().memoizedState;return[typeof a=="boolean"?a:jc(a),o]},useSyncExternalStore:eM,useId:CM};Fa.useCacheRefresh=EM,Fa.useMemoCache=_g,Fa.useHostTransitionStatus=Hg,Fa.useFormState=pM,Fa.useActionState=pM,Fa.useOptimistic=function(a,o){var u=We();return oM(u,re,a,o)};var Yr={readContext:Ti,use:ud,useCallback:DM,useContext:Ti,useEffect:Gg,useImperativeHandle:SM,useInsertionEffect:xM,useLayoutEffect:vM,useMemo:AM,useReducer:Pg,useRef:yM,useState:function(){return Pg(Ws)},useDebugValue:Ug,useDeferredValue:function(a,o){var u=We();return re===null?Yg(u,a,o):LM(u,re.memoizedState,a,o)},useTransition:function(){var a=Pg(Ws)[0],o=We().memoizedState;return[typeof a=="boolean"?a:jc(a),o]},useSyncExternalStore:eM,useId:CM};Yr.useCacheRefresh=EM,Yr.useMemoCache=_g,Yr.useHostTransitionStatus=Hg,Yr.useFormState=mM,Yr.useActionState=mM,Yr.useOptimistic=function(a,o){var u=We();return re!==null?oM(u,re,a,o):(u.baseState=a,[a,u.queue.dispatch])};function Kg(a,o,u,f){o=a.memoizedState,u=u(f,o),u=u==null?o:B({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Zg={isMounted:function(a){return(a=a._reactInternals)?it(a)===a:!1},enqueueSetState:function(a,o,u){a=a._reactInternals;var f=bn(),y=Ya(f);y.payload=o,u!=null&&(y.callback=u),o=Va(a,y,f),o!==null&&(Bi(o,a,f),Bc(o,a,f))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var f=bn(),y=Ya(f);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=Va(a,y,f),o!==null&&(Bi(o,a,f),Bc(o,a,f))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=bn(),f=Ya(u);f.tag=2,o!=null&&(f.callback=o),o=Va(a,f,u),o!==null&&(Bi(o,a,u),Bc(o,a,u))}};function RM(a,o,u,f,y,x,I){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,x,I):o.prototype&&o.prototype.isPureReactComponent?!Dc(u,f)||!Dc(y,x):!0}function jM(a,o,u,f){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==a&&Zg.enqueueReplaceState(o,o.state,null)}function Vr(a,o){var u=o;if("ref"in o){u={};for(var f in o)f!=="ref"&&(u[f]=o[f])}if(a=a.defaultProps){u===o&&(u=B({},u));for(var y in a)u[y]===void 0&&(u[y]=a[y])}return u}var gd=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function _M(a){gd(a)}function zM(a){console.error(a)}function PM(a){gd(a)}function md(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function BM(a,o,u){try{var f=a.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Xg(a,o,u){return u=Ya(u),u.tag=3,u.payload={element:null},u.callback=function(){md(a,o)},u}function FM(a){return a=Ya(a),a.tag=3,a}function GM(a,o,u,f){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var x=f.value;a.payload=function(){return y(x)},a.callback=function(){BM(o,u,f)}}var I=u.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(a.callback=function(){BM(o,u,f),typeof y!="function"&&($a===null?$a=new Set([this]):$a.add(this));var E=f.stack;this.componentDidCatch(f.value,{componentStack:E!==null?E:""})})}function uE(a,o,u,f,y){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=u.alternate,o!==null&&Pc(o,u,y,!0),u=wn.current,u!==null){switch(u.tag){case 13:return vs===null?Em():u.alternate===null&&Re===0&&(Re=3),u.flags&=-257,u.flags|=65536,u.lanes=y,f===Lg?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([f]):o.add(f),wm(a,f,y)),!1;case 22:return u.flags|=65536,f===Lg?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([f]):u.add(f)),wm(a,f,y)),!1}throw Error(n(435,u.tag))}return wm(a,f,y),Em(),!1}if(Qt)return o=wn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,f!==Ag&&(a=Error(n(422),{cause:f}),Ic(Cn(a,u)))):(f!==Ag&&(o=Error(n(423),{cause:f}),Ic(Cn(o,u))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,f=Cn(f,u),y=Xg(a.stateNode,f,y),um(a,y),Re!==4&&(Re=2)),!1;var x=Error(n(520),{cause:f});if(x=Cn(x,u),Kc===null?Kc=[x]:Kc.push(x),Re!==4&&(Re=2),o===null)return!0;f=Cn(f,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=y&-y,u.lanes|=a,a=Xg(u.stateNode,f,a),um(u,a),!1;case 1:if(o=u.type,x=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&($a===null||!$a.has(x))))return u.flags|=65536,y&=-y,u.lanes|=y,y=FM(y),GM(y,a,u,f),um(u,y),!1}u=u.return}while(u!==null);return!1}var UM=Error(n(461)),ui=!1;function xi(a,o,u,f){o.child=a===null?Kv(o,null,u,f):Br(o,a.child,u,f)}function YM(a,o,u,f,y){u=u.render;var x=o.ref;if("ref"in f){var I={};for(var E in f)E!=="ref"&&(I[E]=f[E])}else I=f;return Wr(o),f=wg(a,o,u,I,x,y),E=Og(),a!==null&&!ui?(Rg(a,o,y),Ks(a,o,y)):(Qt&&E&&Sg(o),o.flags|=1,xi(a,o,f,y),o.child)}function VM(a,o,u,f,y){if(a===null){var x=u.type;return typeof x=="function"&&!bm(x)&&x.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=x,HM(a,o,x,f,y)):(a=Md(u.type,null,f,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(x=a.child,!sm(a,y)){var I=x.memoizedProps;if(u=u.compare,u=u!==null?u:Dc,u(I,f)&&a.ref===o.ref)return Ks(a,o,y)}return o.flags|=1,a=Za(x,f),a.ref=o.ref,a.return=o,o.child=a}function HM(a,o,u,f,y){if(a!==null){var x=a.memoizedProps;if(Dc(x,f)&&a.ref===o.ref)if(ui=!1,o.pendingProps=f=x,sm(a,y))(a.flags&131072)!==0&&(ui=!0);else return o.lanes=a.lanes,Ks(a,o,y)}return $g(a,o,u,f,y)}function WM(a,o,u){var f=o.pendingProps,y=f.children,x=(o.stateNode._pendingVisibility&2)!==0,I=a!==null?a.memoizedState:null;if(zc(a,o),f.mode==="hidden"||x){if((o.flags&128)!==0){if(f=I!==null?I.baseLanes|u:u,a!==null){for(y=o.child=a.child,x=0;y!==null;)x=x|y.lanes|y.childLanes,y=y.sibling;o.childLanes=x&~f}else o.childLanes=0,o.child=null;return KM(a,o,f,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&rd(o,I!==null?I.cachePool:null),I!==null?Zv(o,I):Tg(),Xv(o);else return o.lanes=o.childLanes=536870912,KM(a,o,I!==null?I.baseLanes|u:u,u)}else I!==null?(rd(o,I.cachePool),Zv(o,I),Pa(),o.memoizedState=null):(a!==null&&rd(o,null),Tg(),Pa());return xi(a,o,y,u),o.child}function KM(a,o,u,f){var y=Eg();return y=y===null?null:{parent:ii._currentValue,pool:y},o.memoizedState={baseLanes:u,cachePool:y},a!==null&&rd(o,null),Tg(),Xv(o),a!==null&&Pc(a,o,f,!0),null}function zc(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=2097664);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(a===null||a.ref!==u)&&(o.flags|=2097664)}}function $g(a,o,u,f,y){return Wr(o),u=wg(a,o,u,f,void 0,y),f=Og(),a!==null&&!ui?(Rg(a,o,y),Ks(a,o,y)):(Qt&&f&&Sg(o),o.flags|=1,xi(a,o,u,y),o.child)}function ZM(a,o,u,f,y,x){return Wr(o),o.updateQueue=null,u=tM(o,f,u,y),Jv(a),f=Og(),a!==null&&!ui?(Rg(a,o,x),Ks(a,o,x)):(Qt&&f&&Sg(o),o.flags|=1,xi(a,o,u,x),o.child)}function XM(a,o,u,f,y){if(Wr(o),o.stateNode===null){var x=Zo,I=u.contextType;typeof I=="object"&&I!==null&&(x=Ti(I)),x=new u(f,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Zg,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=f,x.state=o.memoizedState,x.refs={},lm(o),I=u.contextType,x.context=typeof I=="object"&&I!==null?Ti(I):Zo,x.state=o.memoizedState,I=u.getDerivedStateFromProps,typeof I=="function"&&(Kg(o,u,I,f),x.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(I=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),I!==x.state&&Zg.enqueueReplaceState(x,x.state,null),Gc(o,f,x,y),Fc(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(a===null){x=o.stateNode;var E=o.memoizedProps,R=Vr(u,E);x.props=R;var G=x.context,Z=u.contextType;I=Zo,typeof Z=="object"&&Z!==null&&(I=Ti(Z));var st=u.getDerivedStateFromProps;Z=typeof st=="function"||typeof x.getSnapshotBeforeUpdate=="function",E=o.pendingProps!==E,Z||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(E||G!==I)&&jM(o,x,f,I),Ua=!1;var H=o.memoizedState;x.state=H,Gc(o,f,x,y),Fc(),G=o.memoizedState,E||H!==G||Ua?(typeof st=="function"&&(Kg(o,u,st,f),G=o.memoizedState),(R=Ua||RM(o,u,R,f,H,G,I))?(Z||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=G),x.props=f,x.state=G,x.context=I,f=R):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{x=o.stateNode,cm(a,o),I=o.memoizedProps,Z=Vr(u,I),x.props=Z,st=o.pendingProps,H=x.context,G=u.contextType,R=Zo,typeof G=="object"&&G!==null&&(R=Ti(G)),E=u.getDerivedStateFromProps,(G=typeof E=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(I!==st||H!==R)&&jM(o,x,f,R),Ua=!1,H=o.memoizedState,x.state=H,Gc(o,f,x,y),Fc();var K=o.memoizedState;I!==st||H!==K||Ua||a!==null&&a.dependencies!==null&&yd(a.dependencies)?(typeof E=="function"&&(Kg(o,u,E,f),K=o.memoizedState),(Z=Ua||RM(o,u,Z,f,H,K,R)||a!==null&&a.dependencies!==null&&yd(a.dependencies))?(G||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(f,K,R),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(f,K,R)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||I===a.memoizedProps&&H===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&H===a.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=K),x.props=f,x.state=K,x.context=R,f=Z):(typeof x.componentDidUpdate!="function"||I===a.memoizedProps&&H===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&H===a.memoizedState||(o.flags|=1024),f=!1)}return x=f,zc(a,o),f=(o.flags&128)!==0,x||f?(x=o.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,a!==null&&f?(o.child=Br(o,a.child,null,y),o.child=Br(o,null,u,y)):xi(a,o,u,y),o.memoizedState=x.state,a=o.child):a=Ks(a,o,y),a}function $M(a,o,u,f){return Tc(),o.flags|=256,xi(a,o,u,f),o.child}var qg={dehydrated:null,treeContext:null,retryLane:0};function Qg(a){return{baseLanes:a,cachePool:Qv()}}function Jg(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=_n),a}function qM(a,o,u){var f=o.pendingProps,y=!1,x=(o.flags&128)!==0,I;if((I=x)||(I=a!==null&&a.memoizedState===null?!1:(ei.current&2)!==0),I&&(y=!0,o.flags&=-129),I=(o.flags&32)!==0,o.flags&=-33,a===null){if(Qt){if(y?za(o):Pa(),Qt){var E=bi,R;if(R=E){t:{for(R=E,E=xs;R.nodeType!==8;){if(!E){E=null;break t}if(R=as(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(o.memoizedState={dehydrated:E,treeContext:_r!==null?{id:Ys,overflow:Vs}:null,retryLane:536870912},R=jn(18,null,null,0),R.stateNode=E,R.return=o,o.child=R,Pi=o,bi=null,R=!0):R=!1}R||Pr(o)}if(E=o.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?o.lanes=16:o.lanes=536870912,null;Hs(o)}return E=f.children,f=f.fallback,y?(Pa(),y=o.mode,E=em({mode:"hidden",children:E},y),f=Zr(f,y,u,null),E.return=o,f.return=o,E.sibling=f,o.child=E,y=o.child,y.memoizedState=Qg(u),y.childLanes=Jg(a,I,u),o.memoizedState=qg,f):(za(o),tm(o,E))}if(R=a.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(x)o.flags&256?(za(o),o.flags&=-257,o=im(a,o,u)):o.memoizedState!==null?(Pa(),o.child=a.child,o.flags|=128,o=null):(Pa(),y=f.fallback,E=o.mode,f=em({mode:"visible",children:f.children},E),y=Zr(y,E,u,null),y.flags|=2,f.return=o,y.return=o,f.sibling=y,o.child=f,Br(o,a.child,null,u),f=o.child,f.memoizedState=Qg(u),f.childLanes=Jg(a,I,u),o.memoizedState=qg,o=y);else if(za(o),E.data==="$!"){if(I=E.nextSibling&&E.nextSibling.dataset,I)var G=I.dgst;I=G,f=Error(n(419)),f.stack="",f.digest=I,Ic({value:f,source:null,stack:null}),o=im(a,o,u)}else if(ui||Pc(a,o,u,!1),I=(u&a.childLanes)!==0,ui||I){if(I=ye,I!==null){if(f=u&-u,(f&42)!==0)f=1;else switch(f){case 2:f=1;break;case 8:f=4;break;case 32:f=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:f=64;break;case 268435456:f=134217728;break;default:f=0}if(f=(f&(I.suspendedLanes|u))!==0?0:f,f!==0&&f!==R.retryLane)throw R.retryLane=f,_a(a,f),Bi(I,a,f),UM}E.data==="$?"||Em(),o=im(a,o,u)}else E.data==="$?"?(o.flags|=128,o.child=a.child,o=LE.bind(null,a),E._reactRetry=o,o=null):(a=R.treeContext,bi=as(E.nextSibling),Pi=o,Qt=!0,ns=null,xs=!1,a!==null&&(En[kn++]=Ys,En[kn++]=Vs,En[kn++]=_r,Ys=a.id,Vs=a.overflow,_r=o),o=tm(o,f.children),o.flags|=4096);return o}return y?(Pa(),y=f.fallback,E=o.mode,R=a.child,G=R.sibling,f=Za(R,{mode:"hidden",children:f.children}),f.subtreeFlags=R.subtreeFlags&31457280,G!==null?y=Za(G,y):(y=Zr(y,E,u,null),y.flags|=2),y.return=o,f.return=o,f.sibling=y,o.child=f,f=y,y=o.child,E=a.child.memoizedState,E===null?E=Qg(u):(R=E.cachePool,R!==null?(G=ii._currentValue,R=R.parent!==G?{parent:G,pool:G}:R):R=Qv(),E={baseLanes:E.baseLanes|u,cachePool:R}),y.memoizedState=E,y.childLanes=Jg(a,I,u),o.memoizedState=qg,f):(za(o),u=a.child,a=u.sibling,u=Za(u,{mode:"visible",children:f.children}),u.return=o,u.sibling=null,a!==null&&(I=o.deletions,I===null?(o.deletions=[a],o.flags|=16):I.push(a)),o.child=u,o.memoizedState=null,u)}function tm(a,o){return o=em({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function em(a,o){return DS(a,o,0,null)}function im(a,o,u){return Br(o,a.child,null,u),a=tm(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function QM(a,o,u){a.lanes|=o;var f=a.alternate;f!==null&&(f.lanes|=o),rm(a.return,o,u)}function nm(a,o,u,f,y){var x=a.memoizedState;x===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:y}:(x.isBackwards=o,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=u,x.tailMode=y)}function JM(a,o,u){var f=o.pendingProps,y=f.revealOrder,x=f.tail;if(xi(a,o,f.children,u),f=ei.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(a!==null&&(a.flags&128)!==0)t:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&QM(a,u,o);else if(a.tag===19)QM(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break t;for(;a.sibling===null;){if(a.return===null||a.return===o)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}f&=1}switch(ht(ei,f),y){case"forwards":for(u=o.child,y=null;u!==null;)a=u.alternate,a!==null&&ad(a)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),nm(o,!1,y,u,x);break;case"backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&ad(a)===null){o.child=y;break}a=y.sibling,y.sibling=u,u=y,y=a}nm(o,!0,u,null,x);break;case"together":nm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ks(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),Xa|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(Pc(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(n(153));if(o.child!==null){for(a=o.child,u=Za(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=Za(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function sm(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&yd(a)))}function hE(a,o,u){switch(o.tag){case 3:Kt(o,o.stateNode.containerInfo),Ga(o,ii,a.memoizedState.cache),Tc();break;case 27:case 5:me(o);break;case 4:Kt(o,o.stateNode.containerInfo);break;case 10:Ga(o,o.type,o.memoizedProps.value);break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(za(o),o.flags|=128,null):(u&o.child.childLanes)!==0?qM(a,o,u):(za(o),a=Ks(a,o,u),a!==null?a.sibling:null);za(o);break;case 19:var y=(a.flags&128)!==0;if(f=(u&o.childLanes)!==0,f||(Pc(a,o,u,!1),f=(u&o.childLanes)!==0),y){if(f)return JM(a,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ht(ei,ei.current),f)break;return null;case 22:case 23:return o.lanes=0,WM(a,o,u);case 24:Ga(o,ii,a.memoizedState.cache)}return Ks(a,o,u)}function tS(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)ui=!0;else{if(!sm(a,u)&&(o.flags&128)===0)return ui=!1,hE(a,o,u);ui=(a.flags&131072)!==0}else ui=!1,Qt&&(o.flags&1048576)!==0&&Pv(o,td,o.index);switch(o.lanes=0,o.tag){case 16:t:{a=o.pendingProps;var f=o.elementType,y=f._init;if(f=y(f._payload),o.type=f,typeof f=="function")bm(f)?(a=Vr(f,a),o.tag=1,o=XM(null,o,f,a,u)):(o.tag=0,o=$g(null,o,f,a,u));else{if(f!=null){if(y=f.$$typeof,y===v){o.tag=11,o=YM(null,o,f,a,u);break t}else if(y===D){o.tag=14,o=VM(null,o,f,a,u);break t}}throw o=j(f)||f,Error(n(306,o,""))}}return o;case 0:return $g(a,o,o.type,o.pendingProps,u);case 1:return f=o.type,y=Vr(f,o.pendingProps),XM(a,o,f,y,u);case 3:t:{if(Kt(o,o.stateNode.containerInfo),a===null)throw Error(n(387));var x=o.pendingProps;y=o.memoizedState,f=y.element,cm(a,o),Gc(o,x,null,u);var I=o.memoizedState;if(x=I.cache,Ga(o,ii,x),x!==y.cache&&om(o,[ii],u,!0),Fc(),x=I.element,y.isDehydrated)if(y={element:x,isDehydrated:!1,cache:I.cache},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){o=$M(a,o,x,u);break t}else if(x!==f){f=Cn(Error(n(424)),o),Ic(f),o=$M(a,o,x,u);break t}else for(bi=as(o.stateNode.containerInfo.firstChild),Pi=o,Qt=!0,ns=null,xs=!0,u=Kv(o,null,x,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Tc(),x===f){o=Ks(a,o,u);break t}xi(a,o,x,u)}o=o.child}return o;case 26:return zc(a,o),a===null?(u=nD(o.type,null,o.pendingProps,null))?o.memoizedState=u:Qt||(u=o.type,a=o.pendingProps,f=Od(Bt.current).createElement(u),f[Li]=o,f[tn]=a,vi(f,u,a),ci(f),o.stateNode=f):o.memoizedState=nD(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return me(o),a===null&&Qt&&(f=o.stateNode=tD(o.type,o.pendingProps,Bt.current),Pi=o,xs=!0,bi=as(f.firstChild)),f=o.pendingProps.children,a!==null||Qt?xi(a,o,f,u):o.child=Br(o,null,f,u),zc(a,o),o.child;case 5:return a===null&&Qt&&((y=f=bi)&&(f=GE(f,o.type,o.pendingProps,xs),f!==null?(o.stateNode=f,Pi=o,bi=as(f.firstChild),xs=!1,y=!0):y=!1),y||Pr(o)),me(o),y=o.type,x=o.pendingProps,I=a!==null?a.memoizedProps:null,f=x.children,Vm(y,x)?f=null:I!==null&&Vm(y,I)&&(o.flags|=32),o.memoizedState!==null&&(y=wg(a,o,sE,null,null,u),iu._currentValue=y),zc(a,o),xi(a,o,f,u),o.child;case 6:return a===null&&Qt&&((a=u=bi)&&(u=UE(u,o.pendingProps,xs),u!==null?(o.stateNode=u,Pi=o,bi=null,a=!0):a=!1),a||Pr(o)),null;case 13:return qM(a,o,u);case 4:return Kt(o,o.stateNode.containerInfo),f=o.pendingProps,a===null?o.child=Br(o,null,f,u):xi(a,o,f,u),o.child;case 11:return YM(a,o,o.type,o.pendingProps,u);case 7:return xi(a,o,o.pendingProps,u),o.child;case 8:return xi(a,o,o.pendingProps.children,u),o.child;case 12:return xi(a,o,o.pendingProps.children,u),o.child;case 10:return f=o.pendingProps,Ga(o,o.type,f.value),xi(a,o,f.children,u),o.child;case 9:return y=o.type._context,f=o.pendingProps.children,Wr(o),y=Ti(y),f=f(y),o.flags|=1,xi(a,o,f,u),o.child;case 14:return VM(a,o,o.type,o.pendingProps,u);case 15:return HM(a,o,o.type,o.pendingProps,u);case 19:return JM(a,o,u);case 22:return WM(a,o,u);case 24:return Wr(o),f=Ti(ii),a===null?(y=Eg(),y===null&&(y=ye,x=Ng(),y.pooledCache=x,x.refCount++,x!==null&&(y.pooledCacheLanes|=u),y=x),o.memoizedState={parent:f,cache:y},lm(o),Ga(o,ii,y)):((a.lanes&u)!==0&&(cm(a,o),Gc(o,null,null,u),Fc()),y=a.memoizedState,x=o.memoizedState,y.parent!==f?(y={parent:f,cache:f},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),Ga(o,ii,f)):(f=x.cache,Ga(o,ii,f),f!==y.cache&&om(o,[ii],u,!0))),xi(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}var am=J(null),Hr=null,Zs=null;function Ga(a,o,u){ht(am,o._currentValue),o._currentValue=u}function Xs(a){a._currentValue=am.current,et(am)}function rm(a,o,u){for(;a!==null;){var f=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),a===u)break;a=a.return}}function om(a,o,u,f){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var x=y.dependencies;if(x!==null){var I=y.child;x=x.firstContext;t:for(;x!==null;){var E=x;x=y;for(var R=0;R<o.length;R++)if(E.context===o[R]){x.lanes|=u,E=x.alternate,E!==null&&(E.lanes|=u),rm(x.return,u,a),f||(I=null);break t}x=E.next}}else if(y.tag===18){if(I=y.return,I===null)throw Error(n(341));I.lanes|=u,x=I.alternate,x!==null&&(x.lanes|=u),rm(I,u,a),I=null}else I=y.child;if(I!==null)I.return=y;else for(I=y;I!==null;){if(I===a){I=null;break}if(y=I.sibling,y!==null){y.return=I.return,I=y;break}I=I.return}y=I}}function Pc(a,o,u,f){a=null;for(var y=o,x=!1;y!==null;){if(!x){if((y.flags&524288)!==0)x=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var I=y.alternate;if(I===null)throw Error(n(387));if(I=I.memoizedProps,I!==null){var E=y.type;pn(y.pendingProps.value,I.value)||(a!==null?a.push(E):a=[E])}}else if(y===Yt.current){if(I=y.alternate,I===null)throw Error(n(387));I.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(iu):a=[iu])}y=y.return}a!==null&&om(o,a,u,f),o.flags|=262144}function yd(a){for(a=a.firstContext;a!==null;){if(!pn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Wr(a){Hr=a,Zs=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Ti(a){return eS(Hr,a)}function bd(a,o){return Hr===null&&Wr(a),eS(a,o)}function eS(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Zs===null){if(a===null)throw Error(n(308));Zs=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Zs=Zs.next=o;return u}var Ua=!1;function lm(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cm(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ya(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Va(a,o,u){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,(Te&2)!==0){var y=f.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),f.pending=o,o=Qh(a),_v(a,null,u),o}return qh(a,f,o,u),Qh(a)}function Bc(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194176)!==0)){var f=o.lanes;f&=a.pendingLanes,u|=f,o.lanes=u,Vx(a,u)}}function um(a,o){var u=a.updateQueue,f=a.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var y=null,x=null;if(u=u.firstBaseUpdate,u!==null){do{var I={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};x===null?y=x=I:x=x.next=I,u=u.next}while(u!==null);x===null?y=x=o:x=x.next=o}else y=x=o;u={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:f.shared,callbacks:f.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var hm=!1;function Fc(){if(hm){var a=tl;if(a!==null)throw a}}function Gc(a,o,u,f){hm=!1;var y=a.updateQueue;Ua=!1;var x=y.firstBaseUpdate,I=y.lastBaseUpdate,E=y.shared.pending;if(E!==null){y.shared.pending=null;var R=E,G=R.next;R.next=null,I===null?x=G:I.next=G,I=R;var Z=a.alternate;Z!==null&&(Z=Z.updateQueue,E=Z.lastBaseUpdate,E!==I&&(E===null?Z.firstBaseUpdate=G:E.next=G,Z.lastBaseUpdate=R))}if(x!==null){var st=y.baseState;I=0,Z=G=R=null,E=x;do{var H=E.lane&-536870913,K=H!==E.lane;if(K?(Zt&H)===H:(f&H)===H){H!==0&&H===Jo&&(hm=!0),Z!==null&&(Z=Z.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var Dt=a,kt=E;H=o;var je=u;switch(kt.tag){case 1:if(Dt=kt.payload,typeof Dt=="function"){st=Dt.call(je,st,H);break t}st=Dt;break t;case 3:Dt.flags=Dt.flags&-65537|128;case 0:if(Dt=kt.payload,H=typeof Dt=="function"?Dt.call(je,st,H):Dt,H==null)break t;st=B({},st,H);break t;case 2:Ua=!0}}H=E.callback,H!==null&&(a.flags|=64,K&&(a.flags|=8192),K=y.callbacks,K===null?y.callbacks=[H]:K.push(H))}else K={lane:H,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Z===null?(G=Z=K,R=st):Z=Z.next=K,I|=H;if(E=E.next,E===null){if(E=y.shared.pending,E===null)break;K=E,E=K.next,K.next=null,y.lastBaseUpdate=K,y.shared.pending=null}}while(!0);Z===null&&(R=st),y.baseState=R,y.firstBaseUpdate=G,y.lastBaseUpdate=Z,x===null&&(y.shared.lanes=0),Xa|=I,a.lanes=I,a.memoizedState=st}}function iS(a,o){if(typeof a!="function")throw Error(n(191,a));a.call(o)}function nS(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)iS(u[a],o)}function Uc(a,o){try{var u=o.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var y=f.next;u=y;do{if((u.tag&a)===a){f=void 0;var x=u.create,I=u.inst;f=x(),I.destroy=f}u=u.next}while(u!==y)}}catch(E){he(o,o.return,E)}}function Ha(a,o,u){try{var f=o.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var x=y.next;f=x;do{if((f.tag&a)===a){var I=f.inst,E=I.destroy;if(E!==void 0){I.destroy=void 0,y=o;var R=u;try{E()}catch(G){he(y,R,G)}}}f=f.next}while(f!==x)}}catch(G){he(o,o.return,G)}}function sS(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{nS(o,u)}catch(f){he(a,a.return,f)}}}function aS(a,o,u){u.props=Vr(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(f){he(a,o,f)}}function Kr(a,o){try{var u=a.ref;if(u!==null){var f=a.stateNode;switch(a.tag){case 26:case 27:case 5:var y=f;break;default:y=f}typeof u=="function"?a.refCleanup=u(y):u.current=y}}catch(x){he(a,o,x)}}function gn(a,o){var u=a.ref,f=a.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(y){he(a,o,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){he(a,o,y)}else u.current=null}function rS(a){var o=a.type,u=a.memoizedProps,f=a.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break t;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(y){he(a,a.return,y)}}function oS(a,o,u){try{var f=a.stateNode;_E(f,a.type,u,o),f[tn]=o}catch(y){he(a,a.return,y)}}function lS(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27||a.tag===4}function dm(a){t:for(;;){for(;a.sibling===null;){if(a.return===null||lS(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==27&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue t;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function fm(a,o,u){var f=a.tag;if(f===5||f===6)a=a.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(a,o):u.insertBefore(a,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(a,u)):(o=u,o.appendChild(a)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=wd));else if(f!==4&&f!==27&&(a=a.child,a!==null))for(fm(a,o,u),a=a.sibling;a!==null;)fm(a,o,u),a=a.sibling}function xd(a,o,u){var f=a.tag;if(f===5||f===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(f!==4&&f!==27&&(a=a.child,a!==null))for(xd(a,o,u),a=a.sibling;a!==null;)xd(a,o,u),a=a.sibling}var $s=!1,Oe=!1,pm=!1,cS=typeof WeakSet=="function"?WeakSet:Set,hi=null,uS=!1;function dE(a,o){if(a=a.containerInfo,Um=Bd,a=Iv(a),mg(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else t:{u=(u=a.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var y=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{u.nodeType,x.nodeType}catch{u=null;break t}var I=0,E=-1,R=-1,G=0,Z=0,st=a,H=null;e:for(;;){for(var K;st!==u||y!==0&&st.nodeType!==3||(E=I+y),st!==x||f!==0&&st.nodeType!==3||(R=I+f),st.nodeType===3&&(I+=st.nodeValue.length),(K=st.firstChild)!==null;)H=st,st=K;for(;;){if(st===a)break e;if(H===u&&++G===y&&(E=I),H===x&&++Z===f&&(R=I),(K=st.nextSibling)!==null)break;st=H,H=st.parentNode}st=K}u=E===-1||R===-1?null:{start:E,end:R}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ym={focusedElem:a,selectionRange:u},Bd=!1,hi=o;hi!==null;)if(o=hi,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,hi=a;else for(;hi!==null;){switch(o=hi,x=o.alternate,a=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&x!==null){a=void 0,u=o,y=x.memoizedProps,x=x.memoizedState,f=u.stateNode;try{var Dt=Vr(u.type,y,u.elementType===u.type);a=f.getSnapshotBeforeUpdate(Dt,x),f.__reactInternalSnapshotBeforeUpdate=a}catch(kt){he(u,u.return,kt)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)Km(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Km(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=o.sibling,a!==null){a.return=o.return,hi=a;break}hi=o.return}return Dt=uS,uS=!1,Dt}function hS(a,o,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Qs(a,u),f&4&&Uc(5,u);break;case 1:if(Qs(a,u),f&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(E){he(u,u.return,E)}else{var y=Vr(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(y,o,a.__reactInternalSnapshotBeforeUpdate)}catch(E){he(u,u.return,E)}}f&64&&sS(u),f&512&&Kr(u,u.return);break;case 3:if(Qs(a,u),f&64&&(f=u.updateQueue,f!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{nS(f,a)}catch(E){he(u,u.return,E)}}break;case 26:Qs(a,u),f&512&&Kr(u,u.return);break;case 27:case 5:Qs(a,u),o===null&&f&4&&rS(u),f&512&&Kr(u,u.return);break;case 12:Qs(a,u);break;case 13:Qs(a,u),f&4&&pS(a,u);break;case 22:if(y=u.memoizedState!==null||$s,!y){o=o!==null&&o.memoizedState!==null||Oe;var x=$s,I=Oe;$s=y,(Oe=o)&&!I?Wa(a,u,(u.subtreeFlags&8772)!==0):Qs(a,u),$s=x,Oe=I}f&512&&(u.memoizedProps.mode==="manual"?Kr(u,u.return):gn(u,u.return));break;default:Qs(a,u)}}function dS(a){var o=a.alternate;o!==null&&(a.alternate=null,dS(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&tg(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Ke=null,mn=!1;function qs(a,o,u){for(u=u.child;u!==null;)fS(a,o,u),u=u.sibling}function fS(a,o,u){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(hc,u)}catch{}switch(u.tag){case 26:Oe||gn(u,o),qs(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Oe||gn(u,o);var f=Ke,y=mn;for(Ke=u.stateNode,qs(a,o,u),u=u.stateNode,o=u.attributes;o.length;)u.removeAttributeNode(o[0]);tg(u),Ke=f,mn=y;break;case 5:Oe||gn(u,o);case 6:y=Ke;var x=mn;if(Ke=null,qs(a,o,u),Ke=y,mn=x,Ke!==null)if(mn)try{a=Ke,f=u.stateNode,a.nodeType===8?a.parentNode.removeChild(f):a.removeChild(f)}catch(I){he(u,o,I)}else try{Ke.removeChild(u.stateNode)}catch(I){he(u,o,I)}break;case 18:Ke!==null&&(mn?(o=Ke,u=u.stateNode,o.nodeType===8?Wm(o.parentNode,u):o.nodeType===1&&Wm(o,u),ru(o)):Wm(Ke,u.stateNode));break;case 4:f=Ke,y=mn,Ke=u.stateNode.containerInfo,mn=!0,qs(a,o,u),Ke=f,mn=y;break;case 0:case 11:case 14:case 15:Oe||Ha(2,u,o),Oe||Ha(4,u,o),qs(a,o,u);break;case 1:Oe||(gn(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"&&aS(u,o,f)),qs(a,o,u);break;case 21:qs(a,o,u);break;case 22:Oe||gn(u,o),Oe=(f=Oe)||u.memoizedState!==null,qs(a,o,u),Oe=f;break;default:qs(a,o,u)}}function pS(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{ru(a)}catch(u){he(o,o.return,u)}}function fE(a){switch(a.tag){case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new cS),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new cS),o;default:throw Error(n(435,a.tag))}}function gm(a,o){var u=fE(a);o.forEach(function(f){var y=TE.bind(null,a,f);u.has(f)||(u.add(f),f.then(y,y))})}function On(a,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var y=u[f],x=a,I=o,E=I;t:for(;E!==null;){switch(E.tag){case 27:case 5:Ke=E.stateNode,mn=!1;break t;case 3:Ke=E.stateNode.containerInfo,mn=!0;break t;case 4:Ke=E.stateNode.containerInfo,mn=!0;break t}E=E.return}if(Ke===null)throw Error(n(160));fS(x,I,y),Ke=null,mn=!1,x=y.alternate,x!==null&&(x.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)gS(o,a),o=o.sibling}var ss=null;function gS(a,o){var u=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:On(o,a),Rn(a),f&4&&(Ha(3,a,a.return),Uc(3,a),Ha(5,a,a.return));break;case 1:On(o,a),Rn(a),f&512&&(Oe||u===null||gn(u,u.return)),f&64&&$s&&(a=a.updateQueue,a!==null&&(f=a.callbacks,f!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var y=ss;if(On(o,a),Rn(a),f&512&&(Oe||u===null||gn(u,u.return)),f&4){var x=u!==null?u.memoizedState:null;if(f=a.memoizedState,u===null)if(f===null)if(a.stateNode===null){t:{f=a.type,u=a.memoizedProps,y=y.ownerDocument||y;e:switch(f){case"title":x=y.getElementsByTagName("title")[0],(!x||x[pc]||x[Li]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=y.createElement(f),y.head.insertBefore(x,y.querySelector("head > title"))),vi(x,f,u),x[Li]=a,ci(x),f=x;break t;case"link":var I=rD("link","href",y).get(f+(u.href||""));if(I){for(var E=0;E<I.length;E++)if(x=I[E],x.getAttribute("href")===(u.href==null?null:u.href)&&x.getAttribute("rel")===(u.rel==null?null:u.rel)&&x.getAttribute("title")===(u.title==null?null:u.title)&&x.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){I.splice(E,1);break e}}x=y.createElement(f),vi(x,f,u),y.head.appendChild(x);break;case"meta":if(I=rD("meta","content",y).get(f+(u.content||""))){for(E=0;E<I.length;E++)if(x=I[E],x.getAttribute("content")===(u.content==null?null:""+u.content)&&x.getAttribute("name")===(u.name==null?null:u.name)&&x.getAttribute("property")===(u.property==null?null:u.property)&&x.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&x.getAttribute("charset")===(u.charSet==null?null:u.charSet)){I.splice(E,1);break e}}x=y.createElement(f),vi(x,f,u),y.head.appendChild(x);break;default:throw Error(n(468,f))}x[Li]=a,ci(x),f=x}a.stateNode=f}else oD(y,a.type,a.stateNode);else a.stateNode=aD(y,f,a.memoizedProps);else x!==f?(x===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):x.count--,f===null?oD(y,a.type,a.stateNode):aD(y,f,a.memoizedProps)):f===null&&a.stateNode!==null&&oS(a,a.memoizedProps,u.memoizedProps)}break;case 27:if(f&4&&a.alternate===null){y=a.stateNode,x=a.memoizedProps;try{for(var R=y.firstChild;R;){var G=R.nextSibling,Z=R.nodeName;R[pc]||Z==="HEAD"||Z==="BODY"||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&R.rel.toLowerCase()==="stylesheet"||y.removeChild(R),R=G}for(var st=a.type,H=y.attributes;H.length;)y.removeAttributeNode(H[0]);vi(y,st,x),y[Li]=a,y[tn]=x}catch(Dt){he(a,a.return,Dt)}}case 5:if(On(o,a),Rn(a),f&512&&(Oe||u===null||gn(u,u.return)),a.flags&32){y=a.stateNode;try{Go(y,"")}catch(Dt){he(a,a.return,Dt)}}f&4&&a.stateNode!=null&&(y=a.memoizedProps,oS(a,y,u!==null?u.memoizedProps:y)),f&1024&&(pm=!0);break;case 6:if(On(o,a),Rn(a),f&4){if(a.stateNode===null)throw Error(n(162));f=a.memoizedProps,u=a.stateNode;try{u.nodeValue=f}catch(Dt){he(a,a.return,Dt)}}break;case 3:if(_d=null,y=ss,ss=Rd(o.containerInfo),On(o,a),ss=y,Rn(a),f&4&&u!==null&&u.memoizedState.isDehydrated)try{ru(o.containerInfo)}catch(Dt){he(a,a.return,Dt)}pm&&(pm=!1,mS(a));break;case 4:f=ss,ss=Rd(a.stateNode.containerInfo),On(o,a),Rn(a),ss=f;break;case 12:On(o,a),Rn(a);break;case 13:On(o,a),Rn(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Am=Ji()),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,gm(a,f)));break;case 22:if(f&512&&(Oe||u===null||gn(u,u.return)),R=a.memoizedState!==null,G=u!==null&&u.memoizedState!==null,Z=$s,st=Oe,$s=Z||R,Oe=st||G,On(o,a),Oe=st,$s=Z,Rn(a),o=a.stateNode,o._current=a,o._visibility&=-3,o._visibility|=o._pendingVisibility&2,f&8192&&(o._visibility=R?o._visibility&-2:o._visibility|1,R&&(o=$s||Oe,u===null||G||o||sl(a)),a.memoizedProps===null||a.memoizedProps.mode!=="manual"))t:for(u=null,o=a;;){if(o.tag===5||o.tag===26||o.tag===27){if(u===null){G=u=o;try{if(y=G.stateNode,R)x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{I=G.stateNode,E=G.memoizedProps.style;var K=E!=null&&E.hasOwnProperty("display")?E.display:null;I.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Dt){he(G,G.return,Dt)}}}else if(o.tag===6){if(u===null){G=o;try{G.stateNode.nodeValue=R?"":G.memoizedProps}catch(Dt){he(G,G.return,Dt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break t;for(;o.sibling===null;){if(o.return===null||o.return===a)break t;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=a.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,gm(a,u))));break;case 19:On(o,a),Rn(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,gm(a,f)));break;case 21:break;default:On(o,a),Rn(a)}}function Rn(a){var o=a.flags;if(o&2){try{if(a.tag!==27){t:{for(var u=a.return;u!==null;){if(lS(u)){var f=u;break t}u=u.return}throw Error(n(160))}switch(f.tag){case 27:var y=f.stateNode,x=dm(a);xd(a,x,y);break;case 5:var I=f.stateNode;f.flags&32&&(Go(I,""),f.flags&=-33);var E=dm(a);xd(a,E,I);break;case 3:case 4:var R=f.stateNode.containerInfo,G=dm(a);fm(a,G,R);break;default:throw Error(n(161))}}}catch(Z){he(a,a.return,Z)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function mS(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;mS(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Qs(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)hS(a,o.alternate,o),o=o.sibling}function sl(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Ha(4,o,o.return),sl(o);break;case 1:gn(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&aS(o,o.return,u),sl(o);break;case 26:case 27:case 5:gn(o,o.return),sl(o);break;case 22:gn(o,o.return),o.memoizedState===null&&sl(o);break;default:sl(o)}a=a.sibling}}function Wa(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,y=a,x=o,I=x.flags;switch(x.tag){case 0:case 11:case 15:Wa(y,x,u),Uc(4,x);break;case 1:if(Wa(y,x,u),f=x,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(G){he(f,f.return,G)}if(f=x,y=f.updateQueue,y!==null){var E=f.stateNode;try{var R=y.shared.hiddenCallbacks;if(R!==null)for(y.shared.hiddenCallbacks=null,y=0;y<R.length;y++)iS(R[y],E)}catch(G){he(f,f.return,G)}}u&&I&64&&sS(x),Kr(x,x.return);break;case 26:case 27:case 5:Wa(y,x,u),u&&f===null&&I&4&&rS(x),Kr(x,x.return);break;case 12:Wa(y,x,u);break;case 13:Wa(y,x,u),u&&I&4&&pS(y,x);break;case 22:x.memoizedState===null&&Wa(y,x,u),Kr(x,x.return);break;default:Wa(y,x,u)}o=o.sibling}}function mm(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&wc(u))}function ym(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&wc(a))}function Ka(a,o,u,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)yS(a,o,u,f),o=o.sibling}function yS(a,o,u,f){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Ka(a,o,u,f),y&2048&&Uc(9,o);break;case 3:Ka(a,o,u,f),y&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&wc(a)));break;case 12:if(y&2048){Ka(a,o,u,f),a=o.stateNode;try{var x=o.memoizedProps,I=x.id,E=x.onPostCommit;typeof E=="function"&&E(I,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(R){he(o,o.return,R)}}else Ka(a,o,u,f);break;case 23:break;case 22:x=o.stateNode,o.memoizedState!==null?x._visibility&4?Ka(a,o,u,f):Yc(a,o):x._visibility&4?Ka(a,o,u,f):(x._visibility|=4,al(a,o,u,f,(o.subtreeFlags&10256)!==0)),y&2048&&mm(o.alternate,o);break;case 24:Ka(a,o,u,f),y&2048&&ym(o.alternate,o);break;default:Ka(a,o,u,f)}}function al(a,o,u,f,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var x=a,I=o,E=u,R=f,G=I.flags;switch(I.tag){case 0:case 11:case 15:al(x,I,E,R,y),Uc(8,I);break;case 23:break;case 22:var Z=I.stateNode;I.memoizedState!==null?Z._visibility&4?al(x,I,E,R,y):Yc(x,I):(Z._visibility|=4,al(x,I,E,R,y)),y&&G&2048&&mm(I.alternate,I);break;case 24:al(x,I,E,R,y),y&&G&2048&&ym(I.alternate,I);break;default:al(x,I,E,R,y)}o=o.sibling}}function Yc(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,f=o,y=f.flags;switch(f.tag){case 22:Yc(u,f),y&2048&&mm(f.alternate,f);break;case 24:Yc(u,f),y&2048&&ym(f.alternate,f);break;default:Yc(u,f)}o=o.sibling}}var Vc=8192;function rl(a){if(a.subtreeFlags&Vc)for(a=a.child;a!==null;)bS(a),a=a.sibling}function bS(a){switch(a.tag){case 26:rl(a),a.flags&Vc&&a.memoizedState!==null&&ek(ss,a.memoizedState,a.memoizedProps);break;case 5:rl(a);break;case 3:case 4:var o=ss;ss=Rd(a.stateNode.containerInfo),rl(a),ss=o;break;case 22:a.memoizedState===null&&(o=a.alternate,o!==null&&o.memoizedState!==null?(o=Vc,Vc=16777216,rl(a),Vc=o):rl(a));break;default:rl(a)}}function xS(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Hc(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];hi=f,MS(f,a)}xS(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)vS(a),a=a.sibling}function vS(a){switch(a.tag){case 0:case 11:case 15:Hc(a),a.flags&2048&&Ha(9,a,a.return);break;case 3:Hc(a);break;case 12:Hc(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&4&&(a.return===null||a.return.tag!==13)?(o._visibility&=-5,vd(a)):Hc(a);break;default:Hc(a)}}function vd(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];hi=f,MS(f,a)}xS(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Ha(8,o,o.return),vd(o);break;case 22:u=o.stateNode,u._visibility&4&&(u._visibility&=-5,vd(o));break;default:vd(o)}a=a.sibling}}function MS(a,o){for(;hi!==null;){var u=hi;switch(u.tag){case 0:case 11:case 15:Ha(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:wc(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,hi=f;else t:for(u=a;hi!==null;){f=hi;var y=f.sibling,x=f.return;if(dS(f),f===u){hi=null;break t}if(y!==null){y.return=x,hi=y;break t}hi=x}}}function pE(a,o,u,f){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(a,o,u,f){return new pE(a,o,u,f)}function bm(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Za(a,o){var u=a.alternate;return u===null?(u=jn(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&31457280,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function SS(a,o){a.flags&=31457282;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Md(a,o,u,f,y,x){var I=0;if(f=a,typeof a=="function")bm(a)&&(I=1);else if(typeof a=="string")I=JE(a,u,Mt.current)?26:a==="html"||a==="head"||a==="body"?27:5;else t:switch(a){case h:return Zr(u.children,y,x,o);case d:I=8,y|=24;break;case p:return a=jn(12,u,o,y|2),a.elementType=p,a.lanes=x,a;case S:return a=jn(13,u,o,y),a.elementType=S,a.lanes=x,a;case A:return a=jn(19,u,o,y),a.elementType=A,a.lanes=x,a;case C:return DS(u,y,x,o);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case g:case b:I=10;break t;case m:I=9;break t;case v:I=11;break t;case D:I=14;break t;case L:I=16,f=null;break t}I=29,u=Error(n(130,a===null?"null":typeof a,"")),f=null}return o=jn(I,u,o,y),o.elementType=a,o.type=f,o.lanes=x,o}function Zr(a,o,u,f){return a=jn(7,a,f,o),a.lanes=u,a}function DS(a,o,u,f){a=jn(22,a,f,o),a.elementType=C,a.lanes=u;var y={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var x=y._current;if(x===null)throw Error(n(456));if((y._pendingVisibility&2)===0){var I=_a(x,2);I!==null&&(y._pendingVisibility|=2,Bi(I,x,2))}},attach:function(){var x=y._current;if(x===null)throw Error(n(456));if((y._pendingVisibility&2)!==0){var I=_a(x,2);I!==null&&(y._pendingVisibility&=-3,Bi(I,x,2))}}};return a.stateNode=y,a}function xm(a,o,u){return a=jn(6,a,null,o),a.lanes=u,a}function vm(a,o,u){return o=jn(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}function Js(a){a.flags|=4}function AS(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!lD(o)){if(o=wn.current,o!==null&&((Zt&4194176)===Zt?vs!==null:(Zt&62914560)!==Zt&&(Zt&536870912)===0||o!==vs))throw Cc=Lg,Gv;a.flags|=8192}}function Sd(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Ux():536870912,a.lanes|=o,ll|=o)}function Wc(a,o){if(!Qt)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function Le(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,f=0;if(o)for(var y=a.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags&31457280,f|=y.flags&31457280,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=f,a.childLanes=u,o}function gE(a,o,u){var f=o.pendingProps;switch(Dg(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(o),null;case 1:return Le(o),null;case 3:return u=o.stateNode,f=null,a!==null&&(f=a.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),Xs(ii),se(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(Lc(o)?Js(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ns!==null&&(Nm(ns),ns=null))),Le(o),null;case 26:return u=o.memoizedState,a===null?(Js(o),u!==null?(Le(o),AS(o,u)):(Le(o),o.flags&=-16777217)):u?u!==a.memoizedState?(Js(o),Le(o),AS(o,u)):(Le(o),o.flags&=-16777217):(a.memoizedProps!==f&&Js(o),Le(o),o.flags&=-16777217),null;case 27:Me(o),u=Bt.current;var y=o.type;if(a!==null&&o.stateNode!=null)a.memoizedProps!==f&&Js(o);else{if(!f){if(o.stateNode===null)throw Error(n(166));return Le(o),null}a=Mt.current,Lc(o)?Bv(o):(a=tD(y,f,u),o.stateNode=a,Js(o))}return Le(o),null;case 5:if(Me(o),u=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==f&&Js(o);else{if(!f){if(o.stateNode===null)throw Error(n(166));return Le(o),null}if(a=Mt.current,Lc(o))Bv(o);else{switch(y=Od(Bt.current),a){case 1:a=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:a=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":a=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":a=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":a=y.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof f.is=="string"?y.createElement("select",{is:f.is}):y.createElement("select"),f.multiple?a.multiple=!0:f.size&&(a.size=f.size);break;default:a=typeof f.is=="string"?y.createElement(u,{is:f.is}):y.createElement(u)}}a[Li]=o,a[tn]=f;t:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)a.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break t;for(;y.sibling===null;){if(y.return===null||y.return===o)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=a;t:switch(vi(a,u,f),u){case"button":case"input":case"select":case"textarea":a=!!f.autoFocus;break t;case"img":a=!0;break t;default:a=!1}a&&Js(o)}}return Le(o),o.flags&=-16777217,null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==f&&Js(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(a=Bt.current,Lc(o)){if(a=o.stateNode,u=o.memoizedProps,f=null,y=Pi,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}a[Li]=o,a=!!(a.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||ZS(a.nodeValue,u)),a||Pr(o)}else a=Od(a).createTextNode(f),a[Li]=o,o.stateNode=a}return Le(o),null;case 13:if(f=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=Lc(o),f!==null&&f.dehydrated!==null){if(a===null){if(!y)throw Error(n(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[Li]=o}else Tc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Le(o),y=!1}else ns!==null&&(Nm(ns),ns=null),y=!0;if(!y)return o.flags&256?(Hs(o),o):(Hs(o),null)}if(Hs(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=f!==null,a=a!==null&&a.memoizedState!==null,u){f=o.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool);var x=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),x!==y&&(f.flags|=2048)}return u!==a&&u&&(o.child.flags|=8192),Sd(o,o.updateQueue),Le(o),null;case 4:return se(),a===null&&Bm(o.stateNode.containerInfo),Le(o),null;case 10:return Xs(o.type),Le(o),null;case 19:if(et(ei),y=o.memoizedState,y===null)return Le(o),null;if(f=(o.flags&128)!==0,x=y.rendering,x===null)if(f)Wc(y,!1);else{if(Re!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(x=ad(a),x!==null){for(o.flags|=128,Wc(y,!1),a=x.updateQueue,o.updateQueue=a,Sd(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)SS(u,a),u=u.sibling;return ht(ei,ei.current&1|2),o.child}a=a.sibling}y.tail!==null&&Ji()>Dd&&(o.flags|=128,f=!0,Wc(y,!1),o.lanes=4194304)}else{if(!f)if(a=ad(x),a!==null){if(o.flags|=128,f=!0,a=a.updateQueue,o.updateQueue=a,Sd(o,a),Wc(y,!0),y.tail===null&&y.tailMode==="hidden"&&!x.alternate&&!Qt)return Le(o),null}else 2*Ji()-y.renderingStartTime>Dd&&u!==536870912&&(o.flags|=128,f=!0,Wc(y,!1),o.lanes=4194304);y.isBackwards?(x.sibling=o.child,o.child=x):(a=y.last,a!==null?a.sibling=x:o.child=x,y.last=x)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=Ji(),o.sibling=null,a=ei.current,ht(ei,f?a&1|2:a&1),o):(Le(o),null);case 22:case 23:return Hs(o),Ig(),f=o.memoizedState!==null,a!==null?a.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(u&536870912)!==0&&(o.flags&128)===0&&(Le(o),o.subtreeFlags&6&&(o.flags|=8192)):Le(o),u=o.updateQueue,u!==null&&Sd(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048),a!==null&&et(Fr),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Xs(ii),Le(o),null;case 25:return null}throw Error(n(156,o.tag))}function mE(a,o){switch(Dg(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Xs(ii),se(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Me(o),null;case 13:if(Hs(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Tc()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return et(ei),null;case 4:return se(),null;case 10:return Xs(o.type),null;case 22:case 23:return Hs(o),Ig(),a!==null&&et(Fr),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Xs(ii),null;case 25:return null;default:return null}}function LS(a,o){switch(Dg(o),o.tag){case 3:Xs(ii),se();break;case 26:case 27:case 5:Me(o);break;case 4:se();break;case 13:Hs(o);break;case 19:et(ei);break;case 10:Xs(o.type);break;case 22:case 23:Hs(o),Ig(),a!==null&&et(Fr);break;case 24:Xs(ii)}}var yE={getCacheForType:function(a){var o=Ti(ii),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u}},bE=typeof WeakMap=="function"?WeakMap:Map,Te=0,ye=null,Ft=null,Zt=0,be=0,yn=null,ta=!1,ol=!1,Mm=!1,ea=0,Re=0,Xa=0,Xr=0,Sm=0,_n=0,ll=0,Kc=null,Ss=null,Dm=!1,Am=0,Dd=1/0,Ad=null,$a=null,Ld=!1,$r=null,Zc=0,Lm=0,Tm=null,Xc=0,Im=null;function bn(){if((Te&2)!==0&&Zt!==0)return Zt&-Zt;if(z.T!==null){var a=Jo;return a!==0?a:jm()}return Wx()}function TS(){_n===0&&(_n=(Zt&536870912)===0||Qt?Gx():536870912);var a=wn.current;return a!==null&&(a.flags|=32),_n}function Bi(a,o,u){(a===ye&&be===2||a.cancelPendingCommit!==null)&&(cl(a,0),ia(a,Zt,_n,!1)),fc(a,u),((Te&2)===0||a!==ye)&&(a===ye&&((Te&2)===0&&(Xr|=u),Re===4&&ia(a,Zt,_n,!1)),Ds(a))}function IS(a,o,u){if((Te&6)!==0)throw Error(n(327));var f=!u&&(o&60)===0&&(o&a.expiredLanes)===0||dc(a,o),y=f?ME(a,o):km(a,o,!0),x=f;do{if(y===0){ol&&!f&&ia(a,o,0,!1);break}else if(y===6)ia(a,o,0,!ta);else{if(u=a.current.alternate,x&&!xE(u)){y=km(a,o,!1),x=!1;continue}if(y===2){if(x=o,a.errorRecoveryDisabledLanes&x)var I=0;else I=a.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){o=I;t:{var E=a;y=Kc;var R=E.current.memoizedState.isDehydrated;if(R&&(cl(E,I).flags|=256),I=km(E,I,!1),I!==2){if(Mm&&!R){E.errorRecoveryDisabledLanes|=x,Xr|=x,y=4;break t}x=Ss,Ss=y,x!==null&&Nm(x)}y=I}if(x=!1,y!==2)continue}}if(y===1){cl(a,0),ia(a,o,0,!0);break}t:{switch(f=a,y){case 0:case 1:throw Error(n(345));case 4:if((o&4194176)===o){ia(f,o,_n,!ta);break t}break;case 2:Ss=null;break;case 3:case 5:break;default:throw Error(n(329))}if(f.finishedWork=u,f.finishedLanes=o,(o&62914560)===o&&(x=Am+300-Ji(),10<x)){if(ia(f,o,_n,!ta),Ph(f,0)!==0)break t;f.timeoutHandle=qS(NS.bind(null,f,u,Ss,Ad,Dm,o,_n,Xr,ll,ta,2,-0,0),x);break t}NS(f,u,Ss,Ad,Dm,o,_n,Xr,ll,ta,0,-0,0)}}break}while(!0);Ds(a)}function Nm(a){Ss===null?Ss=a:Ss.push.apply(Ss,a)}function NS(a,o,u,f,y,x,I,E,R,G,Z,st,H){var K=o.subtreeFlags;if((K&8192||(K&16785408)===16785408)&&(eu={stylesheets:null,count:0,unsuspend:tk},bS(o),o=ik(),o!==null)){a.cancelPendingCommit=o(jS.bind(null,a,u,f,y,I,E,R,1,st,H)),ia(a,x,I,!G);return}jS(a,u,f,y,I,E,R,Z,st,H)}function xE(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var y=u[f],x=y.getSnapshot;y=y.value;try{if(!pn(x(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ia(a,o,u,f){o&=~Sm,o&=~Xr,a.suspendedLanes|=o,a.pingedLanes&=~o,f&&(a.warmLanes|=o),f=a.expirationTimes;for(var y=o;0<y;){var x=31-fn(y),I=1<<x;f[x]=-1,y&=~I}u!==0&&Yx(a,u,o)}function Td(){return(Te&6)===0?($c(0),!1):!0}function Cm(){if(Ft!==null){if(be===0)var a=Ft.return;else a=Ft,Zs=Hr=null,jg(a),qo=null,Ec=0,a=Ft;for(;a!==null;)LS(a.alternate,a),a=a.return;Ft=null}}function cl(a,o){a.finishedWork=null,a.finishedLanes=0;var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,PE(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),Cm(),ye=a,Ft=u=Za(a.current,null),Zt=o,be=0,yn=null,ta=!1,ol=dc(a,o),Mm=!1,ll=_n=Sm=Xr=Xa=Re=0,Ss=Kc=null,Dm=!1,(o&8)!==0&&(o|=o&32);var f=a.entangledLanes;if(f!==0)for(a=a.entanglements,f&=o;0<f;){var y=31-fn(f),x=1<<y;o|=a[y],f&=~x}return ea=o,$h(),u}function CS(a,o){_t=null,z.H=Ms,o===Nc?(o=Vv(),be=3):o===Gv?(o=Vv(),be=4):be=o===UM?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,yn=o,Ft===null&&(Re=1,md(a,Cn(o,a.current)))}function ES(){var a=z.H;return z.H=Ms,a===null?Ms:a}function kS(){var a=z.A;return z.A=yE,a}function Em(){Re=4,ta||(Zt&4194176)!==Zt&&wn.current!==null||(ol=!0),(Xa&134217727)===0&&(Xr&134217727)===0||ye===null||ia(ye,Zt,_n,!1)}function km(a,o,u){var f=Te;Te|=2;var y=ES(),x=kS();(ye!==a||Zt!==o)&&(Ad=null,cl(a,o)),o=!1;var I=Re;t:do try{if(be!==0&&Ft!==null){var E=Ft,R=yn;switch(be){case 8:Cm(),I=6;break t;case 3:case 2:case 6:wn.current===null&&(o=!0);var G=be;if(be=0,yn=null,ul(a,E,R,G),u&&ol){I=0;break t}break;default:G=be,be=0,yn=null,ul(a,E,R,G)}}vE(),I=Re;break}catch(Z){CS(a,Z)}while(!0);return o&&a.shellSuspendCounter++,Zs=Hr=null,Te=f,z.H=y,z.A=x,Ft===null&&(ye=null,Zt=0,$h()),I}function vE(){for(;Ft!==null;)wS(Ft)}function ME(a,o){var u=Te;Te|=2;var f=ES(),y=kS();ye!==a||Zt!==o?(Ad=null,Dd=Ji()+500,cl(a,o)):ol=dc(a,o);t:do try{if(be!==0&&Ft!==null){o=Ft;var x=yn;e:switch(be){case 1:be=0,yn=null,ul(a,o,x,1);break;case 2:if(Uv(x)){be=0,yn=null,OS(o);break}o=function(){be===2&&ye===a&&(be=7),Ds(a)},x.then(o,o);break t;case 3:be=7;break t;case 4:be=5;break t;case 7:Uv(x)?(be=0,yn=null,OS(o)):(be=0,yn=null,ul(a,o,x,7));break;case 5:var I=null;switch(Ft.tag){case 26:I=Ft.memoizedState;case 5:case 27:var E=Ft;if(!I||lD(I)){be=0,yn=null;var R=E.sibling;if(R!==null)Ft=R;else{var G=E.return;G!==null?(Ft=G,Id(G)):Ft=null}break e}}be=0,yn=null,ul(a,o,x,5);break;case 6:be=0,yn=null,ul(a,o,x,6);break;case 8:Cm(),Re=6;break t;default:throw Error(n(462))}}SE();break}catch(Z){CS(a,Z)}while(!0);return Zs=Hr=null,z.H=f,z.A=y,Te=u,Ft!==null?0:(ye=null,Zt=0,$h(),Re)}function SE(){for(;Ft!==null&&!Ai();)wS(Ft)}function wS(a){var o=tS(a.alternate,a,ea);a.memoizedProps=a.pendingProps,o===null?Id(a):Ft=o}function OS(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=ZM(u,o,o.pendingProps,o.type,void 0,Zt);break;case 11:o=ZM(u,o,o.pendingProps,o.type.render,o.ref,Zt);break;case 5:jg(o);default:LS(u,o),o=Ft=SS(o,ea),o=tS(u,o,ea)}a.memoizedProps=a.pendingProps,o===null?Id(a):Ft=o}function ul(a,o,u,f){Zs=Hr=null,jg(o),qo=null,Ec=0;var y=o.return;try{if(uE(a,y,o,u,Zt)){Re=1,md(a,Cn(u,a.current)),Ft=null;return}}catch(x){if(y!==null)throw Ft=y,x;Re=1,md(a,Cn(u,a.current)),Ft=null;return}o.flags&32768?(Qt||f===1?a=!0:ol||(Zt&536870912)!==0?a=!1:(ta=a=!0,(f===2||f===3||f===6)&&(f=wn.current,f!==null&&f.tag===13&&(f.flags|=16384))),RS(o,a)):Id(o)}function Id(a){var o=a;do{if((o.flags&32768)!==0){RS(o,ta);return}a=o.return;var u=gE(o.alternate,o,ea);if(u!==null){Ft=u;return}if(o=o.sibling,o!==null){Ft=o;return}Ft=o=a}while(o!==null);Re===0&&(Re=5)}function RS(a,o){do{var u=mE(a.alternate,a);if(u!==null){u.flags&=32767,Ft=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){Ft=a;return}Ft=a=u}while(a!==null);Re=6,Ft=null}function jS(a,o,u,f,y,x,I,E,R,G){var Z=z.T,st=X.p;try{X.p=2,z.T=null,DE(a,o,u,f,st,y,x,I,E,R,G)}finally{z.T=Z,X.p=st}}function DE(a,o,u,f,y,x,I,E){do hl();while($r!==null);if((Te&6)!==0)throw Error(n(327));var R=a.finishedWork;if(f=a.finishedLanes,R===null)return null;if(a.finishedWork=null,a.finishedLanes=0,R===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0,a.cancelPendingCommit=null;var G=R.lanes|R.childLanes;if(G|=vg,eC(a,f,G,x,I,E),a===ye&&(Ft=ye=null,Zt=0),(R.subtreeFlags&10256)===0&&(R.flags&10256)===0||Ld||(Ld=!0,Lm=G,Tm=u,IE(jh,function(){return hl(),null})),u=(R.flags&15990)!==0,(R.subtreeFlags&15990)!==0||u?(u=z.T,z.T=null,x=X.p,X.p=2,I=Te,Te|=4,dE(a,R),gS(R,a),KC(Ym,a.containerInfo),Bd=!!Um,Ym=Um=null,a.current=R,hS(a,R.alternate,R),zi(),Te=I,X.p=x,z.T=u):a.current=R,Ld?(Ld=!1,$r=a,Zc=f):_S(a,G),G=a.pendingLanes,G===0&&($a=null),$1(R.stateNode),Ds(a),o!==null)for(y=a.onRecoverableError,R=0;R<o.length;R++)G=o[R],y(G.value,{componentStack:G.stack});return(Zc&3)!==0&&hl(),G=a.pendingLanes,(f&4194218)!==0&&(G&42)!==0?a===Im?Xc++:(Xc=0,Im=a):Xc=0,$c(0),null}function _S(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,wc(o)))}function hl(){if($r!==null){var a=$r,o=Lm;Lm=0;var u=Hx(Zc),f=z.T,y=X.p;try{if(X.p=32>u?32:u,z.T=null,$r===null)var x=!1;else{u=Tm,Tm=null;var I=$r,E=Zc;if($r=null,Zc=0,(Te&6)!==0)throw Error(n(331));var R=Te;if(Te|=4,vS(I.current),yS(I,I.current,E,u),Te=R,$c(0,!1),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(hc,I)}catch{}x=!0}return x}finally{X.p=y,z.T=f,_S(a,o)}}return!1}function zS(a,o,u){o=Cn(u,o),o=Xg(a.stateNode,o,2),a=Va(a,o,2),a!==null&&(fc(a,2),Ds(a))}function he(a,o,u){if(a.tag===3)zS(a,a,u);else for(;o!==null;){if(o.tag===3){zS(o,a,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&($a===null||!$a.has(f))){a=Cn(u,a),u=FM(2),f=Va(o,u,2),f!==null&&(GM(u,f,o,a),fc(f,2),Ds(f));break}}o=o.return}}function wm(a,o,u){var f=a.pingCache;if(f===null){f=a.pingCache=new bE;var y=new Set;f.set(o,y)}else y=f.get(o),y===void 0&&(y=new Set,f.set(o,y));y.has(u)||(Mm=!0,y.add(u),a=AE.bind(null,a,o,u),o.then(a,a))}function AE(a,o,u){var f=a.pingCache;f!==null&&f.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,ye===a&&(Zt&u)===u&&(Re===4||Re===3&&(Zt&62914560)===Zt&&300>Ji()-Am?(Te&2)===0&&cl(a,0):Sm|=u,ll===Zt&&(ll=0)),Ds(a)}function PS(a,o){o===0&&(o=Ux()),a=_a(a,o),a!==null&&(fc(a,o),Ds(a))}function LE(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),PS(a,u)}function TE(a,o){var u=0;switch(a.tag){case 13:var f=a.stateNode,y=a.memoizedState;y!==null&&(u=y.retryLane);break;case 19:f=a.stateNode;break;case 22:f=a.stateNode._retryCache;break;default:throw Error(n(314))}f!==null&&f.delete(o),PS(a,u)}function IE(a,o){return _e(a,o)}var Nd=null,dl=null,Om=!1,Cd=!1,Rm=!1,qr=0;function Ds(a){a!==dl&&a.next===null&&(dl===null?Nd=dl=a:dl=dl.next=a),Cd=!0,Om||(Om=!0,CE(NE))}function $c(a,o){if(!Rm&&Cd){Rm=!0;do for(var u=!1,f=Nd;f!==null;){if(a!==0){var y=f.pendingLanes;if(y===0)var x=0;else{var I=f.suspendedLanes,E=f.pingedLanes;x=(1<<31-fn(42|a)+1)-1,x&=y&~(I&~E),x=x&201326677?x&201326677|1:x?x|2:0}x!==0&&(u=!0,GS(f,x))}else x=Zt,x=Ph(f,f===ye?x:0),(x&3)===0||dc(f,x)||(u=!0,GS(f,x));f=f.next}while(u);Rm=!1}}function NE(){Cd=Om=!1;var a=0;qr!==0&&(zE()&&(a=qr),qr=0);for(var o=Ji(),u=null,f=Nd;f!==null;){var y=f.next,x=BS(f,o);x===0?(f.next=null,u===null?Nd=y:u.next=y,y===null&&(dl=u)):(u=f,(a!==0||(x&3)!==0)&&(Cd=!0)),f=y}$c(a)}function BS(a,o){for(var u=a.suspendedLanes,f=a.pingedLanes,y=a.expirationTimes,x=a.pendingLanes&-62914561;0<x;){var I=31-fn(x),E=1<<I,R=y[I];R===-1?((E&u)===0||(E&f)!==0)&&(y[I]=tC(E,o)):R<=o&&(a.expiredLanes|=E),x&=~E}if(o=ye,u=Zt,u=Ph(a,a===o?u:0),f=a.callbackNode,u===0||a===o&&be===2||a.cancelPendingCommit!==null)return f!==null&&f!==null&&Se(f),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||dc(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(f!==null&&Se(f),Hx(u)){case 2:case 8:u=Bx;break;case 32:u=jh;break;case 268435456:u=Fx;break;default:u=jh}return f=FS.bind(null,a),u=_e(u,f),a.callbackPriority=o,a.callbackNode=u,o}return f!==null&&f!==null&&Se(f),a.callbackPriority=2,a.callbackNode=null,2}function FS(a,o){var u=a.callbackNode;if(hl()&&a.callbackNode!==u)return null;var f=Zt;return f=Ph(a,a===ye?f:0),f===0?null:(IS(a,f,o),BS(a,Ji()),a.callbackNode!=null&&a.callbackNode===u?FS.bind(null,a):null)}function GS(a,o){if(hl())return null;IS(a,o,!0)}function CE(a){BE(function(){(Te&6)!==0?_e(uc,a):a()})}function jm(){return qr===0&&(qr=Gx()),qr}function US(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Yh(""+a)}function YS(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function EE(a,o,u,f,y){if(o==="submit"&&u&&u.stateNode===y){var x=US((y[tn]||null).action),I=f.submitter;I&&(o=(o=I[tn]||null)?US(o.formAction):I.getAttribute("formAction"),o!==null&&(x=o,I=null));var E=new Kh("action","action",null,f,y);a.push({event:E,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(qr!==0){var R=I?YS(y,I):new FormData(y);Vg(u,{pending:!0,data:R,method:y.method,action:x},null,R)}}else typeof x=="function"&&(E.preventDefault(),R=I?YS(y,I):new FormData(y),Vg(u,{pending:!0,data:R,method:y.method,action:x},x,R))},currentTarget:y}]})}}for(var _m=0;_m<jv.length;_m++){var zm=jv[_m],kE=zm.toLowerCase(),wE=zm[0].toUpperCase()+zm.slice(1);is(kE,"on"+wE)}is(Ev,"onAnimationEnd"),is(kv,"onAnimationIteration"),is(wv,"onAnimationStart"),is("dblclick","onDoubleClick"),is("focusin","onFocus"),is("focusout","onBlur"),is(XC,"onTransitionRun"),is($C,"onTransitionStart"),is(qC,"onTransitionCancel"),is(Ov,"onTransitionEnd"),Bo("onMouseEnter",["mouseout","mouseover"]),Bo("onMouseLeave",["mouseout","mouseover"]),Bo("onPointerEnter",["pointerout","pointerover"]),Bo("onPointerLeave",["pointerout","pointerover"]),wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wr("onBeforeInput",["compositionend","keypress","textInput","paste"]),wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qc));function VS(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var f=a[u],y=f.event;f=f.listeners;t:{var x=void 0;if(o)for(var I=f.length-1;0<=I;I--){var E=f[I],R=E.instance,G=E.currentTarget;if(E=E.listener,R!==x&&y.isPropagationStopped())break t;x=E,y.currentTarget=G;try{x(y)}catch(Z){gd(Z)}y.currentTarget=null,x=R}else for(I=0;I<f.length;I++){if(E=f[I],R=E.instance,G=E.currentTarget,E=E.listener,R!==x&&y.isPropagationStopped())break t;x=E,y.currentTarget=G;try{x(y)}catch(Z){gd(Z)}y.currentTarget=null,x=R}}}}function Vt(a,o){var u=o[Jp];u===void 0&&(u=o[Jp]=new Set);var f=a+"__bubble";u.has(f)||(HS(o,a,2,!1),u.add(f))}function Pm(a,o,u){var f=0;o&&(f|=4),HS(u,a,f,o)}var Ed="_reactListening"+Math.random().toString(36).slice(2);function Bm(a){if(!a[Ed]){a[Ed]=!0,Zx.forEach(function(u){u!=="selectionchange"&&(OE.has(u)||Pm(u,!1,a),Pm(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Ed]||(o[Ed]=!0,Pm("selectionchange",!1,o))}}function HS(a,o,u,f){switch(pD(o)){case 2:var y=ak;break;case 8:y=rk;break;default:y=Qm}u=y.bind(null,o,u,a),y=void 0,!og||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),f?y!==void 0?a.addEventListener(o,u,{capture:!0,passive:y}):a.addEventListener(o,u,!0):y!==void 0?a.addEventListener(o,u,{passive:y}):a.addEventListener(o,u,!1)}function Fm(a,o,u,f,y){var x=f;if((o&1)===0&&(o&2)===0&&f!==null)t:for(;;){if(f===null)return;var I=f.tag;if(I===3||I===4){var E=f.stateNode.containerInfo;if(E===y||E.nodeType===8&&E.parentNode===y)break;if(I===4)for(I=f.return;I!==null;){var R=I.tag;if((R===3||R===4)&&(R=I.stateNode.containerInfo,R===y||R.nodeType===8&&R.parentNode===y))return;I=I.return}for(;E!==null;){if(I=kr(E),I===null)return;if(R=I.tag,R===5||R===6||R===26||R===27){f=x=I;continue t}E=E.parentNode}}f=f.return}rv(function(){var G=x,Z=ag(u),st=[];t:{var H=Rv.get(a);if(H!==void 0){var K=Kh,Dt=a;switch(a){case"keypress":if(Hh(u)===0)break t;case"keydown":case"keyup":K=TC;break;case"focusin":Dt="focus",K=hg;break;case"focusout":Dt="blur",K=hg;break;case"beforeblur":case"afterblur":K=hg;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=cv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=pC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=CC;break;case Ev:case kv:case wv:K=yC;break;case Ov:K=kC;break;case"scroll":case"scrollend":K=dC;break;case"wheel":K=OC;break;case"copy":case"cut":case"paste":K=xC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=hv;break;case"toggle":case"beforetoggle":K=jC}var kt=(o&4)!==0,je=!kt&&(a==="scroll"||a==="scrollend"),Y=kt?H!==null?H+"Capture":null:H;kt=[];for(var F=G,V;F!==null;){var tt=F;if(V=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||V===null||Y===null||(tt=mc(F,Y),tt!=null&&kt.push(Qc(F,tt,V))),je)break;F=F.return}0<kt.length&&(H=new K(H,Dt,null,u,Z),st.push({event:H,listeners:kt}))}}if((o&7)===0){t:{if(H=a==="mouseover"||a==="pointerover",K=a==="mouseout"||a==="pointerout",H&&u!==sg&&(Dt=u.relatedTarget||u.fromElement)&&(kr(Dt)||Dt[_o]))break t;if((K||H)&&(H=Z.window===Z?Z:(H=Z.ownerDocument)?H.defaultView||H.parentWindow:window,K?(Dt=u.relatedTarget||u.toElement,K=G,Dt=Dt?kr(Dt):null,Dt!==null&&(je=it(Dt),kt=Dt.tag,Dt!==je||kt!==5&&kt!==27&&kt!==6)&&(Dt=null)):(K=null,Dt=G),K!==Dt)){if(kt=cv,tt="onMouseLeave",Y="onMouseEnter",F="mouse",(a==="pointerout"||a==="pointerover")&&(kt=hv,tt="onPointerLeave",Y="onPointerEnter",F="pointer"),je=K==null?H:gc(K),V=Dt==null?H:gc(Dt),H=new kt(tt,F+"leave",K,u,Z),H.target=je,H.relatedTarget=V,tt=null,kr(Z)===G&&(kt=new kt(Y,F+"enter",Dt,u,Z),kt.target=V,kt.relatedTarget=je,tt=kt),je=tt,K&&Dt)e:{for(kt=K,Y=Dt,F=0,V=kt;V;V=fl(V))F++;for(V=0,tt=Y;tt;tt=fl(tt))V++;for(;0<F-V;)kt=fl(kt),F--;for(;0<V-F;)Y=fl(Y),V--;for(;F--;){if(kt===Y||Y!==null&&kt===Y.alternate)break e;kt=fl(kt),Y=fl(Y)}kt=null}else kt=null;K!==null&&WS(st,H,K,kt,!1),Dt!==null&&je!==null&&WS(st,je,Dt,kt,!0)}}t:{if(H=G?gc(G):window,K=H.nodeName&&H.nodeName.toLowerCase(),K==="select"||K==="input"&&H.type==="file")var vt=xv;else if(yv(H))if(vv)vt=HC;else{vt=YC;var Pt=UC}else K=H.nodeName,!K||K.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?G&&ng(G.elementType)&&(vt=xv):vt=VC;if(vt&&(vt=vt(a,G))){bv(st,vt,u,Z);break t}Pt&&Pt(a,H,G),a==="focusout"&&G&&H.type==="number"&&G.memoizedProps.value!=null&&ig(H,"number",H.value)}switch(Pt=G?gc(G):window,a){case"focusin":(yv(Pt)||Pt.contentEditable==="true")&&(Ho=Pt,yg=G,Ac=null);break;case"focusout":Ac=yg=Ho=null;break;case"mousedown":bg=!0;break;case"contextmenu":case"mouseup":case"dragend":bg=!1,Nv(st,u,Z);break;case"selectionchange":if(ZC)break;case"keydown":case"keyup":Nv(st,u,Z)}var Lt;if(fg)t:{switch(a){case"compositionstart":var It="onCompositionStart";break t;case"compositionend":It="onCompositionEnd";break t;case"compositionupdate":It="onCompositionUpdate";break t}It=void 0}else Vo?gv(a,u)&&(It="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(It="onCompositionStart");It&&(dv&&u.locale!=="ko"&&(Vo||It!=="onCompositionStart"?It==="onCompositionEnd"&&Vo&&(Lt=ov()):(ja=Z,lg="value"in ja?ja.value:ja.textContent,Vo=!0)),Pt=kd(G,It),0<Pt.length&&(It=new uv(It,a,null,u,Z),st.push({event:It,listeners:Pt}),Lt?It.data=Lt:(Lt=mv(u),Lt!==null&&(It.data=Lt)))),(Lt=zC?PC(a,u):BC(a,u))&&(It=kd(G,"onBeforeInput"),0<It.length&&(Pt=new uv("onBeforeInput","beforeinput",null,u,Z),st.push({event:Pt,listeners:It}),Pt.data=Lt)),EE(st,a,G,u,Z)}VS(st,o)})}function Qc(a,o,u){return{instance:a,listener:o,currentTarget:u}}function kd(a,o){for(var u=o+"Capture",f=[];a!==null;){var y=a,x=y.stateNode;y=y.tag,y!==5&&y!==26&&y!==27||x===null||(y=mc(a,u),y!=null&&f.unshift(Qc(a,y,x)),y=mc(a,o),y!=null&&f.push(Qc(a,y,x))),a=a.return}return f}function fl(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function WS(a,o,u,f,y){for(var x=o._reactName,I=[];u!==null&&u!==f;){var E=u,R=E.alternate,G=E.stateNode;if(E=E.tag,R!==null&&R===f)break;E!==5&&E!==26&&E!==27||G===null||(R=G,y?(G=mc(u,x),G!=null&&I.unshift(Qc(u,G,R))):y||(G=mc(u,x),G!=null&&I.push(Qc(u,G,R)))),u=u.return}I.length!==0&&a.push({event:o,listeners:I})}var RE=/\r\n?/g,jE=/\u0000|\uFFFD/g;function KS(a){return(typeof a=="string"?a:""+a).replace(RE,`
`).replace(jE,"")}function ZS(a,o){return o=KS(o),KS(a)===o}function wd(){}function oe(a,o,u,f,y,x){switch(u){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||Go(a,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&Go(a,""+f);break;case"className":Fh(a,"class",f);break;case"tabIndex":Fh(a,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Fh(a,u,f);break;case"style":sv(a,f,x);break;case"data":if(o!=="object"){Fh(a,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(u);break}f=Yh(""+f),a.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(u==="formAction"?(o!=="input"&&oe(a,o,"name",y.name,y,null),oe(a,o,"formEncType",y.formEncType,y,null),oe(a,o,"formMethod",y.formMethod,y,null),oe(a,o,"formTarget",y.formTarget,y,null)):(oe(a,o,"encType",y.encType,y,null),oe(a,o,"method",y.method,y,null),oe(a,o,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(u);break}f=Yh(""+f),a.setAttribute(u,f);break;case"onClick":f!=null&&(a.onclick=wd);break;case"onScroll":f!=null&&Vt("scroll",a);break;case"onScrollEnd":f!=null&&Vt("scrollend",a);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(u=f.__html,u!=null){if(y.children!=null)throw Error(n(60));a.innerHTML=u}}break;case"multiple":a.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":a.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){a.removeAttribute("xlink:href");break}u=Yh(""+f),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,""+f):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":f===!0?a.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,f):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?a.setAttribute(u,f):a.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?a.removeAttribute(u):a.setAttribute(u,f);break;case"popover":Vt("beforetoggle",a),Vt("toggle",a),Bh(a,"popover",f);break;case"xlinkActuate":Us(a,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Us(a,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Us(a,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Us(a,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Us(a,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Us(a,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Us(a,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Us(a,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Us(a,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Bh(a,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=uC.get(u)||u,Bh(a,u,f))}}function Gm(a,o,u,f,y,x){switch(u){case"style":sv(a,f,x);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(u=f.__html,u!=null){if(y.children!=null)throw Error(n(60));a.innerHTML=u}}break;case"children":typeof f=="string"?Go(a,f):(typeof f=="number"||typeof f=="bigint")&&Go(a,""+f);break;case"onScroll":f!=null&&Vt("scroll",a);break;case"onScrollEnd":f!=null&&Vt("scrollend",a);break;case"onClick":f!=null&&(a.onclick=wd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xx.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),x=a[tn]||null,x=x!=null?x[u]:null,typeof x=="function"&&a.removeEventListener(o,x,y),typeof f=="function")){typeof x!="function"&&x!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,f,y);break t}u in a?a[u]=f:f===!0?a.setAttribute(u,""):Bh(a,u,f)}}}function vi(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",a),Vt("load",a);var f=!1,y=!1,x;for(x in u)if(u.hasOwnProperty(x)){var I=u[x];if(I!=null)switch(x){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:oe(a,o,x,I,u,null)}}y&&oe(a,o,"srcSet",u.srcSet,u,null),f&&oe(a,o,"src",u.src,u,null);return;case"input":Vt("invalid",a);var E=x=I=y=null,R=null,G=null;for(f in u)if(u.hasOwnProperty(f)){var Z=u[f];if(Z!=null)switch(f){case"name":y=Z;break;case"type":I=Z;break;case"checked":R=Z;break;case"defaultChecked":G=Z;break;case"value":x=Z;break;case"defaultValue":E=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(n(137,o));break;default:oe(a,o,f,Z,u,null)}}tv(a,x,E,R,G,I,y,!1),Gh(a);return;case"select":Vt("invalid",a),f=I=x=null;for(y in u)if(u.hasOwnProperty(y)&&(E=u[y],E!=null))switch(y){case"value":x=E;break;case"defaultValue":I=E;break;case"multiple":f=E;default:oe(a,o,y,E,u,null)}o=x,u=I,a.multiple=!!f,o!=null?Fo(a,!!f,o,!1):u!=null&&Fo(a,!!f,u,!0);return;case"textarea":Vt("invalid",a),x=y=f=null;for(I in u)if(u.hasOwnProperty(I)&&(E=u[I],E!=null))switch(I){case"value":f=E;break;case"defaultValue":y=E;break;case"children":x=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(n(91));break;default:oe(a,o,I,E,u,null)}iv(a,f,y,x),Gh(a);return;case"option":for(R in u)if(u.hasOwnProperty(R)&&(f=u[R],f!=null))switch(R){case"selected":a.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:oe(a,o,R,f,u,null)}return;case"dialog":Vt("cancel",a),Vt("close",a);break;case"iframe":case"object":Vt("load",a);break;case"video":case"audio":for(f=0;f<qc.length;f++)Vt(qc[f],a);break;case"image":Vt("error",a),Vt("load",a);break;case"details":Vt("toggle",a);break;case"embed":case"source":case"link":Vt("error",a),Vt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in u)if(u.hasOwnProperty(G)&&(f=u[G],f!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:oe(a,o,G,f,u,null)}return;default:if(ng(o)){for(Z in u)u.hasOwnProperty(Z)&&(f=u[Z],f!==void 0&&Gm(a,o,Z,f,u,void 0));return}}for(E in u)u.hasOwnProperty(E)&&(f=u[E],f!=null&&oe(a,o,E,f,u,null))}function _E(a,o,u,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,x=null,I=null,E=null,R=null,G=null,Z=null;for(K in u){var st=u[K];if(u.hasOwnProperty(K)&&st!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":R=st;default:f.hasOwnProperty(K)||oe(a,o,K,null,f,st)}}for(var H in f){var K=f[H];if(st=u[H],f.hasOwnProperty(H)&&(K!=null||st!=null))switch(H){case"type":x=K;break;case"name":y=K;break;case"checked":G=K;break;case"defaultChecked":Z=K;break;case"value":I=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(n(137,o));break;default:K!==st&&oe(a,o,H,K,f,st)}}eg(a,I,E,R,G,Z,x,y);return;case"select":K=I=E=H=null;for(x in u)if(R=u[x],u.hasOwnProperty(x)&&R!=null)switch(x){case"value":break;case"multiple":K=R;default:f.hasOwnProperty(x)||oe(a,o,x,null,f,R)}for(y in f)if(x=f[y],R=u[y],f.hasOwnProperty(y)&&(x!=null||R!=null))switch(y){case"value":H=x;break;case"defaultValue":E=x;break;case"multiple":I=x;default:x!==R&&oe(a,o,y,x,f,R)}o=E,u=I,f=K,H!=null?Fo(a,!!u,H,!1):!!f!=!!u&&(o!=null?Fo(a,!!u,o,!0):Fo(a,!!u,u?[]:"",!1));return;case"textarea":K=H=null;for(E in u)if(y=u[E],u.hasOwnProperty(E)&&y!=null&&!f.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:oe(a,o,E,null,f,y)}for(I in f)if(y=f[I],x=u[I],f.hasOwnProperty(I)&&(y!=null||x!=null))switch(I){case"value":H=y;break;case"defaultValue":K=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(n(91));break;default:y!==x&&oe(a,o,I,y,f,x)}ev(a,H,K);return;case"option":for(var Dt in u)if(H=u[Dt],u.hasOwnProperty(Dt)&&H!=null&&!f.hasOwnProperty(Dt))switch(Dt){case"selected":a.selected=!1;break;default:oe(a,o,Dt,null,f,H)}for(R in f)if(H=f[R],K=u[R],f.hasOwnProperty(R)&&H!==K&&(H!=null||K!=null))switch(R){case"selected":a.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:oe(a,o,R,H,f,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var kt in u)H=u[kt],u.hasOwnProperty(kt)&&H!=null&&!f.hasOwnProperty(kt)&&oe(a,o,kt,null,f,H);for(G in f)if(H=f[G],K=u[G],f.hasOwnProperty(G)&&H!==K&&(H!=null||K!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(n(137,o));break;default:oe(a,o,G,H,f,K)}return;default:if(ng(o)){for(var je in u)H=u[je],u.hasOwnProperty(je)&&H!==void 0&&!f.hasOwnProperty(je)&&Gm(a,o,je,void 0,f,H);for(Z in f)H=f[Z],K=u[Z],!f.hasOwnProperty(Z)||H===K||H===void 0&&K===void 0||Gm(a,o,Z,H,f,K);return}}for(var Y in u)H=u[Y],u.hasOwnProperty(Y)&&H!=null&&!f.hasOwnProperty(Y)&&oe(a,o,Y,null,f,H);for(st in f)H=f[st],K=u[st],!f.hasOwnProperty(st)||H===K||H==null&&K==null||oe(a,o,st,H,f,K)}var Um=null,Ym=null;function Od(a){return a.nodeType===9?a:a.ownerDocument}function XS(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $S(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function Vm(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Hm=null;function zE(){var a=window.event;return a&&a.type==="popstate"?a===Hm?!1:(Hm=a,!0):(Hm=null,!1)}var qS=typeof setTimeout=="function"?setTimeout:void 0,PE=typeof clearTimeout=="function"?clearTimeout:void 0,QS=typeof Promise=="function"?Promise:void 0,BE=typeof queueMicrotask=="function"?queueMicrotask:typeof QS<"u"?function(a){return QS.resolve(null).then(a).catch(FE)}:qS;function FE(a){setTimeout(function(){throw a})}function Wm(a,o){var u=o,f=0;do{var y=u.nextSibling;if(a.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(f===0){a.removeChild(y),ru(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=y}while(u);ru(o)}function Km(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Km(u),tg(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function GE(a,o,u,f){for(;a.nodeType===1;){var y=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(f){if(!a[pc])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(x=a.getAttribute("rel"),x==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(x!==y.rel||a.getAttribute("href")!==(y.href==null?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(x=a.getAttribute("src"),(x!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&x&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var x=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===x)return a}else return a;if(a=as(a.nextSibling),a===null)break}return null}function UE(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=as(a.nextSibling),a===null))return null;return a}function as(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return a}function JS(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return a;o--}else u==="/$"&&o++}a=a.previousSibling}return null}function tD(a,o,u){switch(o=Od(u),a){case"html":if(a=o.documentElement,!a)throw Error(n(452));return a;case"head":if(a=o.head,!a)throw Error(n(453));return a;case"body":if(a=o.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}var zn=new Map,eD=new Set;function Rd(a){return typeof a.getRootNode=="function"?a.getRootNode():a.ownerDocument}var na=X.d;X.d={f:YE,r:VE,D:HE,C:WE,L:KE,m:ZE,X:$E,S:XE,M:qE};function YE(){var a=na.f(),o=Td();return a||o}function VE(a){var o=zo(a);o!==null&&o.tag===5&&o.type==="form"?NM(o):na.r(a)}var pl=typeof document>"u"?null:document;function iD(a,o,u){var f=pl;if(f&&typeof o=="string"&&o){var y=In(o);y='link[rel="'+a+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),eD.has(y)||(eD.add(y),a={rel:a,crossOrigin:u,href:o},f.querySelector(y)===null&&(o=f.createElement("link"),vi(o,"link",a),ci(o),f.head.appendChild(o)))}}function HE(a){na.D(a),iD("dns-prefetch",a,null)}function WE(a,o){na.C(a,o),iD("preconnect",a,o)}function KE(a,o,u){na.L(a,o,u);var f=pl;if(f&&a&&o){var y='link[rel="preload"][as="'+In(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+In(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+In(u.imageSizes)+'"]')):y+='[href="'+In(a)+'"]';var x=y;switch(o){case"style":x=gl(a);break;case"script":x=ml(a)}zn.has(x)||(a=B({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),zn.set(x,a),f.querySelector(y)!==null||o==="style"&&f.querySelector(Jc(x))||o==="script"&&f.querySelector(tu(x))||(o=f.createElement("link"),vi(o,"link",a),ci(o),f.head.appendChild(o)))}}function ZE(a,o){na.m(a,o);var u=pl;if(u&&a){var f=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+In(f)+'"][href="'+In(a)+'"]',x=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=ml(a)}if(!zn.has(x)&&(a=B({rel:"modulepreload",href:a},o),zn.set(x,a),u.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(tu(x)))return}f=u.createElement("link"),vi(f,"link",a),ci(f),u.head.appendChild(f)}}}function XE(a,o,u){na.S(a,o,u);var f=pl;if(f&&a){var y=Po(f).hoistableStyles,x=gl(a);o=o||"default";var I=y.get(x);if(!I){var E={loading:0,preload:null};if(I=f.querySelector(Jc(x)))E.loading=5;else{a=B({rel:"stylesheet",href:a,"data-precedence":o},u),(u=zn.get(x))&&Zm(a,u);var R=I=f.createElement("link");ci(R),vi(R,"link",a),R._p=new Promise(function(G,Z){R.onload=G,R.onerror=Z}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,jd(I,o,f)}I={type:"stylesheet",instance:I,count:1,state:E},y.set(x,I)}}}function $E(a,o){na.X(a,o);var u=pl;if(u&&a){var f=Po(u).hoistableScripts,y=ml(a),x=f.get(y);x||(x=u.querySelector(tu(y)),x||(a=B({src:a,async:!0},o),(o=zn.get(y))&&Xm(a,o),x=u.createElement("script"),ci(x),vi(x,"link",a),u.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(y,x))}}function qE(a,o){na.M(a,o);var u=pl;if(u&&a){var f=Po(u).hoistableScripts,y=ml(a),x=f.get(y);x||(x=u.querySelector(tu(y)),x||(a=B({src:a,async:!0,type:"module"},o),(o=zn.get(y))&&Xm(a,o),x=u.createElement("script"),ci(x),vi(x,"link",a),u.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(y,x))}}function nD(a,o,u,f){var y=(y=Bt.current)?Rd(y):null;if(!y)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=gl(u.href),u=Po(y).hoistableStyles,f=u.get(o),f||(f={type:"style",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=gl(u.href);var x=Po(y).hoistableStyles,I=x.get(a);if(I||(y=y.ownerDocument||y,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(a,I),(x=y.querySelector(Jc(a)))&&!x._p&&(I.instance=x,I.state.loading=5),zn.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},zn.set(a,u),x||QE(y,a,u,I.state))),o&&f===null)throw Error(n(528,""));return I}if(o&&f!==null)throw Error(n(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=ml(u),u=Po(y).hoistableScripts,f=u.get(o),f||(f={type:"script",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function gl(a){return'href="'+In(a)+'"'}function Jc(a){return'link[rel="stylesheet"]['+a+"]"}function sD(a){return B({},a,{"data-precedence":a.precedence,precedence:null})}function QE(a,o,u,f){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=a.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),vi(o,"link",u),ci(o),a.head.appendChild(o))}function ml(a){return'[src="'+In(a)+'"]'}function tu(a){return"script[async]"+a}function aD(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var f=a.querySelector('style[data-href~="'+In(u.href)+'"]');if(f)return o.instance=f,ci(f),f;var y=B({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(a.ownerDocument||a).createElement("style"),ci(f),vi(f,"style",y),jd(f,u.precedence,a),o.instance=f;case"stylesheet":y=gl(u.href);var x=a.querySelector(Jc(y));if(x)return o.state.loading|=4,o.instance=x,ci(x),x;f=sD(u),(y=zn.get(y))&&Zm(f,y),x=(a.ownerDocument||a).createElement("link"),ci(x);var I=x;return I._p=new Promise(function(E,R){I.onload=E,I.onerror=R}),vi(x,"link",f),o.state.loading|=4,jd(x,u.precedence,a),o.instance=x;case"script":return x=ml(u.src),(y=a.querySelector(tu(x)))?(o.instance=y,ci(y),y):(f=u,(y=zn.get(x))&&(f=B({},u),Xm(f,y)),a=a.ownerDocument||a,y=a.createElement("script"),ci(y),vi(y,"link",f),a.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,jd(f,u.precedence,a));return o.instance}function jd(a,o,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,x=y,I=0;I<f.length;I++){var E=f[I];if(E.dataset.precedence===o)x=E;else if(x!==y)break}x?x.parentNode.insertBefore(a,x.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function Zm(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function Xm(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var _d=null;function rD(a,o,u){if(_d===null){var f=new Map,y=_d=new Map;y.set(u,f)}else y=_d,f=y.get(u),f||(f=new Map,y.set(u,f));if(f.has(a))return f;for(f.set(a,null),u=u.getElementsByTagName(a),y=0;y<u.length;y++){var x=u[y];if(!(x[pc]||x[Li]||a==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var I=x.getAttribute(o)||"";I=a+I;var E=f.get(I);E?E.push(x):f.set(I,[x])}}return f}function oD(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function JE(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function lD(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var eu=null;function tk(){}function ek(a,o,u){if(eu===null)throw Error(n(475));var f=eu;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=gl(u.href),x=a.querySelector(Jc(y));if(x){a=x._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(f.count++,f=zd.bind(f),a.then(f,f)),o.state.loading|=4,o.instance=x,ci(x);return}x=a.ownerDocument||a,u=sD(u),(y=zn.get(y))&&Zm(u,y),x=x.createElement("link"),ci(x);var I=x;I._p=new Promise(function(E,R){I.onload=E,I.onerror=R}),vi(x,"link",u),o.instance=x}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(o,a),(a=o.state.preload)&&(o.state.loading&3)===0&&(f.count++,o=zd.bind(f),a.addEventListener("load",o),a.addEventListener("error",o))}}function ik(){if(eu===null)throw Error(n(475));var a=eu;return a.stylesheets&&a.count===0&&$m(a,a.stylesheets),0<a.count?function(o){var u=setTimeout(function(){if(a.stylesheets&&$m(a,a.stylesheets),a.unsuspend){var f=a.unsuspend;a.unsuspend=null,f()}},6e4);return a.unsuspend=o,function(){a.unsuspend=null,clearTimeout(u)}}:null}function zd(){if(this.count--,this.count===0){if(this.stylesheets)$m(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Pd=null;function $m(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Pd=new Map,o.forEach(nk,a),Pd=null,zd.call(a))}function nk(a,o){if(!(o.state.loading&4)){var u=Pd.get(a);if(u)var f=u.get(null);else{u=new Map,Pd.set(a,u);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<y.length;x++){var I=y[x];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(u.set(I.dataset.precedence,I),f=I)}f&&u.set(null,f)}y=o.instance,I=y.getAttribute("data-precedence"),x=u.get(I)||f,x===f&&u.set(null,y),u.set(I,y),this.count++,f=zd.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),x?x.parentNode.insertBefore(y,x.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),o.state.loading|=4}}var iu={$$typeof:b,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function sk(a,o,u,f,y,x,I,E){this.tag=1,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qp(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qp(0),this.hiddenUpdates=Qp(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=x,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function cD(a,o,u,f,y,x,I,E,R,G,Z,st){return a=new sk(a,o,u,I,E,R,G,st),o=1,x===!0&&(o|=24),x=jn(3,null,null,o),a.current=x,x.stateNode=a,o=Ng(),o.refCount++,a.pooledCache=o,o.refCount++,x.memoizedState={element:f,isDehydrated:u,cache:o},lm(x),a}function uD(a){return a?(a=Zo,a):Zo}function hD(a,o,u,f,y,x){y=uD(y),f.context===null?f.context=y:f.pendingContext=y,f=Ya(o),f.payload={element:u},x=x===void 0?null:x,x!==null&&(f.callback=x),u=Va(a,f,o),u!==null&&(Bi(u,a,o),Bc(u,a,o))}function dD(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function qm(a,o){dD(a,o),(a=a.alternate)&&dD(a,o)}function fD(a){if(a.tag===13){var o=_a(a,67108864);o!==null&&Bi(o,a,67108864),qm(a,67108864)}}var Bd=!0;function ak(a,o,u,f){var y=z.T;z.T=null;var x=X.p;try{X.p=2,Qm(a,o,u,f)}finally{X.p=x,z.T=y}}function rk(a,o,u,f){var y=z.T;z.T=null;var x=X.p;try{X.p=8,Qm(a,o,u,f)}finally{X.p=x,z.T=y}}function Qm(a,o,u,f){if(Bd){var y=Jm(f);if(y===null)Fm(a,o,f,Fd,u),gD(a,f);else if(lk(y,a,o,u,f))f.stopPropagation();else if(gD(a,f),o&4&&-1<ok.indexOf(a)){for(;y!==null;){var x=zo(y);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var I=Er(x.pendingLanes);if(I!==0){var E=x;for(E.pendingLanes|=2,E.entangledLanes|=2;I;){var R=1<<31-fn(I);E.entanglements[1]|=R,I&=~R}Ds(x),(Te&6)===0&&(Dd=Ji()+500,$c(0))}}break;case 13:E=_a(x,2),E!==null&&Bi(E,x,2),Td(),qm(x,2)}if(x=Jm(f),x===null&&Fm(a,o,f,Fd,u),x===y)break;y=x}y!==null&&f.stopPropagation()}else Fm(a,o,f,null,u)}}function Jm(a){return a=ag(a),ty(a)}var Fd=null;function ty(a){if(Fd=null,a=kr(a),a!==null){var o=it(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=ut(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Fd=a,null}function pD(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jo()){case uc:return 2;case Bx:return 8;case jh:case K1:return 32;case Fx:return 268435456;default:return 32}default:return 32}}var ey=!1,qa=null,Qa=null,Ja=null,nu=new Map,su=new Map,tr=[],ok="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gD(a,o){switch(a){case"focusin":case"focusout":qa=null;break;case"dragenter":case"dragleave":Qa=null;break;case"mouseover":case"mouseout":Ja=null;break;case"pointerover":case"pointerout":nu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":su.delete(o.pointerId)}}function au(a,o,u,f,y,x){return a===null||a.nativeEvent!==x?(a={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:x,targetContainers:[y]},o!==null&&(o=zo(o),o!==null&&fD(o)),a):(a.eventSystemFlags|=f,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function lk(a,o,u,f,y){switch(o){case"focusin":return qa=au(qa,a,o,u,f,y),!0;case"dragenter":return Qa=au(Qa,a,o,u,f,y),!0;case"mouseover":return Ja=au(Ja,a,o,u,f,y),!0;case"pointerover":var x=y.pointerId;return nu.set(x,au(nu.get(x)||null,a,o,u,f,y)),!0;case"gotpointercapture":return x=y.pointerId,su.set(x,au(su.get(x)||null,a,o,u,f,y)),!0}return!1}function mD(a){var o=kr(a.target);if(o!==null){var u=it(o);if(u!==null){if(o=u.tag,o===13){if(o=ut(u),o!==null){a.blockedOn=o,iC(a.priority,function(){if(u.tag===13){var f=bn(),y=_a(u,f);y!==null&&Bi(y,u,f),qm(u,f)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Gd(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=Jm(a.nativeEvent);if(u===null){u=a.nativeEvent;var f=new u.constructor(u.type,u);sg=f,u.target.dispatchEvent(f),sg=null}else return o=zo(u),o!==null&&fD(o),a.blockedOn=u,!1;o.shift()}return!0}function yD(a,o,u){Gd(a)&&u.delete(o)}function ck(){ey=!1,qa!==null&&Gd(qa)&&(qa=null),Qa!==null&&Gd(Qa)&&(Qa=null),Ja!==null&&Gd(Ja)&&(Ja=null),nu.forEach(yD),su.forEach(yD)}function Ud(a,o){a.blockedOn===o&&(a.blockedOn=null,ey||(ey=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ck)))}var Yd=null;function bD(a){Yd!==a&&(Yd=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Yd===a&&(Yd=null);for(var o=0;o<a.length;o+=3){var u=a[o],f=a[o+1],y=a[o+2];if(typeof f!="function"){if(ty(f||u)===null)continue;break}var x=zo(u);x!==null&&(a.splice(o,3),o-=3,Vg(x,{pending:!0,data:y,method:u.method,action:f},f,y))}}))}function ru(a){function o(R){return Ud(R,a)}qa!==null&&Ud(qa,a),Qa!==null&&Ud(Qa,a),Ja!==null&&Ud(Ja,a),nu.forEach(o),su.forEach(o);for(var u=0;u<tr.length;u++){var f=tr[u];f.blockedOn===a&&(f.blockedOn=null)}for(;0<tr.length&&(u=tr[0],u.blockedOn===null);)mD(u),u.blockedOn===null&&tr.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var y=u[f],x=u[f+1],I=y[tn]||null;if(typeof x=="function")I||bD(u);else if(I){var E=null;if(x&&x.hasAttribute("formAction")){if(y=x,I=x[tn]||null)E=I.formAction;else if(ty(y)!==null)continue}else E=I.action;typeof E=="function"?u[f+1]=E:(u.splice(f,3),f-=3),bD(u)}}}function iy(a){this._internalRoot=a}Vd.prototype.render=iy.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(n(409));var u=o.current,f=bn();hD(u,f,a,o,null,null)},Vd.prototype.unmount=iy.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;a.tag===0&&hl(),hD(a.current,2,null,a,null,null),Td(),o[_o]=null}};function Vd(a){this._internalRoot=a}Vd.prototype.unstable_scheduleHydration=function(a){if(a){var o=Wx();a={blockedOn:null,target:a,priority:o};for(var u=0;u<tr.length&&o!==0&&o<tr[u].priority;u++);tr.splice(u,0,a),u===0&&mD(a)}};var xD=e.version;if(xD!=="19.0.0")throw Error(n(527,xD,"19.0.0"));X.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=U(o),a=a!==null?Q(a):null,a=a===null?null:a.stateNode,a};var uk={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:z,findFiberByHostInstance:kr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hd.isDisabled&&Hd.supportsFiber)try{hc=Hd.inject(uk),dn=Hd}catch{}}return lu.createRoot=function(a,o){if(!s(a))throw Error(n(299));var u=!1,f="",y=_M,x=zM,I=PM,E=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(E=o.unstable_transitionCallbacks)),o=cD(a,1,!1,null,null,u,f,y,x,I,E,null),a[_o]=o.current,Bm(a.nodeType===8?a.parentNode:a),new iy(o)},lu.hydrateRoot=function(a,o,u){if(!s(a))throw Error(n(299));var f=!1,y="",x=_M,I=zM,E=PM,R=null,G=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(x=u.onUncaughtError),u.onCaughtError!==void 0&&(I=u.onCaughtError),u.onRecoverableError!==void 0&&(E=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(R=u.unstable_transitionCallbacks),u.formState!==void 0&&(G=u.formState)),o=cD(a,1,!0,o,u??null,f,y,x,I,E,R,G),o.context=uD(null),u=o.current,f=bn(),y=Ya(f),y.callback=null,Va(u,y,f),o.current.lanes=f,fc(o,f),Ds(o),a[_o]=o.current,Bm(a),new Vd(o)},lu.version="19.0.0",lu}var CD;function Mk(){if(CD)return ay.exports;CD=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ay.exports=vk(),ay.exports}var Sk=Mk();const Dk=C0(Sk);DL();/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wu(){return wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},wu.apply(this,arguments)}var rr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(rr||(rr={}));const ED="popstate";function Ak(t){t===void 0&&(t={});function e(s,r){let{pathname:l="/",search:c="",hash:h=""}=So(s.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Hy("",{pathname:l,search:c,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function i(s,r){let l=s.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let h=s.location.href,d=h.indexOf("#");c=d===-1?h:h.slice(0,d)}return c+"#"+(typeof r=="string"?r:Mf(r))}function n(s,r){k0(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(r)+")")}return Tk(e,i,n,t)}function Qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function k0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Lk(){return Math.random().toString(36).substr(2,8)}function kD(t,e){return{usr:t.state,key:t.key,idx:e}}function Hy(t,e,i,n){return i===void 0&&(i=null),wu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?So(e):e,{state:i,key:e&&e.key||n||Lk()})}function Mf(t){let{pathname:e="/",search:i="",hash:n=""}=t;return i&&i!=="?"&&(e+=i.charAt(0)==="?"?i:"?"+i),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function So(t){let e={};if(t){let i=t.indexOf("#");i>=0&&(e.hash=t.substr(i),t=t.substr(0,i));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Tk(t,e,i,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:r=!1}=n,l=s.history,c=rr.Pop,h=null,d=p();d==null&&(d=0,l.replaceState(wu({},l.state,{idx:d}),""));function p(){return(l.state||{idx:null}).idx}function g(){c=rr.Pop;let A=p(),D=A==null?null:A-d;d=A,h&&h({action:c,location:S.location,delta:D})}function m(A,D){c=rr.Push;let L=Hy(S.location,A,D);i&&i(L,A),d=p()+1;let C=kD(L,d),N=S.createHref(L);try{l.pushState(C,"",N)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(N)}r&&h&&h({action:c,location:S.location,delta:1})}function b(A,D){c=rr.Replace;let L=Hy(S.location,A,D);i&&i(L,A),d=p();let C=kD(L,d),N=S.createHref(L);l.replaceState(C,"",N),r&&h&&h({action:c,location:S.location,delta:0})}function v(A){let D=s.location.origin!=="null"?s.location.origin:s.location.href,L=typeof A=="string"?A:Mf(A);return L=L.replace(/ $/,"%20"),Qe(D,"No window.location.(origin|href) available to create URL for href: "+L),new URL(L,D)}let S={get action(){return c},get location(){return t(s,l)},listen(A){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(ED,g),h=A,()=>{s.removeEventListener(ED,g),h=null}},createHref(A){return e(s,A)},createURL:v,encodeLocation(A){let D=v(A);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:m,replace:b,go(A){return l.go(A)}};return S}var wD;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(wD||(wD={}));function Ik(t,e,i){return i===void 0&&(i="/"),Nk(t,e,i)}function Nk(t,e,i,n){let s=typeof e=="string"?So(e):e,r=w0(s.pathname||"/",i);if(r==null)return null;let l=AL(t);Ck(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let d=Gk(r);c=Pk(l[h],d)}return c}function AL(t,e,i,n){e===void 0&&(e=[]),i===void 0&&(i=[]),n===void 0&&(n="");let s=(r,l,c)=>{let h={relativePath:c===void 0?r.path||"":c,caseSensitive:r.caseSensitive===!0,childrenIndex:l,route:r};h.relativePath.startsWith("/")&&(Qe(h.relativePath.startsWith(n),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(n.length));let d=fr([n,h.relativePath]),p=i.concat(h);r.children&&r.children.length>0&&(Qe(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),AL(r.children,e,p,d)),!(r.path==null&&!r.index)&&e.push({path:d,score:_k(d,r.index),routesMeta:p})};return t.forEach((r,l)=>{var c;if(r.path===""||!((c=r.path)!=null&&c.includes("?")))s(r,l);else for(let h of LL(r.path))s(r,l,h)}),e}function LL(t){let e=t.split("/");if(e.length===0)return[];let[i,...n]=e,s=i.endsWith("?"),r=i.replace(/\?$/,"");if(n.length===0)return s?[r,""]:[r];let l=LL(n.join("/")),c=[];return c.push(...l.map(h=>h===""?r:[r,h].join("/"))),s&&c.push(...l),c.map(h=>t.startsWith("/")&&h===""?"/":h)}function Ck(t){t.sort((e,i)=>e.score!==i.score?i.score-e.score:zk(e.routesMeta.map(n=>n.childrenIndex),i.routesMeta.map(n=>n.childrenIndex)))}const Ek=/^:[\w-]+$/,kk=3,wk=2,Ok=1,Rk=10,jk=-2,OD=t=>t==="*";function _k(t,e){let i=t.split("/"),n=i.length;return i.some(OD)&&(n+=jk),e&&(n+=wk),i.filter(s=>!OD(s)).reduce((s,r)=>s+(Ek.test(r)?kk:r===""?Ok:Rk),n)}function zk(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function Pk(t,e,i){let{routesMeta:n}=t,s={},r="/",l=[];for(let c=0;c<n.length;++c){let h=n[c],d=c===n.length-1,p=r==="/"?e:e.slice(r.length)||"/",g=Bk({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},p),m=h.route;if(!g)return null;Object.assign(s,g.params),l.push({params:s,pathname:fr([r,g.pathname]),pathnameBase:Hk(fr([r,g.pathnameBase])),route:m}),g.pathnameBase!=="/"&&(r=fr([r,g.pathnameBase]))}return l}function Bk(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[i,n]=Fk(t.path,t.caseSensitive,t.end),s=e.match(i);if(!s)return null;let r=s[0],l=r.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:n.reduce((d,p,g)=>{let{paramName:m,isOptional:b}=p;if(m==="*"){let S=c[g]||"";l=r.slice(0,r.length-S.length).replace(/(.)\/+$/,"$1")}const v=c[g];return b&&!v?d[m]=void 0:d[m]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:r,pathnameBase:l,pattern:t}}function Fk(t,e,i){e===void 0&&(e=!1),i===void 0&&(i=!0),k0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(n.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function Gk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return k0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function w0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,n=t.charAt(i);return n&&n!=="/"?null:t.slice(i)||"/"}function Uk(t,e){e===void 0&&(e="/");let{pathname:i,search:n="",hash:s=""}=typeof t=="string"?So(t):t;return{pathname:i?i.startsWith("/")?i:Yk(i,e):e,search:Wk(n),hash:Kk(s)}}function Yk(t,e){let i=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?i.length>1&&i.pop():s!=="."&&i.push(s)}),i.length>1?i.join("/"):"/"}function cy(t,e,i,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Vk(t){return t.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function TL(t,e){let i=Vk(t);return e?i.map((n,s)=>s===i.length-1?n.pathname:n.pathnameBase):i.map(n=>n.pathnameBase)}function IL(t,e,i,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=So(t):(s=wu({},t),Qe(!s.pathname||!s.pathname.includes("?"),cy("?","pathname","search",s)),Qe(!s.pathname||!s.pathname.includes("#"),cy("#","pathname","hash",s)),Qe(!s.search||!s.search.includes("#"),cy("#","search","hash",s)));let r=t===""||s.pathname==="",l=r?"/":s.pathname,c;if(l==null)c=i;else{let g=e.length-1;if(!n&&l.startsWith("..")){let m=l.split("/");for(;m[0]==="..";)m.shift(),g-=1;s.pathname=m.join("/")}c=g>=0?e[g]:"/"}let h=Uk(s,c),d=l&&l!=="/"&&l.endsWith("/"),p=(r||l===".")&&i.endsWith("/");return!h.pathname.endsWith("/")&&(d||p)&&(h.pathname+="/"),h}const fr=t=>t.join("/").replace(/\/\/+/g,"/"),Hk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Wk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Kk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Zk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const NL=["post","put","patch","delete"];new Set(NL);const Xk=["get",...NL];new Set(Xk);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ou(){return Ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Ou.apply(this,arguments)}const O0=gt.createContext(null),$k=gt.createContext(null),Do=gt.createContext(null),Xf=gt.createContext(null),Ao=gt.createContext({outlet:null,matches:[],isDataRoute:!1}),CL=gt.createContext(null);function qk(t,e){let{relative:i}=e===void 0?{}:e;eh()||Qe(!1);let{basename:n,navigator:s}=gt.useContext(Do),{hash:r,pathname:l,search:c}=kL(t,{relative:i}),h=l;return n!=="/"&&(h=l==="/"?n:fr([n,l])),s.createHref({pathname:h,search:c,hash:r})}function eh(){return gt.useContext(Xf)!=null}function $f(){return eh()||Qe(!1),gt.useContext(Xf).location}function EL(t){gt.useContext(Do).static||gt.useLayoutEffect(t)}function Qk(){let{isDataRoute:t}=gt.useContext(Ao);return t?hw():Jk()}function Jk(){eh()||Qe(!1);let t=gt.useContext(O0),{basename:e,future:i,navigator:n}=gt.useContext(Do),{matches:s}=gt.useContext(Ao),{pathname:r}=$f(),l=JSON.stringify(TL(s,i.v7_relativeSplatPath)),c=gt.useRef(!1);return EL(()=>{c.current=!0}),gt.useCallback(function(d,p){if(p===void 0&&(p={}),!c.current)return;if(typeof d=="number"){n.go(d);return}let g=IL(d,JSON.parse(l),r,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:fr([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,l,r,t])}function kL(t,e){let{relative:i}=e===void 0?{}:e,{future:n}=gt.useContext(Do),{matches:s}=gt.useContext(Ao),{pathname:r}=$f(),l=JSON.stringify(TL(s,n.v7_relativeSplatPath));return gt.useMemo(()=>IL(t,JSON.parse(l),r,i==="path"),[t,l,r,i])}function tw(t,e){return ew(t,e)}function ew(t,e,i,n){eh()||Qe(!1);let{navigator:s}=gt.useContext(Do),{matches:r}=gt.useContext(Ao),l=r[r.length-1],c=l?l.params:{};l&&l.pathname;let h=l?l.pathnameBase:"/";l&&l.route;let d=$f(),p;if(e){var g;let A=typeof e=="string"?So(e):e;h==="/"||(g=A.pathname)!=null&&g.startsWith(h)||Qe(!1),p=A}else p=d;let m=p.pathname||"/",b=m;if(h!=="/"){let A=h.replace(/^\//,"").split("/");b="/"+m.replace(/^\//,"").split("/").slice(A.length).join("/")}let v=Ik(t,{pathname:b}),S=rw(v&&v.map(A=>Object.assign({},A,{params:Object.assign({},c,A.params),pathname:fr([h,s.encodeLocation?s.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?h:fr([h,s.encodeLocation?s.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),r,i,n);return e&&S?gt.createElement(Xf.Provider,{value:{location:Ou({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:rr.Pop}},S):S}function iw(){let t=uw(),e=Zk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return gt.createElement(gt.Fragment,null,gt.createElement("h2",null,"Unexpected Application Error!"),gt.createElement("h3",{style:{fontStyle:"italic"}},e),i?gt.createElement("pre",{style:s},i):null,null)}const nw=gt.createElement(iw,null);class sw extends gt.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,i){return i.location!==e.location||i.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:i.error,location:i.location,revalidation:e.revalidation||i.revalidation}}componentDidCatch(e,i){console.error("React Router caught the following error during render",e,i)}render(){return this.state.error!==void 0?gt.createElement(Ao.Provider,{value:this.props.routeContext},gt.createElement(CL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function aw(t){let{routeContext:e,match:i,children:n}=t,s=gt.useContext(O0);return s&&s.static&&s.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=i.route.id),gt.createElement(Ao.Provider,{value:e},n)}function rw(t,e,i,n){var s;if(e===void 0&&(e=[]),i===void 0&&(i=null),n===void 0&&(n=null),t==null){var r;if(!i)return null;if(i.errors)t=i.matches;else if((r=n)!=null&&r.v7_partialHydration&&e.length===0&&!i.initialized&&i.matches.length>0)t=i.matches;else return null}let l=t,c=(s=i)==null?void 0:s.errors;if(c!=null){let p=l.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);p>=0||Qe(!1),l=l.slice(0,Math.min(l.length,p+1))}let h=!1,d=-1;if(i&&n&&n.v7_partialHydration)for(let p=0;p<l.length;p++){let g=l[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:m,errors:b}=i,v=g.route.loader&&m[g.route.id]===void 0&&(!b||b[g.route.id]===void 0);if(g.route.lazy||v){h=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((p,g,m)=>{let b,v=!1,S=null,A=null;i&&(b=c&&g.route.id?c[g.route.id]:void 0,S=g.route.errorElement||nw,h&&(d<0&&m===0?(dw("route-fallback"),v=!0,A=null):d===m&&(v=!0,A=g.route.hydrateFallbackElement||null)));let D=e.concat(l.slice(0,m+1)),L=()=>{let C;return b?C=S:v?C=A:g.route.Component?C=gt.createElement(g.route.Component,null):g.route.element?C=g.route.element:C=p,gt.createElement(aw,{match:g,routeContext:{outlet:p,matches:D,isDataRoute:i!=null},children:C})};return i&&(g.route.ErrorBoundary||g.route.errorElement||m===0)?gt.createElement(sw,{location:i.location,revalidation:i.revalidation,component:S,error:b,children:L(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):L()},null)}var wL=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(wL||{}),OL=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(OL||{});function ow(t){let e=gt.useContext(O0);return e||Qe(!1),e}function lw(t){let e=gt.useContext($k);return e||Qe(!1),e}function cw(t){let e=gt.useContext(Ao);return e||Qe(!1),e}function RL(t){let e=cw(),i=e.matches[e.matches.length-1];return i.route.id||Qe(!1),i.route.id}function uw(){var t;let e=gt.useContext(CL),i=lw(),n=RL();return e!==void 0?e:(t=i.errors)==null?void 0:t[n]}function hw(){let{router:t}=ow(wL.UseNavigateStable),e=RL(OL.UseNavigateStable),i=gt.useRef(!1);return EL(()=>{i.current=!0}),gt.useCallback(function(s,r){r===void 0&&(r={}),i.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ou({fromRouteId:e},r)))},[t,e])}const RD={};function dw(t,e,i){RD[t]||(RD[t]=!0)}const jD={};function fw(t,e){jD[e]||(jD[e]=!0,console.warn(e))}const _D=(t,e,i)=>fw(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+i+"."));function pw(t,e){(t==null?void 0:t.v7_startTransition)===void 0&&_D("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(t==null?void 0:t.v7_relativeSplatPath)===void 0&&_D("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function mu(t){Qe(!1)}function gw(t){let{basename:e="/",children:i=null,location:n,navigationType:s=rr.Pop,navigator:r,static:l=!1,future:c}=t;eh()&&Qe(!1);let h=e.replace(/^\/*/,"/"),d=gt.useMemo(()=>({basename:h,navigator:r,static:l,future:Ou({v7_relativeSplatPath:!1},c)}),[h,c,r,l]);typeof n=="string"&&(n=So(n));let{pathname:p="/",search:g="",hash:m="",state:b=null,key:v="default"}=n,S=gt.useMemo(()=>{let A=w0(p,h);return A==null?null:{location:{pathname:A,search:g,hash:m,state:b,key:v},navigationType:s}},[h,p,g,m,b,v,s]);return S==null?null:gt.createElement(Do.Provider,{value:d},gt.createElement(Xf.Provider,{children:i,value:S}))}function mw(t){let{children:e,location:i}=t;return tw(Wy(e),i)}new Promise(()=>{});function Wy(t,e){e===void 0&&(e=[]);let i=[];return gt.Children.forEach(t,(n,s)=>{if(!gt.isValidElement(n))return;let r=[...e,s];if(n.type===gt.Fragment){i.push.apply(i,Wy(n.props.children,r));return}n.type!==mu&&Qe(!1),!n.props.index||!n.props.children||Qe(!1);let l={id:n.props.id||r.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Wy(n.props.children,r)),i.push(l)}),i}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ky(){return Ky=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Ky.apply(this,arguments)}function yw(t,e){if(t==null)return{};var i={},n=Object.keys(t),s,r;for(r=0;r<n.length;r++)s=n[r],!(e.indexOf(s)>=0)&&(i[s]=t[s]);return i}function bw(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function xw(t,e){return t.button===0&&(!e||e==="_self")&&!bw(t)}const vw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Mw="6";try{window.__reactRouterVersion=Mw}catch{}const Sw="startTransition",zD=mk[Sw];function Dw(t){let{basename:e,children:i,future:n,window:s}=t,r=gt.useRef();r.current==null&&(r.current=Ak({window:s,v5Compat:!0}));let l=r.current,[c,h]=gt.useState({action:l.action,location:l.location}),{v7_startTransition:d}=n||{},p=gt.useCallback(g=>{d&&zD?zD(()=>h(g)):h(g)},[h,d]);return gt.useLayoutEffect(()=>l.listen(p),[l,p]),gt.useEffect(()=>pw(n),[n]),gt.createElement(gw,{basename:e,children:i,location:c.location,navigationType:c.action,navigator:l,future:n})}const Aw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Lw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yu=gt.forwardRef(function(e,i){let{onClick:n,relative:s,reloadDocument:r,replace:l,state:c,target:h,to:d,preventScrollReset:p,viewTransition:g}=e,m=yw(e,vw),{basename:b}=gt.useContext(Do),v,S=!1;if(typeof d=="string"&&Lw.test(d)&&(v=d,Aw))try{let C=new URL(window.location.href),N=d.startsWith("//")?new URL(C.protocol+d):new URL(d),k=w0(N.pathname,b);N.origin===C.origin&&k!=null?d=k+N.search+N.hash:S=!0}catch{}let A=qk(d,{relative:s}),D=Tw(d,{replace:l,state:c,target:h,preventScrollReset:p,relative:s,viewTransition:g});function L(C){n&&n(C),C.defaultPrevented||D(C)}return gt.createElement("a",Ky({},m,{href:v||A,onClick:S||r?n:L,ref:i,target:h}))});var PD;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(PD||(PD={}));var BD;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(BD||(BD={}));function Tw(t,e){let{target:i,replace:n,state:s,preventScrollReset:r,relative:l,viewTransition:c}=e===void 0?{}:e,h=Qk(),d=$f(),p=kL(t,{relative:l});return gt.useCallback(g=>{if(xw(g,i)){g.preventDefault();let m=n!==void 0?n:Mf(d)===Mf(p);h(t,{replace:m,state:s,preventScrollReset:r,relative:l,viewTransition:c})}},[d,h,p,n,s,i,t,r,l,c])}const Iw="/my_portfolio/images/jean_logo.svg";function Nw(){return P.jsx("div",{className:"header__section",children:P.jsxs("header",{className:"header",children:[P.jsx("div",{className:"logo__box",children:P.jsx("img",{className:"logoSponsor",src:Iw,alt:"Jeannette's Logo"})}),P.jsx("nav",{className:"menu__box",children:P.jsxs("ul",{className:"menu__list ",children:[P.jsx("li",{className:"menu__item",children:P.jsx(yu,{to:"/",className:"menu__link",children:"Home"})}),P.jsx("li",{className:"menu__item",children:P.jsx(yu,{to:"/experience",className:"menu__link",children:"About"})}),P.jsx("li",{className:"menu__item",children:P.jsx(yu,{to:"/projects",className:"menu__link",children:"Projects"})})]})}),P.jsx("div",{className:"btn__box",children:P.jsx(yu,{to:"/contact",className:"contact__btn",children:"Contact"})})]})})}var uy={exports:{}},hy,FD;function Cw(){if(FD)return hy;FD=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return hy=t,hy}var dy,GD;function Ew(){if(GD)return dy;GD=1;var t=Cw();function e(){}function i(){}return i.resetWarningCache=e,dy=function(){function n(l,c,h,d,p,g){if(g!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}n.isRequired=n;function s(){return n}var r={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:i,resetWarningCache:e};return r.PropTypes=r,r},dy}var UD;function kw(){return UD||(UD=1,uy.exports=Ew()()),uy.exports}var ww=kw();const Ht=C0(ww);function jL({project:t}){return P.jsx("div",{className:"projectImageContainer",children:t.project_image?P.jsx("img",{className:"projectImage",src:"/my_portfolio/"+t.project_image}):P.jsx("p",{children:"No Image Available"})})}jL.propTypes={project:Ht.shape({project_image:Ht.string,project_name:Ht.string}).isRequired};function _L({project:t}){return P.jsxs("div",{className:"card",children:[P.jsx("h2",{className:"card__projectTitle",children:P.jsx("span",{className:"card__projectTitle--text",children:t.project_name})}),P.jsxs("div",{className:"card__author",children:[P.jsx("div",{className:"card__authorPhoto",children:P.jsx("ul",{children:P.jsx("li",{className:"card__authorPhoto",children:P.jsx("img",{className:"card__authorPhoto",src:"/my_portfolio/"+t.author_photo})})})}),P.jsx("p",{className:"card__job",children:t.author_job}),P.jsx("h3",{className:"card__name",children:t.author_name})]}),P.jsxs("div",{className:"card__project",children:[P.jsx("h3",{className:"card__projectName",children:t.project_name}),P.jsx("p",{className:"card__slogan",children:t.project_slogan}),P.jsx("div",{className:"card__technicalInfo",children:P.jsx("ul",{className:"card__technologies",children:t.project_technologies?t.project_technologies.split(",").map((e,i)=>P.jsx("li",{children:P.jsx("a",{className:`tech__icon icon__${e.trim().toLowerCase()}`,title:e.trim()})},i)):"No technologies listed"})}),P.jsx("p",{className:"card__description",children:t.project_description}),P.jsx("footer",{className:"card__footer",children:P.jsxs("ul",{className:"icon",children:[P.jsx("li",{className:"icon__link",children:P.jsx("a",{className:"icon icon__www",href:t.project_demo,target:"_blank",rel:"noopener noreferrer",children:"Web Link"})}),P.jsx("li",{className:"icon__link",children:P.jsx("a",{className:"icon icon__github",href:t.project_repo,target:"_blank",rel:"noopener noreferrer",children:"GitHub Link"})})]})})]})]})}_L.propTypes={project:Ht.object.isRequired};function zL({projectsArray:t}){return P.jsx("main",{className:"preview",children:t.map(e=>P.jsxs("div",{className:"project",children:[P.jsx(jL,{project:e}),P.jsx(_L,{project:e,className:"card__wrap"})]},e.idproject))})}zL.propTypes={projectsArray:Ht.array.isRequired};function PL({skills:t,activeAchievements:e,achievements:i}){const n=t.length>0?t[0]:{};return P.jsxs(P.Fragment,{children:[P.jsx("h1",{className:"skills__title",children:"Get to Know my skills"}),P.jsxs("section",{className:"skills__main__section",children:[n.title&&P.jsxs("article",{className:"skills__section",children:[P.jsx("h2",{className:"skills__subtitle",children:n.title}),P.jsx("div",{className:"skills__card",children:P.jsx("ul",{className:"skills__list",children:n.skills&&n.skills.map((s,r)=>P.jsxs("li",{className:"skills__item",children:[P.jsx("span",{className:"skill__name",children:s.skill}),P.jsx("div",{className:"skill__bar",children:P.jsx("div",{className:`skill__level skill__level--${s.level.toLowerCase()}`})})]},r))})})]}),n.technical_title&&P.jsxs("article",{className:"skills__section skills__section__card",children:[P.jsxs("h2",{className:"tech__skills__subtitle",children:[P.jsx("div",{alt:"",className:"title-icon"}),n.technical_title]}),P.jsx("div",{className:"skills__card",children:P.jsx("ul",{className:"skills__chips__container",children:n.technical_skills&&n.technical_skills.map((s,r)=>P.jsx("li",{className:"skill__chip",children:s},r))})})]}),i.length>0&&P.jsx("article",{className:"skills__section",children:e.map((s,r)=>P.jsx("div",{className:"achievements__card",children:P.jsx("ul",{className:"achievements__list",children:P.jsxs("li",{className:"achievement__item",children:[P.jsxs("div",{className:"achievement__graphic",children:[P.jsx("div",{className:"achievement__img",src:s.avatar}),P.jsx("span",{className:"achievement__metric",children:s.metric}),P.jsx("span",{className:"achievement__graphic",children:s.graphic})]}),P.jsx("p",{className:"achievement__description",children:s.description})]})})},r))})]})]})}PL.propTypes={skills:Ht.array.isRequired,achievements:Ht.array.isRequired,activeAchievements:Ht.array.isRequired};function BL({skills:t,achievements:e,activeAchievements:i}){const n=s=>{s.preventDefault(),window.open(s.target.href,"_blank","noopener,noreferrer")};return P.jsxs(P.Fragment,{children:[P.jsx("section",{className:"section01",children:P.jsxs("div",{className:"container01",children:[P.jsx("div",{className:"photo__layout",children:P.jsx("div",{className:"home__picture",alt:""})}),P.jsxs("div",{className:"home__box",children:[P.jsx("h1",{className:"home__title",children:"Hi, I am Jeannette!"}),P.jsx("div",{className:"home__content",children:P.jsx("p",{className:"prh__text",children:"With 16+ years in tech and a decade in agile environments, I excel in IT project management, financial planning, and vendor coordination. Certified in PMBOK, SAFe 4 PM/PO, and PSM I, I deliver results with strategic focus and hands-on expertise."})}),P.jsx("nav",{className:"btn__home__box",children:P.jsx("div",{className:"home__btn",children:P.jsx("a",{className:"linkedin__btn",href:"https://www.linkedin.com/in/jeannettearias",onClick:n,children:"Go to linkedIn"})})})]})]})}),P.jsx("section",{className:"section02",children:P.jsx(PL,{skills:t,achievements:e,activeAchievements:i})}),P.jsxs("section",{className:"section03",children:[P.jsxs("div",{className:"container03",children:[P.jsxs("h1",{className:"experience__link__title",children:["Discover more about me!",P.jsx("br",{}),"If you want to learn more about my experience and the companies Ive worked with, click the link."]}),P.jsx("div",{className:"experience__link__btn__box",children:P.jsx("div",{className:"experience__link__container",children:P.jsx(yu,{to:"/Experience",className:"experience__link__btn",children:"Go to my experience"})})})]}),P.jsx("div",{className:"experience__link__graphic",children:P.jsx("div",{className:"experience__link__img",src:"/my_portfolio/images/graphic__image.png"})})]})]})}BL.propTypes={skills:Ht.array.isRequired,achievements:Ht.array.isRequired,activeAchievements:Ht.array.isRequired};var FL=Object.defineProperty,Ow=Object.getOwnPropertyDescriptor,$n=(t,e)=>{for(var i in e)FL(t,i,{get:e[i],enumerable:!0})},M=(t,e,i,n)=>{for(var s=n>1?void 0:n?Ow(e,i):e,r=t.length-1,l;r>=0;r--)(l=t[r])&&(s=(n?l(e,i,s):l(s))||s);return n&&s&&FL(e,i,s),s},ot={};$n(ot,{error:()=>UL,errorOnce:()=>zw,log:()=>Rw,logGroup:()=>Bw,reset:()=>Pw,table:()=>jw,warn:()=>GL,warnOnce:()=>_w});var Ru=new Set;function Rw(...t){console.log(...t)}function GL(t,...e){console.warn(`AG Charts - ${t}`,...e)}function UL(t,...e){typeof t=="object"?console.error("AG Charts error",t,...e):console.error(`AG Charts - ${t}`,...e)}function jw(...t){console.table(...t)}function _w(t,...e){const i=`Logger.warn: ${t}`;Ru.has(i)||(GL(t,...e),Ru.add(i))}function zw(t,...e){const i=`Logger.error: ${t}`;Ru.has(i)||(UL(t,...e),Ru.add(i))}function Pw(){Ru.clear()}function Bw(t,e){console.groupCollapsed(t);try{return e()}finally{console.groupEnd()}}var mo=class{static[Symbol.iterator](){return this.registeredModules.values()}static register(t){const e=this.registeredModules.get(t.name);if(e&&(e.enterprise||!t.enterprise))throw new Error(`AG Charts - Module '${t.name}' already registered`);this.registeredModules.set(t.name,t)}static registerMany(t){for(const e of t)this.register(e)}static reset(){this.registeredModules.clear()}static detectChartDefinition(t){return this.detectDefinition("chart",t)}static detectSeriesDefinition(t){return this.detectDefinition("series",t)}static detectDefinition(t,e){for(const i of this.registeredModules.values())if(i.type===t&&i.detect(e))return i;throw new Error(`AG Charts - Unknown ${t} type; Check options are correctly structured and series types are specified`)}};mo.registeredModules=new Map;var R0=class{constructor(){this.events=new Map}on(t,e){var i;return this.events.has(t)||this.events.set(t,new Set),(i=this.events.get(t))==null||i.add(e),()=>this.off(t,e)}off(t,e){const i=this.events.get(t);i&&(i.delete(e),i.size===0&&this.events.delete(t))}emit(t,e){var i;(i=this.events.get(t))==null||i.forEach(n=>n(e))}clear(t){t?this.events.delete(t):this.events.clear()}};function Sf(t){return typeof t>"u"?[]:Array.isArray(t)?t:[t]}function Fw(t){return Array.from(new Set(t))}function j0(t,e){return t.reduce((i,n)=>{const s=e(n);return i[s]??(i[s]=[]),i[s].push(n),i},{})}function Cs(t,e){if(t==null||e==null||t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(Array.isArray(t[i])&&Array.isArray(e[i])){if(!Cs(t[i],e[i]))return!1}else if(t[i]!==e[i])return!1;return!0}function YD(t,e,i=0){if(t.length===0)return[];const n=[];for(let s=0;s<e;s++)n.push(t.at((s+i)%t.length));return n}function Gw(t,e){const i=new Map;return e.forEach((n,s)=>{i.set(n,s)}),t.sort((n,s)=>{const r=i.get(n)??1/0,l=i.get(s)??1/0;return r-l})}function YL(t,e,i){if(t>e)return;let n;for(;e>=t;){const s=Math.floor((e+t)/2);i(s)?(n=s,t=s+1):e=s-1}return n}function VL(t,e,i){if(t>e)return;let n;for(;e>=t;){const s=Math.floor((e+t)/2);i(s)?(n=s,e=s-1):t=s+1}return n}function Uw(t,e,i){if(t>e)return;let n;for(;e>=t;){const s=Math.floor((e+t)/2),r=i(s);r==null?t=s+1:(n=r,e=s-1)}return n}function Yw(t,e){const i=Math.max(t.length,e.length),n=new Set,s=new Set;for(let r=0;r<i;r++){const l=t[r],c=e[r];l!==c&&(s.has(c)?s.delete(c):c&&n.add(c),n.has(l)?n.delete(l):l&&s.add(l))}return{changed:n.size>0||s.size>0,added:n,removed:s}}function VD(t,e,i){const{leading:n=!0,trailing:s=!0}=i??{};let r,l,c=!1;function h(){s&&l?(r=setTimeout(h,e),t(...l)):c=!1,l=null}function d(...p){c?l=p:(c=!0,r=setTimeout(h,e),n?t(...p):l=p)}return Object.assign(d,{cancel(){clearTimeout(r),c=!1,l=null}})}function*fo(...t){for(const e of t)yield*e}function Vw(t){return t!=null&&typeof t=="object"&&Symbol.iterator in t?t:[t]}function cu(t){for(const e of t)return e;throw new Error("AG Charts - no first() value found")}function Hw(t,e="and",i=String,n=1/0){if(t.length===1)return i(t[0]);t=t.map(i);const s=t.pop();if(t.length>=n){const r=t.length-(n-1);return`${t.slice(0,n-1).join(", ")}, and ${r} more ${e} ${s}`}return`${t.join(", ")} ${e} ${s}`}function Du(t,e=1/0){switch(typeof t){case"undefined":return"undefined";case"number":if(isNaN(t))return"NaN";if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";default:return t=JSON.stringify(t),t.length>e?`${t.slice(0,e)}... (+${t.length-e} characters)`:t}}function Ww(t){let e=1;for(let i=0;i<t.length;i++)t.charCodeAt(i)===10&&e++;return e}function df(t){return t!=null}function ge(t){return Array.isArray(t)}function HL(t){return typeof t=="boolean"}function Ul(t){return t instanceof Date}function ih(t){return Ul(t)&&!isNaN(Number(t))}function Kw(t){return t instanceof RegExp}function Lo(t){return typeof t=="function"}function pi(t){return typeof t=="object"&&t!==null&&!ge(t)}function wi(t){return typeof t=="object"&&t!==null&&Object.getPrototypeOf(t)===Object.prototype}function rn(t){return typeof t=="string"}function Vn(t){return typeof t=="number"}function Wt(t){return Number.isFinite(t)}function Zw(t){return typeof window<"u"&&t instanceof HTMLElement}function Xw(t,e){return Object.values(t).includes(e)}function $w(t){return typeof t=="symbol"}var nh=Symbol("description"),qw=Symbol("required");function qf(t,e,i=""){if(!pi(t))return{valid:null,errors:[{path:i,value:t,message:HD(i,t,"an object")}]};const n=new Set(Object.keys(t)),s=[],r={};function l(c){return ge(e)?`${i}[${c}]`:i?`${i}.${c}`:c}for(const[c,h]of Object.entries(e)){n.delete(c);const d=t[c];if(!(!h[qw]&&typeof d>"u"))if(Lo(h))h(d,t)?r[c]=d:s.push({key:c,path:i,value:d,message:HD(l(c),d,h)});else{const p=qf(d,h,l(c));r[c]=p.valid,s.push(...p.errors)}}for(const c of n)s.push({key:c,path:i,unknown:!0,message:`Unknown option \`${l(c)}\`, ignoring.`});return{valid:r,errors:s}}function HD(t,e,i){const n=rn(i)?i:i[nh],s=n?`; expecting ${n}`:"";return`${t?`Option \`${t}\``:"Value"} cannot be set to \`${Du(e)}\`${s}, ignoring.`}function Oi(t,e){return Object.assign((i,n)=>t(i,n),{[nh]:e})}var Wd=(...t)=>Oi((e,i)=>t.every(n=>n(e,i)),t.map(e=>e[nh]).filter(Boolean).join(" and ")),po=(...t)=>Oi((e,i)=>t.some(n=>n(e,i)),t.map(e=>e[nh]).filter(Boolean).join(" or "));Oi(ge,"an array");Oi(HL,"a boolean");Oi(Lo,"a function");var la=Oi(Wt,"a number"),fy=Oi(pi,"an object"),xn=Oi(rn,"a string"),Kd=Oi(t=>Ul(t)||(Wt(t)||rn(t))&&ih(new Date(t)),"a date"),Qw=(t,e=!0)=>Oi(i=>Wt(i)&&(i>t||e&&i===t),`a number greater than ${e?"or equal to ":""}${t}`),Jw=(t,e)=>Oi(i=>Wt(i)&&i>=t&&i<=e,`a number between ${t} and ${e} inclusive`);Qw(0);var Zd=Jw(0,1),WD=t=>Wt(t)||ih(t),KD=t=>Oi((e,i)=>!WD(e)||!WD(i[t])||e<i[t],`to be less than ${t}`);function tO(...t){pi(t[0])&&(t=Object.values(t[0]));const e=Hw(t,"or",i=>`'${i}'`,6);return Oi(i=>t.includes(i),`a keyword such as ${e}`)}var Zy=(t,e)=>Oi((i,n)=>ge(i)&&i.every(s=>t(s,n)),`${t[nh]} array`),WL={};$n(WL,{NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>us,fromToMotion:()=>Ce,staticFromToMotion:()=>xa});var ws={};typeof window<"u"?ws.window=window:typeof global<"u"&&(ws.window=global.window);typeof document<"u"?ws.document=document:typeof global<"u"&&(ws.document=global.document);function ga(t){var e;return t?(e=ws.document)==null?void 0:e[t]:ws.document}function pe(t){var e;return t?(e=ws.window)==null?void 0:e[t]:ws.window}function KL(t){ws.document=t}function ZL(t){ws.window=t}function zt(t,e,i){const n=ga().createElement(t);if(typeof e=="object"&&(i=e,e=void 0),e)for(const s of e.split(" "))n.classList.add(s);return i&&Object.assign(n.style,i),n}function Kn(t){return ga().createElementNS("http://www.w3.org/2000/svg",t)}function XL(t,e){const i=ga("body"),n=zt("a",{display:"none"});n.href=t,n.download=e,i.appendChild(n),n.click(),setTimeout(()=>i.removeChild(n))}var Xy=new Map;function eO(){Xy.clear()}function qn(t){const e=t.constructor,i=Object.hasOwn(e,"className")?e.className:e.name;if(!i)throw new Error(`The ${e} is missing the 'className' property.`);const n=(Xy.get(i)??0)+1;return Xy.set(i,n),`${i}-${n}`}function iO(){var t;return((t=crypto.randomUUID)==null?void 0:t.call(crypto))??nO()}function nO(){const t=new Uint8Array(16);crypto.getRandomValues(t),t[6]=t[6]&15|64,t[8]=t[8]&63|128;let e="";for(let i=0;i<t.length;i++)(i===4||i===6||i===8||i===10)&&(e+="-"),e+=t[i].toString(16).padStart(2,"0");return e}var Qf={containsPoint:sO,isEmpty:aO,normalize:rO};function sO(t,e,i){return e>=t.x&&e<=t.x+t.width&&i>=t.y&&i<=t.y+t.height}function aO(t){return t==null||t.height===0||t.width===0||isNaN(t.height)||isNaN(t.width)}function rO(t){let{x:e,y:i,width:n,height:s}=t;return(n==null||n>0)&&(s==null||s>0)?t:(e!=null&&n!=null&&n<0&&(n=-n,e=e-n),i!=null&&s!=null&&s<0&&(s=-s,i=i-s),{x:e,y:i,width:n,height:s})}var Jf=Symbol("interpolate"),Df=t=>t[Jf]!=null;function tp(t,e,i,n=1/0){const s={nearest:void 0,distanceSquared:n};for(const r of i){const l=r.distanceSquared(t,e);if(l===0)return{nearest:r,distanceSquared:0};l<s.distanceSquared&&(s.nearest=r,s.distanceSquared=l)}return s}function oO(t,e,i,n=1/0){var c;const{x:s=t,y:r=e}=((c=i.transformPoint)==null?void 0:c.call(i,t,e))??{},l={nearest:void 0,distanceSquared:n};for(const h of i.children){const{nearest:d,distanceSquared:p}=h.nearestSquared(s,r,l.distanceSquared);if(p===0)return{nearest:d,distanceSquared:p};p<l.distanceSquared&&(l.nearest=d,l.distanceSquared=p)}return l}function Et(t,e,i){return Math.min(i,Math.max(t,e))}function $y(t,e){const[i,n]=gi(e);return Et(i,t,n)}function gi(t){if(t.length===0)return[];const e=[1/0,-1/0];for(const i of t)i<e[0]&&(e[0]=i),i>e[1]&&(e[1]=i);return e}function jl(t){const[e,i]=gi(t);return i-e}function $L(t,e,i=1e-10){return t>=e[0]-i&&t<=e[1]+i}function cs(t,e,i=1e-10){return t===e||Math.abs(t-e)<i}function ep(t){return Math.sign(t)===-1||Object.is(t,-0)}function qL(t){return t%1===0}function lO(t,e=2){const i=10**e;return Math.round(t*i)/i}function _0(t,e){return Math.floor(t%e+(t<0?e:0))}function ip(t){var s;if(Math.floor(t)===t)return 0;let e=String(t),i=0;if(t<1e-6||t>=1e21){let r;[e,r]=e.split("e"),r!=null&&(i=Number(r))}const n=((s=e.split(".")[1])==null?void 0:s.length)??0;return Math.max(n-i,0)}var ju=class Ml{constructor(e,i,n,s){this.x=e,this.y=i,this.width=n,this.height=s}static fromDOMRect({x:e,y:i,width:n,height:s}){return new Ml(e,i,n,s)}static merge(e){let i=1/0,n=1/0,s=-1/0,r=-1/0;for(const l of e)l.x<i&&(i=l.x),l.y<n&&(n=l.y),l.x+l.width>s&&(s=l.x+l.width),l.y+l.height>r&&(r=l.y+l.height);return new Ml(i,n,s-i,r-n)}static nearestBox(e,i,n){return tp(e,i,n)}toDOMRect(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.y,left:this.x,right:this.x+this.width,bottom:this.y+this.height,toJSON(){return{}}}}clone(){const{x:e,y:i,width:n,height:s}=this;return new Ml(e,i,n,s)}equals(e){return this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height}containsPoint(e,i){return Qf.containsPoint(this,e,i)}intersection(e){if(!this.collidesBBox(e))return;const i=Et(e.x,this.x,e.x+e.width),n=Et(e.y,this.y,e.y+e.height),s=Et(e.x,this.x+this.width,e.x+e.width),r=Et(e.y,this.y+this.height,e.y+e.height);return new Ml(i,n,s-i,r-n)}collidesBBox(e){return this.x<e.x+e.width&&this.x+this.width>e.x&&this.y<e.y+e.height&&this.y+this.height>e.y}computeCenter(){return{x:this.x+this.width/2,y:this.y+this.height/2}}isFinite(){return Number.isFinite(this.x)&&Number.isFinite(this.y)&&Number.isFinite(this.width)&&Number.isFinite(this.height)}distanceSquared(e,i){if(this.containsPoint(e,i))return 0;const n=e-Et(this.x,e,this.x+this.width),s=i-Et(this.y,i,this.y+this.height);return n*n+s*s}shrink(e,i){if(typeof e=="number")this.applyMargin(e,i);else for(const[n,s]of Object.entries(e))this.applyMargin(s,n);return this.width<0&&(this.width=0),this.height<0&&(this.height=0),this}grow(e,i){if(typeof e=="number")this.applyMargin(-e,i);else for(const[n,s]of Object.entries(e))this.applyMargin(-s,n);return this}applyMargin(e,i){switch(i){case"top":this.y+=e;case"bottom":this.height-=e;break;case"left":this.x+=e;case"right":this.width-=e;break;case"vertical":this.y+=e,this.height-=e*2;break;case"horizontal":this.x+=e,this.width-=e*2;break;case void 0:this.x+=e,this.y+=e,this.width-=e*2,this.height-=e*2;break}}translate(e,i){return this.x+=e,this.y+=i,this}[Jf](e,i){return new Ml(this.x*(1-i)+e.x*i,this.y*(1-i)+e.y*i,this.width*(1-i)+e.width*i,this.height*(1-i)+e.height*i)}};ju.zero=Object.freeze(new ju(0,0,0,0));ju.NaN=Object.freeze(new ju(NaN,NaN,NaN,NaN));var bt=ju;function yt(t){return function(e,i){const n=`__${i}`;e[i]||cO(e,i,n,t)}}function cO(t,e,i,n){const{type:s="normal",changeCb:r,convertor:l,checkDirtyOnAssignment:c=!1}=n??{},h={changeCb:r,checkDirtyOnAssignment:c,convertor:l};let d;switch(s){case"normal":d=fO(i,h);break;case"transform":d=pO(i);break;case"path":d=gO(i);break}d=dO(hO(uO(d,h),h),h),Object.defineProperty(t,e,{set:d,get:function(){return this[i]},enumerable:!0,configurable:!0})}function uO(t,e){const{convertor:i}=e;return i?function(n){t.call(this,i(n))}:t}var np=Symbol("no-change");function hO(t,e){const{changeCb:i}=e;return i?function(n){const s=t.call(this,n);return s!==np&&i.call(this,this),s}:t}function dO(t,e){const{checkDirtyOnAssignment:i}=e;return i?function(n){const s=t.call(this,n);return(n==null?void 0:n._dirty)===!0&&this.markDirty(),s}:t}function fO(t,e){const{changeCb:i}=e;return function(n){const s=this[t];return n!==s?(this[t]=n,this.markDirty(),i==null||i(this),n):np}}function pO(t){return function(e){const i=this[t];return e!==i?(this[t]=e,this.markDirtyTransform(),e):np}}function gO(t){return function(e){const i=this[t];return e!==i?(this[t]=e,this._dirtyPath||(this._dirtyPath=!0,this.markDirty()),e):np}}var QL=(t=>(t[t.All=0]="All",t[t.None=1]="None",t))(QL||{}),sp=class JL{constructor(e){this.serialNumber=JL._nextSerialNumber++,this.childNodeCounts={groups:0,nonGroups:0,thisComplexity:0,complexity:0},this.id=qn(this),this.pointerEvents=0,this._dirty=!0,this.dirtyZIndex=!1,this.isContainerNode=!1,this.visible=!0,this.zIndex=0,this.name=e==null?void 0:e.name,this.tag=(e==null?void 0:e.tag)??NaN,this.zIndex=(e==null?void 0:e.zIndex)??0}static toSVG(e,i,n){var l,c;const s=e==null?void 0:e.toSVG();if(s==null||!s.elements.length&&!((l=s.defs)!=null&&l.length))return;const r=Kn("svg");if(r.setAttribute("width",String(i)),r.setAttribute("height",String(n)),r.setAttribute("viewBox",`0 0 ${i} ${n}`),(c=s.defs)!=null&&c.length){const h=Kn("defs");h.append(...s.defs),r.append(h)}return r.append(...s.elements),r.outerHTML}static*extractBBoxes(e,i){for(const n of e)if(!i||n.visible&&!n.transitionOut){const s=n.getBBox();s&&(yield s)}}get datum(){var e;return this._datum??((e=this.parentNode)==null?void 0:e.datum)}set datum(e){this._datum!==e&&(this._previousDatum=this._datum,this._datum=e)}get previousDatum(){return this._previousDatum}get layerManager(){return this._layerManager}get dirty(){return this._dirty}preRender(e,i=1){this.childNodeCounts.groups=0,this.childNodeCounts.nonGroups=1,this.childNodeCounts.complexity=i,this.childNodeCounts.thisComplexity=i;for(const n of this.children()){const s=n.preRender(e);this.childNodeCounts.groups+=s.groups,this.childNodeCounts.nonGroups+=s.nonGroups,this.childNodeCounts.complexity+=s.complexity}return this.childNodeCounts}render(e){const{stats:i}=e;if(this._dirty=!1,e.debugNodeSearch){const n=this.name??this.id;e.debugNodeSearch.some(s=>typeof s=="string"?s===n:s.test(n))&&(e.debugNodes[this.name??this.id]=this)}i&&(i.nodesRendered++,i.opsPerformed+=this.childNodeCounts.thisComplexity)}_setLayerManager(e){this._layerManager=e,this._debug=e==null?void 0:e.debug;for(const i of this.children())i._setLayerManager(e)}sortChildren(e){if(this.dirtyZIndex=!1,!this.childNodes)return;const i=[...this.childNodes].sort(e);this.childNodes.clear();for(const n of i)this.childNodes.add(n)}*traverseUp(e){let i=this;for(e&&(yield i);i=i.parentNode;)yield i}*children(){if(this.childNodes)for(const e of this.childNodes)yield e}*descendants(){for(const e of this.children())yield e,yield*e.descendants()}isLeaf(){var e;return!((e=this.childNodes)!=null&&e.size)}isRoot(){return!this.parentNode}append(e){var i;this.childNodes??(this.childNodes=new Set);for(const n of Vw(e))(i=n.parentNode)==null||i.removeChild(n),this.childNodes.add(n),n.parentNode=this,n._setLayerManager(this.layerManager);this.invalidateCachedBBox(),this.dirtyZIndex=!0,this.markDirty()}appendChild(e){return this.append(e),e}removeChild(e){var i;return(i=this.childNodes)!=null&&i.delete(e)?(delete e.parentNode,e._setLayerManager(),this.invalidateCachedBBox(),this.dirtyZIndex=!0,this.markDirty(),!0):!1}remove(){var e;return((e=this.parentNode)==null?void 0:e.removeChild(this))??!1}clear(){var e;for(const i of this.children())delete i.parentNode,i._setLayerManager();(e=this.childNodes)==null||e.clear(),this.invalidateCachedBBox()}destroy(){var e;(e=this.parentNode)==null||e.removeChild(this)}setProperties(e,i){if(i)for(const n of i)this[n]=e[n];else Object.assign(this,e);return this}containsPoint(e,i){return!1}pickNode(e,i,n=!1){if(!this.visible||this.pointerEvents===1||!this.containsPoint(e,i))return;const s=[...this.children()];if(s.length>1e3)for(let r=s.length-1;r>=0;r--){const l=s[r],h=l.containsPoint(e,i)?l.pickNode(e,i):void 0;if(h)return h}else if(s.length)for(let r=s.length-1;r>=0;r--){const l=s[r].pickNode(e,i);if(l)return l}else if(!this.isContainerNode)return this}invalidateCachedBBox(){var e;this.cachedBBox!=null&&(this.cachedBBox=void 0,(e=this.parentNode)==null||e.invalidateCachedBBox())}getBBox(){return this.cachedBBox==null&&(this.cachedBBox=Object.freeze(this.computeBBox())),this.cachedBBox}computeBBox(){}markDirty(){const{_dirty:e}=this;this.cachedBBox==null&&e||(this.invalidateCachedBBox(),this._dirty=!0,this.parentNode&&this.parentNode.markDirty())}markClean(){if(this._dirty){this._dirty=!1;for(const e of this.children())e.markClean()}}onZIndexChange(){const{parentNode:e}=this;e&&(e.dirtyZIndex=!0)}toSVG(){}};sp._nextSerialNumber=0;M([yt()],sp.prototype,"visible",2);M([yt({changeCb:t=>t.onZIndexChange()})],sp.prototype,"zIndex",2);var yr=sp,Xd=(t,e,i)=>t*(1-i)+e*i,py=t=>{const e=t<0?-1:1,i=Math.abs(t);return i<=.04045?t/12.92:e*((i+.055)/1.055)**2.4},gy=t=>{const e=t<0?-1:1,i=Math.abs(t);return i>.0031308?e*(1.055*i**(1/2.4)-.055):12.92*t},tT=class de{constructor(e,i,n,s=1){this.r=Et(0,e||0,1),this.g=Et(0,i||0,1),this.b=Et(0,n||0,1),this.a=Et(0,s||0,1)}static validColorString(e){return e.indexOf("#")>=0?!!de.parseHex(e):e.indexOf("rgb")>=0?!!de.stringToRgba(e):de.nameToHex.has(e.toLowerCase())}static fromString(e){if(e.indexOf("#")>=0)return de.fromHexString(e);const i=de.nameToHex.get(e.toLowerCase());if(i)return de.fromHexString(i);if(e.indexOf("rgb")>=0)return de.fromRgbaString(e);throw new Error(`Invalid color string: '${e}'`)}static parseHex(e){e=e.replace(/ /g,"").slice(1);let i;switch(e.length){case 6:case 8:i=[];for(let n=0;n<e.length;n+=2)i.push(parseInt(`${e[n]}${e[n+1]}`,16));break;case 3:case 4:i=e.split("").map(n=>parseInt(n,16)).map(n=>n+n*16);break}if((i==null?void 0:i.length)>=3&&i.every(n=>n>=0))return i.length===3&&i.push(255),i}static fromHexString(e){const i=de.parseHex(e);if(i){const[n,s,r,l]=i;return new de(n/255,s/255,r/255,l/255)}throw new Error(`Malformed hexadecimal color string: '${e}'`)}static stringToRgba(e){let i=-1,n=-1;for(let c=0;c<e.length;c++){const h=e[c];if(i===-1&&h==="(")i=c;else if(h===")"){n=c;break}}if(i===-1||n===-1)return;const r=e.substring(i+1,n).split(","),l=[];for(let c=0;c<r.length;c++){const h=r[c];let d=parseFloat(h);if(!Number.isFinite(d))return;h.indexOf("%")>=0?(d=Et(0,d,100),d/=100):c===3?d=Et(0,d,1):(d=Et(0,d,255),d/=255),l.push(d)}return l}static fromRgbaString(e){const i=de.stringToRgba(e);if(i){if(i.length===3)return new de(i[0],i[1],i[2]);if(i.length===4)return new de(i[0],i[1],i[2],i[3])}throw new Error(`Malformed rgb/rgba color string: '${e}'`)}static fromArray(e){if(e.length===4)return new de(e[0],e[1],e[2],e[3]);if(e.length===3)return new de(e[0],e[1],e[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(e,i,n,s=1){const r=de.HSBtoRGB(e,i,n);return new de(r[0],r[1],r[2],s)}static fromHSL(e,i,n,s=1){const r=de.HSLtoRGB(e,i,n);return new de(r[0],r[1],r[2],s)}static fromOKLCH(e,i,n,s=1){const r=de.OKLCHtoRGB(e,i,n);return new de(r[0],r[1],r[2],s)}static padHex(e){return e.length===1?"0"+e:e}toHexString(){let e="#"+de.padHex(Math.round(this.r*255).toString(16))+de.padHex(Math.round(this.g*255).toString(16))+de.padHex(Math.round(this.b*255).toString(16));return this.a<1&&(e+=de.padHex(Math.round(this.a*255).toString(16))),e}toRgbaString(e=3){const i=[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255)],n=Math.pow(10,e);return this.a!==1?(i.push(Math.round(this.a*n)/n),`rgba(${i.join(", ")})`):`rgb(${i.join(", ")})`}toString(){return this.a===1?this.toHexString():this.toRgbaString()}toHSB(){return de.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(e,i,n){const s=py(e),r=py(i),l=py(n),c=Math.cbrt(.4122214708*s+.5363325363*r+.0514459929*l),h=Math.cbrt(.2119034982*s+.6806995451*r+.1073969566*l),d=Math.cbrt(.0883024619*s+.2817188376*r+.6299787005*l),p=.2104542553*c+.793617785*h-.0040720468*d,g=1.9779984951*c-2.428592205*h+.4505937099*d,m=.0259040371*c+.7827717662*h-.808675766*d,b=Math.atan2(m,g)*180/Math.PI,v=p,S=Math.hypot(g,m),A=b>=0?b:b+360;return[v,S,A]}static OKLCHtoRGB(e,i,n){const s=e,r=i*Math.cos(n*Math.PI/180),l=i*Math.sin(n*Math.PI/180),c=(s+.3963377774*r+.2158037573*l)**3,h=(s-.1055613458*r-.0638541728*l)**3,d=(s-.0894841775*r-1.291485548*l)**3,p=4.0767416621*c-3.3077115913*h+.2309699292*d,g=-1.2684380046*c+2.6097574011*h-.3413193965*d,m=-.0041960863*c-.7034186147*h+1.707614701*d,b=gy(p),v=gy(g),S=gy(m);return[b,v,S]}static RGBtoHSL(e,i,n){const s=Math.min(e,i,n),r=Math.max(e,i,n),l=(r+s)/2;let c,h;if(r===s)c=0,h=0;else{const d=r-s;h=l>.5?d/(2-r-s):d/(r+s),r===e?c=(i-n)/d+(i<n?6:0):r===i?c=(n-e)/d+2:c=(e-i)/d+4,c*=360/6}return[c,h,l]}static HSLtoRGB(e,i,n){if(e=(e%360+360)%360,i===0)return[n,n,n];const s=n<.5?n*(1+i):n+i-n*i,r=2*n-s;function l(p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?r+(s-r)*6*p:p<1/2?s:p<2/3?r+(s-r)*(2/3-p)*6:r}const c=l(e/360+1/3),h=l(e/360),d=l(e/360-1/3);return[c,h,d]}static RGBtoHSB(e,i,n){const s=Math.min(e,i,n),r=Math.max(e,i,n),l=r===0?0:(r-s)/r;let c=0;if(s!==r){const h=r-s,d=(r-e)/h,p=(r-i)/h,g=(r-n)/h;e===r?c=g-p:i===r?c=2+d-g:c=4+p-d,c/=6,c<0&&(c=c+1)}return[c*360,l,r]}static HSBtoRGB(e,i,n){e=(e%360+360)%360/360;let s=0,r=0,l=0;if(i===0)s=r=l=n;else{const c=(e-Math.floor(e))*6,h=c-Math.floor(c),d=n*(1-i),p=n*(1-i*h),g=n*(1-i*(1-h));switch(c>>0){case 0:s=n,r=g,l=d;break;case 1:s=p,r=n,l=d;break;case 2:s=d,r=n,l=g;break;case 3:s=d,r=p,l=n;break;case 4:s=g,r=d,l=n;break;case 5:s=n,r=d,l=p;break}}return[s,r,l]}static mix(e,i,n){return new de(Xd(e.r,i.r,n),Xd(e.g,i.g,n),Xd(e.b,i.b,n),Xd(e.a,i.a,n))}};tT.nameToHex=new Map([["aliceblue","#F0F8FF"],["antiquewhite","#FAEBD7"],["aqua","#00FFFF"],["aquamarine","#7FFFD4"],["azure","#F0FFFF"],["beige","#F5F5DC"],["bisque","#FFE4C4"],["black","#000000"],["blanchedalmond","#FFEBCD"],["blue","#0000FF"],["blueviolet","#8A2BE2"],["brown","#A52A2A"],["burlywood","#DEB887"],["cadetblue","#5F9EA0"],["chartreuse","#7FFF00"],["chocolate","#D2691E"],["coral","#FF7F50"],["cornflowerblue","#6495ED"],["cornsilk","#FFF8DC"],["crimson","#DC143C"],["cyan","#00FFFF"],["darkblue","#00008B"],["darkcyan","#008B8B"],["darkgoldenrod","#B8860B"],["darkgray","#A9A9A9"],["darkgreen","#006400"],["darkgrey","#A9A9A9"],["darkkhaki","#BDB76B"],["darkmagenta","#8B008B"],["darkolivegreen","#556B2F"],["darkorange","#FF8C00"],["darkorchid","#9932CC"],["darkred","#8B0000"],["darksalmon","#E9967A"],["darkseagreen","#8FBC8F"],["darkslateblue","#483D8B"],["darkslategray","#2F4F4F"],["darkslategrey","#2F4F4F"],["darkturquoise","#00CED1"],["darkviolet","#9400D3"],["deeppink","#FF1493"],["deepskyblue","#00BFFF"],["dimgray","#696969"],["dimgrey","#696969"],["dodgerblue","#1E90FF"],["firebrick","#B22222"],["floralwhite","#FFFAF0"],["forestgreen","#228B22"],["fuchsia","#FF00FF"],["gainsboro","#DCDCDC"],["ghostwhite","#F8F8FF"],["gold","#FFD700"],["goldenrod","#DAA520"],["gray","#808080"],["green","#008000"],["greenyellow","#ADFF2F"],["grey","#808080"],["honeydew","#F0FFF0"],["hotpink","#FF69B4"],["indianred","#CD5C5C"],["indigo","#4B0082"],["ivory","#FFFFF0"],["khaki","#F0E68C"],["lavender","#E6E6FA"],["lavenderblush","#FFF0F5"],["lawngreen","#7CFC00"],["lemonchiffon","#FFFACD"],["lightblue","#ADD8E6"],["lightcoral","#F08080"],["lightcyan","#E0FFFF"],["lightgoldenrodyellow","#FAFAD2"],["lightgray","#D3D3D3"],["lightgreen","#90EE90"],["lightgrey","#D3D3D3"],["lightpink","#FFB6C1"],["lightsalmon","#FFA07A"],["lightseagreen","#20B2AA"],["lightskyblue","#87CEFA"],["lightslategray","#778899"],["lightslategrey","#778899"],["lightsteelblue","#B0C4DE"],["lightyellow","#FFFFE0"],["lime","#00FF00"],["limegreen","#32CD32"],["linen","#FAF0E6"],["magenta","#FF00FF"],["maroon","#800000"],["mediumaquamarine","#66CDAA"],["mediumblue","#0000CD"],["mediumorchid","#BA55D3"],["mediumpurple","#9370DB"],["mediumseagreen","#3CB371"],["mediumslateblue","#7B68EE"],["mediumspringgreen","#00FA9A"],["mediumturquoise","#48D1CC"],["mediumvioletred","#C71585"],["midnightblue","#191970"],["mintcream","#F5FFFA"],["mistyrose","#FFE4E1"],["moccasin","#FFE4B5"],["navajowhite","#FFDEAD"],["navy","#000080"],["oldlace","#FDF5E6"],["olive","#808000"],["olivedrab","#6B8E23"],["orange","#FFA500"],["orangered","#FF4500"],["orchid","#DA70D6"],["palegoldenrod","#EEE8AA"],["palegreen","#98FB98"],["paleturquoise","#AFEEEE"],["palevioletred","#DB7093"],["papayawhip","#FFEFD5"],["peachpuff","#FFDAB9"],["peru","#CD853F"],["pink","#FFC0CB"],["plum","#DDA0DD"],["powderblue","#B0E0E6"],["purple","#800080"],["rebeccapurple","#663399"],["red","#FF0000"],["rosybrown","#BC8F8F"],["royalblue","#4169E1"],["saddlebrown","#8B4513"],["salmon","#FA8072"],["sandybrown","#F4A460"],["seagreen","#2E8B57"],["seashell","#FFF5EE"],["sienna","#A0522D"],["silver","#C0C0C0"],["skyblue","#87CEEB"],["slateblue","#6A5ACD"],["slategray","#708090"],["slategrey","#708090"],["snow","#FFFAFA"],["springgreen","#00FF7F"],["steelblue","#4682B4"],["tan","#D2B48C"],["teal","#008080"],["thistle","#D8BFD8"],["tomato","#FF6347"],["transparent","#00000000"],["turquoise","#40E0D0"],["violet","#EE82EE"],["wheat","#F5DEB3"],["white","#FFFFFF"],["whitesmoke","#F5F5F5"],["yellow","#FFFF00"],["yellowgreen","#9ACD32"]]);var Ne=tT;function mO(t,e){return i=>Number(t)*(1-i)+Number(e)*i}function eT(t,e){if(typeof t=="string")try{t=Ne.fromString(t)}catch{t=Ne.fromArray([0,0,0])}if(typeof e=="string")try{e=Ne.fromString(e)}catch{e=Ne.fromArray([0,0,0])}return i=>Ne.mix(t,e,i).toRgbaString()}var Af=Symbol("BREAK"),Cl="__decorator_config";function iT(t,e){Object.getOwnPropertyDescriptor(t,Cl)==null&&Object.defineProperty(t,Cl,{value:{}});const i=t[Cl],n=e.toString();if(typeof i[n]<"u")return i[n];const s=new WeakMap;i[n]={setters:[],getters:[],observers:[],valuesMap:s};const r=Object.getOwnPropertyDescriptor(t,e),l=r==null?void 0:r.set,c=r==null?void 0:r.get;return Object.defineProperty(t,e,{set:function(p){const{setters:g,observers:m}=i[n];let b;g.some(v=>v.length>2)&&(b=c?c.call(this):s.get(this));for(const v of g)if(p=v(this,e,p,b),p===Af)return;l?l.call(this,p):s.set(this,p);for(const v of m)v(this,p,b)},get:function(){let p=c?c.call(this):s.get(this);for(const g of i[n].getters)if(p=g(this,e,p),p===Af)return;return p},enumerable:!0,configurable:!1}),i[n]}function ma(t,e,i){return(n,s)=>{const r=iT(n,s);r.setters.push(t),e&&r.getters.unshift(e),i&&Object.assign(r,i)}}function nT(t){return(e,i)=>{iT(e,i).observers.push(t)}}function ap(t){return typeof t<"u"&&Cl in t}function yo(t){const e=new Set;for(;ap(t);)e.add(t==null?void 0:t[Cl]),t=Object.getPrototypeOf(t);return Array.from(e).flatMap(i=>Object.keys(i))}function sT(t){return yo(t).reduce((e,i)=>(e[i]=t[i]??null,e),{})}function yO(t,e){const i=e.toString();for(;ap(t);){const n=t[Cl];if(Object.hasOwn(n,i))return n[i];t=Object.getPrototypeOf(t)}}function vo(t,e){return Array.isArray(t)?!Array.isArray(e)||t.length!==e.length?!1:t.every((i,n)=>vo(i,e[n])):wi(t)?wi(e)?z0(t,e,vo):!1:t===e}function z0(t,e,i){for(const n of Object.keys(e))if(!(n in t))return!1;for(const n of Object.keys(t))if(!(n in e)||!i(t[n],e[n]))return!1;return!0}function Rt(...t){const e={};for(const i of t){if(!pi(i))continue;const n=ap(i)?yo(i):Object.keys(i);for(const s of n)wi(e[s])&&wi(i[s])?e[s]=Rt(e[s],i[s]):e[s]??(e[s]=i[s])}return e}function Lf(t,...e){return e&&ge(t)?t.map(i=>Rt(i,...e)):t}function bO(t,e){return Object.entries(t).reduce((i,[n,s])=>(i[n]=e(s,n,t),i),{})}function qy(t,e){const i={...t};for(const n of e)delete i[n];return i}function P0(t,e){return(ge(e)?e:e.split(".")).reduce((n,s)=>n[s],t)}var B0=new Set(["__proto__","constructor","prototype"]);function F0(t,e,i){const n=ge(e)?e.slice():e.split("."),s=n.pop();if(n.some(l=>B0.has(l)))return;const r=n.reduce((l,c)=>l[c],t);return r[s]=i,r[s]}function Qy(t,e,i){if(i===void 0)return e;for(const n of t){const s=i[n];s!==void 0&&(e[n]=s)}return e}function Au(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach(e=>{const i=t[e];i!==null&&(typeof i=="object"||typeof i=="function")&&!Object.isFrozen(i)&&Au(i)}),t}var Jy={};$n(Jy,{easeIn:()=>xO,easeInOut:()=>vO,easeInOutQuad:()=>DO,easeInQuad:()=>MO,easeOut:()=>_u,easeOutQuad:()=>SO,inverseEaseOut:()=>rT,linear:()=>aT});var aT=t=>t,xO=t=>1-Math.cos(t*Math.PI/2),_u=t=>Math.sin(t*Math.PI/2),vO=t=>-(Math.cos(t*Math.PI)-1)/2,MO=t=>t*t,SO=t=>1-(1-t)**2,DO=t=>t<.5?2*t*t:1-(-2*t+2)**2/2,rT=t=>2*Math.asin(t)/Math.PI,Tf=.2,Sl=["initial","remove","update","add","trailing","end","none"],zu={initial:{animationDuration:1,animationDelay:0},add:{animationDuration:.25,animationDelay:.75},remove:{animationDuration:.25,animationDelay:0},update:{animationDuration:.5,animationDelay:.25},trailing:{animationDuration:Tf,animationDelay:1,skipIfNoEarlierAnimations:!0},end:{animationDelay:1+Tf,animationDuration:0,skipIfNoEarlierAnimations:!0},none:{animationDuration:0,animationDelay:0}},oT=(t=>(t.Loop="loop",t.Reverse="reverse",t))(oT||{});function AO(t){return t.every(e=>e instanceof yr)}function rp(t){return AO(t)?{nodes:t,selections:[]}:{nodes:[],selections:t}}function t0(t,e){return t===e?!0:Array.isArray(t)&&Array.isArray(e)?t.length===e.length&&t.every((i,n)=>t0(i,e[n])):Df(t)&&Df(e)?t.equals(e):wi(t)&&wi(e)?z0(t,e,t0):!1}var lT=class{constructor(t){var i,n,s;this.isComplete=!1,this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1,this.id=t.id,this.groupId=t.groupId,this.autoplay=t.autoplay??!0,this.ease=t.ease??aT,this.phase=t.phase;const e=t.duration??zu[this.phase].animationDuration;this.duration=e*t.defaultDuration,this.delay=(t.delay??0)*t.defaultDuration,this.onComplete=t.onComplete,this.onPlay=t.onPlay,this.onStop=t.onStop,this.onUpdate=t.onUpdate,this.interpolate=this.createInterpolator(t.from,t.to),this.from=t.from,t.skip===!0&&((i=this.onUpdate)==null||i.call(this,t.to,!1,this),(n=this.onStop)==null||n.call(this,this),(s=this.onComplete)==null||s.call(this,this),this.isComplete=!0),t.collapsable!==!1&&(this.duration=this.checkCollapse(t,this.duration))}checkCollapse(t,e){return t0(t.from,t.to)?0:e}play(t=!1){var e,i;this.isPlaying||this.isComplete||(this.isPlaying=!0,(e=this.onPlay)==null||e.call(this,this),this.autoplay&&(this.autoplay=!1,t&&((i=this.onUpdate)==null||i.call(this,this.from,!0,this))))}stop(){var t;this.isPlaying=!1,this.isComplete||(this.isComplete=!0,(t=this.onStop)==null||t.call(this,this))}update(t){var s,r;if(this.isComplete)return t;!this.isPlaying&&this.autoplay&&this.play(!0);const e=this.elapsed;if(this.elapsed+=t,this.delay>this.elapsed)return 0;const i=this.interpolate(this.isReverse?1-this.delta:this.delta);(s=this.onUpdate)==null||s.call(this,i,!1,this);const n=this.delay+this.duration;return this.elapsed>=n?(this.stop(),this.isComplete=!0,(r=this.onComplete)==null||r.call(this,this),t-(n-e)):0}get delta(){return this.ease(Et(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(t,e){if(typeof e!="object"||Df(e))return this.interpolateValue(t,e);const i=[];for(const n of Object.keys(e)){const s=this.interpolateValue(t[n],e[n]);s!=null&&i.push([n,s])}return n=>{const s={};for(const[r,l]of i)s[r]=l(n);return s}}interpolateValue(t,e){if(!(t==null||e==null)){if(Df(t))return i=>t[Jf](e,i);try{switch(typeof t){case"number":return mO(t,e);case"string":return eT(t,e);case"boolean":if(t===e)return()=>t;break}}catch{}throw new Error(`Unable to interpolate values: ${t}, ${e}`)}}},us={added:"add",updated:"update",removed:"remove",unknown:"initial","no-op":"none"};function Ce(t,e,i,n,s,r,l){const{fromFn:c,toFn:h,applyFn:d=(v,S)=>v.setProperties(S)}=s,{nodes:p,selections:g}=rp(n),m=(v,S)=>{let A,D=0,L=0;for(const C of S){const N=v[D]===C,k={last:L>=S.length-1,lastLive:D>=v.length-1,prev:S[L-1],prevFromProps:A,prevLive:v[D-1],next:S[L+1],nextLive:v[D+(N?1:0)]},O=`${t}_${e}_${C.id}`;i.stopByAnimationId(O);let _="unknown";N?r&&l&&(_=LO(C,C.datum,r,l)):_="removed",C.transitionOut=_==="removed";const{phase:j,start:z,finish:B,delay:q,duration:at,...nt}=c(C,C.datum,_,k),{phase:xt,start:St,finish:W,delay:lt,duration:it,...ut}=h(C,C.datum,_,k),w=B==null;i.animate({id:O,groupId:t,phase:j??xt??"update",duration:at??it,delay:q??lt,from:nt,to:ut,ease:_u,collapsable:w,onPlay:()=>{const U={...z,...St,...nt};d(C,U,"start")},onUpdate(U){d(C,U,"update")},onStop:()=>{const U={...z,...St,...nt,...ut,...B,...W};d(C,U,"end")}}),N&&D++,L++,A=nt}};let b=0;for(const v of g){const S=v.nodes(),A=S.filter(D=>!v.isGarbage(D));m(A,S),i.animate({id:`${t}_${e}_selection_${b}`,groupId:t,phase:"end",from:0,to:1,ease:_u,onStop(){v.cleanup()}}),b++}m(p,p)}function xa(t,e,i,n,s,r,l){const{nodes:c,selections:h}=rp(n),{start:d,finish:p,phase:g}=l;i.animate({id:`${t}_${e}`,groupId:t,phase:g??"update",from:s,to:r,ease:_u,onPlay:()=>{if(d){for(const m of c)m.setProperties(d);for(const m of h)for(const b of m.nodes())b.setProperties(d)}},onUpdate(m){for(const b of c)b.setProperties(m);for(const b of h)for(const v of b.nodes())v.setProperties(m)},onStop:()=>{for(const m of c)m.setProperties({...r,...p});for(const m of h){for(const b of m.nodes())b.setProperties({...r,...p});m.cleanup()}}})}function LO(t,e,i,n){const s=i(t,e);return n.added.has(s)?"added":n.removed.has(s)?"removed":"updated"}var op=class{ticks(t,e,i){}niceDomain(t,e=this.domain){return e}tickFormatter(t){}datumFormatter(t){}get bandwidth(){}get step(){}get inset(){}},cT=class uT extends op{constructor(e=[],i=[]){super(),this.domain=e,this.range=i,this.defaultClamp=!1}static is(e){return e instanceof uT}normalizeDomains(...e){let i,n=1/0,s,r=-1/0;for(const l of e)for(const c of l){const h=c.valueOf();h<n&&(n=h,i=c),h>r&&(r=h,s=c)}return i!=null&&s!=null?{domain:[i,s],animatable:!0}:{domain:[],animatable:!1}}transform(e){return e}transformInvert(e){return e}calcBandwidth(e=1){const{domain:i}=this,n=this.getPixelRange();if(i.length===0)return n;const s=Math.abs(i[1].valueOf()-i[0].valueOf())/e+1,r=Math.floor(n),l=Math.min(s,r);return n/Math.max(1,l)}convert(e,i=this.defaultClamp){const{domain:n}=this;if(!n||n.length<2)return NaN;const s=Number(this.transform(n[0])),r=Number(this.transform(n[1])),l=Number(this.transform(e)),{range:c}=this,[h,d]=c;if(i){const[p,g]=gi([s,r]);if(l<p)return h;if(l>g)return d}return s===r?(h+d)/2:l===s?h:l===r?d:h+(l-s)/(r-s)*(d-h)}invert(e,i){const n=this.domain.map(p=>this.transform(p)),[s,r]=n,{range:l}=this,[c,h]=l;let d;return c===h?d=this.toDomain((Number(s)+Number(r))/2):d=this.toDomain(Number(s)+(e-c)/(h-c)*(Number(r)-Number(s))),this.transformInvert(d)}getPixelRange(){const[e,i]=this.range;return Math.abs(i-e)}};cT.defaultTickCount=5;var te=cT,TO={};$n(TO,{TimeInterval:()=>_l,day:()=>If,friday:()=>GO,hour:()=>Tl,millisecond:()=>hT,minute:()=>Ll,monday:()=>zO,month:()=>ho,saturday:()=>UO,second:()=>Al,sunday:()=>Lu,thursday:()=>FO,tuesday:()=>PO,utcDay:()=>eR,utcHour:()=>QO,utcMinute:()=>XO,utcMonth:()=>sR,utcYear:()=>oR,wednesday:()=>BO,year:()=>lp});var _l=class{constructor(t,e,i){this._encode=t,this._decode=e,this._rangeCallback=i}floor(t){const e=new Date(t),i=this._encode(e);return this._decode(i)}ceil(t){const e=new Date(Number(t)-1),i=this._encode(e);return this._decode(i+1)}range(t,e,{extend:i=!1,visibleRange:n=[0,1]}={}){var m;let s=!1;t.getTime()>e.getTime()&&([t,e]=[e,t],s=!0);const r=(m=this._rangeCallback)==null?void 0:m.call(this,t,e),l=this._encode(i?this.floor(t):this.ceil(t)),c=this._encode(i?this.ceil(e):this.floor(e));if(c<l)return[];const h=c-l;let d,p;s?(d=Math.ceil(l+(1-n[1])*h),p=Math.floor(l+(1-n[0])*h)):(d=Math.floor(l+n[0]*h),p=Math.ceil(l+n[1]*h));const g=[];for(let b=d;b<=p;b+=1){const v=this._decode(b);g.push(v)}return r==null||r(),g}},Mn=class extends _l{getOffset(t,e){return Math.floor(this._encode(new Date(t)))%e}every(t,e){let i=0,n;const s=t;t=Math.max(1,Math.round(t)),s!==t&&ot.warnOnce(`interval step of [${s}] rounded to [${t}].`);const{snapTo:r="start"}=e??{};if(typeof r=="string"){const h=i;n=(d,p)=>{const g=r==="start"?d:p;return i=this.getOffset(g,t),()=>i=h}}else typeof r=="number"?i=this.getOffset(new Date(r),t):r instanceof Date&&(i=this.getOffset(r,t));const l=h=>Math.floor((this._encode(h)-i)/t),c=h=>this._decode(h*t+i);return new _l(l,c,n)}};function IO(t){return t.getTime()}function NO(t){return new Date(t)}var hT=new Mn(IO,NO),or=1e3,Di=or*60,Zi=Di*60,Zn=Zi*24,ua=Zn*7,uu=Zn*30,zl=Zn*365,dT=new Date().getTimezoneOffset()*Di;function CO(t){return Math.floor((t.getTime()-dT)/or)}function EO(t){return new Date(dT+t*or)}var Al=new Mn(CO,EO),fT=new Date().getTimezoneOffset()*Di;function kO(t){return Math.floor((t.getTime()-fT)/Di)}function wO(t){return new Date(fT+t*Di)}var Ll=new Mn(kO,wO),pT=new Date().getTimezoneOffset()*Di;function OO(t){return Math.floor((t.getTime()-pT)/Zi)}function RO(t){return new Date(pT+t*Zi)}var Tl=new Mn(OO,RO);function jO(t){const e=t.getTimezoneOffset()*Di;return Math.floor((t.getTime()-e)/Zn)}function _O(t){const e=new Date(1970,0,1);return e.setDate(e.getDate()+t),e}var If=new Mn(jO,_O);function To(t){const i=(7+t-4)%7;function n(r){const l=r.getTimezoneOffset()*Di;return Math.floor((r.getTime()-l)/ua-i/7)}function s(r){const l=new Date(1970,0,1);return l.setDate(l.getDate()+r*7+i),l}return new Mn(n,s)}var Lu=To(0),zO=To(1),PO=To(2),BO=To(3),FO=To(4),GO=To(5),UO=To(6);function YO(t){return t.getFullYear()*12+t.getMonth()}function VO(t){const e=Math.floor(t/12),i=t-e*12;return new Date(e,i,1)}var ho=new Mn(YO,VO);function HO(t){return t.getFullYear()}function WO(t){const e=new Date;return e.setFullYear(t),e.setMonth(0,1),e.setHours(0,0,0,0),e}var lp=new Mn(HO,WO);function KO(t){return Math.floor(t.getTime()/Di)}function ZO(t){return new Date(t*Di)}var XO=new Mn(KO,ZO);function $O(t){return Math.floor(t.getTime()/Zi)}function qO(t){return new Date(t*Zi)}var QO=new Mn($O,qO);function JO(t){return Math.floor(t.getTime()/Zn)}function tR(t){const e=new Date(0);return e.setUTCDate(e.getUTCDate()+t),e.setUTCHours(0,0,0,0),e}var eR=new Mn(JO,tR);function iR(t){return t.getUTCFullYear()*12+t.getUTCMonth()}function nR(t){const e=Math.floor(t/12),i=t-e*12;return new Date(Date.UTC(e,i,1))}var sR=new Mn(iR,nR);function aR(t){return t.getUTCFullYear()}function rR(t){const e=new Date;return e.setUTCFullYear(t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0),e}var oR=new Mn(aR,rR),$d={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function G0(t,e=new Date(t.getFullYear(),0,1)){const i=t.getTimezoneOffset()-e.getTimezoneOffset(),n=t.getTime()-e.getTime()+i*6e4,s=36e5*24;return Math.floor(n/s)}function ZD(t,e){const n=new Date(t.getFullYear(),0,1).getDay(),s=(e-n+7)%7,r=new Date(t.getFullYear(),0,s+1);return r<=t?Math.floor(G0(t,r)/7)+1:0}var lR=0,gT=1,XD=4;function mT(t,e=t.getFullYear()){const n=new Date(e,0,1).getDay(),s=(XD-n+7)%7,r=new Date(e,0,s-(XD-gT)+1);return r<=t?Math.floor(G0(t,r)/7)+1:mT(t,e-1)}function cR(t){const e=t.getTimezoneOffset(),i=Math.abs(e);return`${e>0?"-":"+"}${Si(Math.floor(i/60),2,"0")}${Si(Math.floor(i%60),2,"0")}`}var uR={a:t=>$d.shortDays[t.getDay()],A:t=>$d.days[t.getDay()],b:t=>$d.shortMonths[t.getMonth()],B:t=>$d.months[t.getMonth()],c:"%x, %X",d:(t,e)=>Si(t.getDate(),2,e??"0"),e:"%_d",f:(t,e)=>Si(t.getMilliseconds()*1e3,6,e??"0"),H:(t,e)=>Si(t.getHours(),2,e??"0"),I:(t,e)=>{const i=t.getHours()%12;return i===0?"12":Si(i,2,e??"0")},j:(t,e)=>Si(G0(t)+1,3,e??"0"),m:(t,e)=>Si(t.getMonth()+1,2,e??"0"),M:(t,e)=>Si(t.getMinutes(),2,e??"0"),L:(t,e)=>Si(t.getMilliseconds(),3,e??"0"),p:t=>t.getHours()<12?"AM":"PM",Q:t=>String(t.getTime()),s:t=>String(Math.floor(t.getTime()/1e3)),S:(t,e)=>Si(t.getSeconds(),2,e??"0"),u:t=>{let e=t.getDay();return e<1&&(e+=7),String(e%7)},U:(t,e)=>Si(ZD(t,lR),2,e??"0"),V:(t,e)=>Si(mT(t),2,e??"0"),w:(t,e)=>Si(t.getDay(),2,e??"0"),W:(t,e)=>Si(ZD(t,gT),2,e??"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(t,e)=>Si(t.getFullYear()%100,2,e??"0"),Y:(t,e)=>Si(t.getFullYear(),4,e??"0"),Z:t=>cR(t),"%":()=>"%"},hR={_:" ",0:"0","-":""};function Si(t,e,i){const n=String(Math.floor(t));return n.length>=e?n:`${i.repeat(e-n.length)}${n}`}function sh(t){const e=[];for(;t.length>0;){let i=t.indexOf("%");if(i!==0){const c=i>0?t.substring(0,i):t;e.push(c)}if(i<0)break;const n=t[i+1],s=hR[n];s!=null&&i++;const r=t[i+1],l=uR[r];if(typeof l=="function")e.push([l,s]);else if(typeof l=="string"){const c=sh(l);e.push([c,s])}else e.push(`${s??""}${r}`);t=t.substring(i+2)}return i=>{const n=typeof i=="number"?new Date(i):i;return e.map(s=>typeof s=="string"?s:s[0](n,s[1])).join("")}}function Ei(t){return t instanceof Date?t.getTime():t}function U0(t,e,i){const n=yT(t,e,i),s=sh(n);return r=>s(r)}function yT(t,e,i=0){let n=1/0;for(let p=1;p<t.length;p++)n=Math.min(n,Math.abs(t[p].valueOf()-t[p-1].valueOf()));const[s,r]=e.length===0?[0,0]:gi([e[0].valueOf(),e[e.length-1].valueOf()]),l=new Date(s).getFullYear(),h=new Date(r).getFullYear()-l>0,d=isFinite(n)?dR(n,t):fR(t[0]);return gR(Math.max(d-i,0),h,t)}function dR(t,e){return t<or?0:t<Di?1:t<Zi?2:t<Zn?3:t<ua?4:t<Zn*28||t<Zn*31&&pR(e)?5:t<zl?6:7}function fR(t){return Al.floor(t)<t?0:Ll.floor(t)<t?1:Tl.floor(t)<t?2:If.floor(t)<t?3:ho.floor(t)<t?Lu.floor(t)<t?4:5:lp.floor(t)<t?6:7}function pR(t){let e=new Date(t[0]).getMonth();for(let i=1;i<t.length;i++){const n=new Date(t[i]).getMonth();if(e===n)return!0;e=n}return!1}function gR(t,e,i){const n=Ei(i[0]),s=Ei(i.at(-1)),r=Math.abs(s-n),l=e||t===7,c=r===0,d=[["hour",6*Zi,14*Zn,3,"%I %p"],["hour",Di,6*Zi,3,"%I:%M"],["second",1e3,6*Zi,1,":%S"],["ms",0,6*Zi,0,".%L"],["am/pm",Di,6*Zi,3,"%p"]," ",["day",Zn,ua,4,"%a"],["month",c?0:ua,52*ua,5,"%b %d"],["month",5*ua,10*zl,6,"%B"]," ",["year",l?0:zl,1/0,7,"%Y"]].filter(m=>{if(typeof m=="string")return!0;const[b,v,S,A]=m;return A>=t&&v<=r&&r<S}).reduce((m,b)=>(typeof b=="string"?m.result.push(b):m.used.has(b[0])||(m.result.push(b),m.used.add(b[0])),m),{result:[],used:new Set}).result,p=d.findIndex(m=>typeof m!="string"),g=d.findLastIndex(m=>typeof m!="string");return d.slice(p,g+1).map(m=>typeof m=="string"?m:m[4]).join("").replaceAll(/\s+/g," ").trim()}var Yl=(t,e)=>{const i=Symbol(String(e));t[i]=void 0,Object.defineProperty(t,e,{get(){return this[i]},set(n){this[i]!==n&&(this[i]=n,this.invalid=!0)},enumerable:!0,configurable:!1})};function bT(t,e,i){if(i==null||i[0]===0&&i[1]===1)return t;const n=Et(0,Math.floor(i[0]*t.length),t.length),s=Et(0,Math.ceil(i[1]*t.length),t.length),r=e?t.length-s:n,l=e?t.length-n:s;return t.slice(r,l)}var cp=class xT extends op{constructor(){super(...arguments),this.invalid=!0,this.range=[0,1],this.round=!1,this.interval=void 0,this._bandwidth=1,this._step=1,this._inset=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0}static is(e){return e instanceof xT}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get inset(){return this.refresh(),this._inset}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(e){e=Et(0,e,1),this._paddingInner=e,this._paddingOuter=e}get padding(){return this._paddingInner}set paddingInner(e){this.invalid=!0,this._paddingInner=Et(0,e,1)}get paddingInner(){return this._paddingInner}set paddingOuter(e){this.invalid=!0,this._paddingOuter=Et(0,e,1)}get paddingOuter(){return this._paddingOuter}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&ot.warnOnce("Expected update to not invalidate scale"))}ticks(e,i=this.domain,n){return bT(i,!1,n)}convert(e,i){this.refresh();const n=this.getIndex(e);return n==null||n<0||n>=this.domain.length?NaN:this.ordinalRange(n)}invertNearestIndex(e){this.refresh();const{domain:i}=this;if(i.length===0)return-1;let n=0,s=i.length-1,r=1/0,l=0;for(;n<=s;){const c=(s+n)/2|0,h=this.ordinalRange(c),d=Math.abs(h-e);if(d===0)return c;d<r&&(r=d,l=c),h<e?n=c+1:s=c-1}return l}update(){const e=this.domain.length;if(e===0)return;const[i,n]=this.range;let{_paddingInner:s}=this;const{_paddingOuter:r,round:l}=this,c=n-i;let h;e===1?(s=0,h=c*(1-r*2)):h=c/Math.max(1,e-s+r*2);const d=l?Math.floor(h):h;let p=i+(c-d*(e-s))/2,g=d*(1-s);l&&(p=Math.round(p),g=Math.round(g)),this._step=d,this._inset=p,this._bandwidth=g,this._rawBandwidth=h*(1-s)}ordinalRange(e){const{_inset:i,_step:n,range:s}=this,r=Math.min(s[0],s[1]),l=Math.max(s[0],s[1]);return Et(r,i+n*e,l)}};M([Yl],cp.prototype,"range",2);M([Yl],cp.prototype,"round",2);M([Yl],cp.prototype,"interval",2);var ah=cp,rh=class extends ah{constructor(){super(...arguments),this.type="band",this.index=void 0,this._domain=[]}set domain(t){this._domain!==t&&(this.invalid=!0,this._domain=t,this.index=void 0)}get domain(){return this._domain}normalizeDomains(...t){let e;const i=new Set;let n=!0;for(const s of t)i.has(s)||(i.add(s),e==null?e=$D(s):(n&&(n=mR(s,e)),e=$D([...e,...s])));return e??(e=[]),{domain:e,animatable:n}}toDomain(t){}invert(t,e=!1){this.refresh();const i=e?this.bandwidth/2:0,n=this.invertNearestIndex(Math.max(0,t-i));return e||t===this.ordinalRange(n)?this.domain[n]:void 0}getIndex(t){let{index:e}=this;if(e==null){const{domain:i}=this;e=new Map;for(let n=0;n<i.length;n++)e.set(Ei(i[n]),n);this.index=e}return e.get(Ei(t))}};function $D(t){let e;const i=new Set;for(const n of t){const s=Ei(n),r=i.size;i.add(s),i.size!==r?e==null||e.push(n):e??(e=t.slice(0,i.size))}return e??t}function mR(t,e){let i=-1;for(const n of t){const s=e.indexOf(n);if(s===-1)i=1/0;else{if(s<=i)return!1;i=s}}return!0}var Ct=class{set(t){const{className:e=this.constructor.name}=this.constructor;if(typeof t!="object")return ot.warn(`unable to set ${e} - expecting a properties object`),this;const i=new Set(Object.keys(t));for(const n of yo(this))if(i.has(n)){const s=t[n],r=this;if(Os(r[n]))if(r[n]instanceof oh){const l=r[n].reset(s);l!=null?r[n]=l:ot.warn(`unable to set [${n}] - expecting a properties array`)}else r[n].set(s);else r[n]=s;i.delete(n)}for(const n of i)ot.warn(`unable to set [${n}] in ${e} - property is unknown`);return this}isValid(t){return yo(this).every(e=>{const{optional:i}=yO(this,e),n=i===!0||typeof this[e]<"u";return n||ot.warnOnce(`${t??""}[${e}] is required.`),n})}toJson(){return yo(this).reduce((t,e)=>{const i=this[e];return t[e]=Os(i)?i.toJson():i,t},{})}},oh=class vT extends Array{constructor(e,...i){super(i.length);const s=(r=>{var l,c;return!!((c=(l=r==null?void 0:r.prototype)==null?void 0:l.constructor)!=null&&c.name)})(e)?r=>new e().set(r):e;Object.defineProperty(this,"itemFactory",{value:s,enumerable:!1,configurable:!1}),this.set(i)}set(e){if(ge(e)){this.length=e.length;for(let i=0;i<e.length;i++)this[i]=this.itemFactory(e[i])}return this}reset(e){if(Array.isArray(e))return new vT(this.itemFactory,...e)}toJson(){return this.map(e=>{var i;return((i=e==null?void 0:e.toJson)==null?void 0:i.call(e))??e})}};function Os(t){return t instanceof Ct||t instanceof oh}function T(t,e={}){const{optional:i=!1,property:n}=e;return ma((s,r,l)=>{const c={...e,target:s,property:r};if(i&&typeof l>"u"||t(l,c))return Os(s[r])&&!Os(l)?(s[r].set(l),s[r]):l;const h=n??String(r).replace(/^_*/,""),d=s.constructor.className??s.constructor.name.replace(/Properties$/,""),p=Du(l,50);return ot.warn(`Property [${h}] of [${d}] cannot be set to [${p}]${t.message?`; expecting ${hh(t,c)}`:""}, ignoring.`),Af},void 0,{optional:i})}var js=(...t)=>{const e=[];return ie((i,n)=>(e.length=0,t.every(s=>{const r=s(i,n);return r||e.push(hh(s,n)),r})),()=>e.filter(Boolean).join(" AND "))},br=(...t)=>ie((e,i)=>t.some(n=>n(e,i)),e=>t.map(TR(e)).filter(Boolean).join(" OR ")),mt=Z0(ie((t,e)=>Os(t)||pi(t)&&Os(e.target[e.property]),"a properties object")),MT=Z0(ie(t=>pi(t),"an object")),At=ie(HL,"a boolean"),$i=ie(Lo,"a function"),rt=ie(rn,"a string"),Ut=NR(ie(Wt,"a number")),ST=ie(t=>Vn(t)&&!isNaN(t),"a real number"),up=ie(t=>Vn(t)&&isNaN(t),"NaN"),ft=Ut.restrict({min:0}),ee=Ut.restrict({min:0,max:1}),Vl=br(Ut,up),lh=IR(ie(ge,"an array")),va=(t,e)=>ie((i,n)=>ge(i)&&i.every(s=>t(s,n)),i=>{const n=hh(lh,i)??"";return typeof e=="function"?`${n} of ${e(i)}`:e?`${n} of ${e}`:n}),Nf=t=>Wt(t)||ih(t),ch=t=>ie((e,i)=>!Nf(e)||!Nf(i.target[t])||e<i.target[t],`to be less than ${t}`),uh=t=>ie((e,i)=>!Nf(e)||!Nf(i.target[t])||e>i.target[t],`to be greater than ${t}`),Y0=ie(ih,"Date object"),V0=br(Y0,ft),DT="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",$t=ie(t=>rn(t)&&Ne.validColorString(t),`color String. ${DT}`),AT=Z0(ie(t=>pi(t)&&t.type==="gradient","a color gradient object")),Sn=ie(va($t),`color strings. ${DT}`),yR=va(At,"boolean values"),hp=va(Ut,"numbers"),LT=va(rt,"strings"),bR=ie(va(Y0),"Date objects"),H0=ie(va(mt),"objects"),xR=ue(["butt","round","square"],"a line cap"),vR=ue(["round","bevel","miter"],"a line join"),MR=ue(["solid","dashed","dotted"],"a line style"),_s=ie(va(ft),"numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),W0=ue(["top","right","bottom","left"],"a position"),Ma=ue(["normal","italic","oblique"],"a font style"),Sa=br(ue(["normal","bold","bolder","lighter"],"a font weight"),Ut.restrict({min:1,max:1e3})),dp=ue(["never","always","hyphenate","on-space"],"a text wrap strategy"),TT=ue(["left","center","right"],"a text align"),SR=ue(["top","middle","bottom"],"a vertical align"),DR=ue(["ellipsis","hide"],"an overflow strategy"),IT=ue(["horizontal","vertical"],"a direction"),AR=ue(["inside","outside"],"a placement"),fp=br(ue(["exact","nearest"],"interaction range"),Ut),K0=ue(["top","bottom","left","right"]);function ue(t,e="a"){return ie((i,n)=>{const s=t.find(r=>{const l=typeof r=="string"?r:r.value;return i===l});if(s==null)return!1;if(typeof s!="string"&&(s.deprecated===!0||s.deprecatedTo!=null)){const r=[`Property [%s] with value '${s.value}' is deprecated.`];s.deprecatedTo&&r.push(`Use ${s.deprecatedTo} instead.`),ot.warnOnce(r.join(" "),n.property)}return!0},`${e} keyword such as ${LR(t)}`)}var NT=br(js(Ut.restrict({min:1}),ch("maxSpacing")),up),CT=br(js(Ut.restrict({min:1}),uh("minSpacing")),up);function ie(t,e){return t.message=e,t}function LR(t){const e=t.filter(n=>typeof n=="string"||n.undocumented!==!0).map(n=>`'${typeof n=="string"?n:n.value}'`);if(e.length===1)return e[0];const i=e.pop();return`${e.join(", ")} or ${i}`}function hh(t,e){return Lo(t.message)?t.message(e):t.message}function TR(t){return e=>hh(e,t)}function IR(t){return Object.assign(t,{restrict({length:e,minLength:i}={}){let n="an array";return Vn(i)&&i>0?n="a non-empty array":Vn(e)&&(n=`an array of length ${e}`),ie(s=>ge(s)&&(Vn(e)?s.length===e:!0)&&(Vn(i)?s.length>=i:!0),n)}})}function NR(t){return Object.assign(t,{restrict({min:e,max:i}={}){const n=["a number"],s=Vn(e),r=Vn(i);return s&&r?n.push(`between ${e} and ${i} inclusive`):s?n.push(`greater than or equal to ${e}`):r&&n.push(`less than or equal to ${i}`),ie(l=>Wt(l)&&(s?l>=e:!0)&&(r?l<=i:!0),n.join(" "))}})}function Z0(t){return Object.assign(t,{restrict(e){return ie(i=>i instanceof e,i=>hh(t,i)??`an instance of ${e.name}`)}})}var ET={};$n(ET,{resetMotion:()=>fi});function fi(t,e){const{nodes:i,selections:n}=rp(t);for(const s of n){for(const r of s.nodes()){const l=e(r,r.datum);r.setProperties(l)}s.cleanup()}for(const s of i){const r=e(s,s.datum);s.setProperties(r)}}var CR=2e3,qD=Date.now(),ER=()=>{const t=Date.now()-qD;if(t>CR){const e=(Math.floor(t/100)/10).toFixed(1);ot.log(`**** ${e}s since last log message ****`)}qD=Date.now()},ce={create(...t){return Object.assign((...i)=>{ce.check(...t)&&(typeof i[0]=="function"&&(i=Sf(i[0]())),ER(),ot.log(...i))},{check:()=>ce.check(...t),group:(i,n)=>ce.check(...t)?ot.logGroup(i,n):n()})},check(...t){return t.length===0&&t.push(!0),Sf(pe("agChartsDebug")).some(i=>t.includes(i))}};function kT({context:t,pixelRatio:e,width:i,height:n}){t.save(),t.resetTransform(),t.clearRect(0,0,Math.ceil(i*e),Math.ceil(n*e)),t.restore()}function wT(t){if(ce.check("canvas")){const e=t.save.bind(t),i=t.restore.bind(t);let n=0;Object.assign(t,{save(){e(),n++},restore(){if(n===0)throw new Error("AG Charts - Unable to restore() past depth 0");i(),n--},verifyDepthZero(){if(n!==0)throw new Error(`AG Charts - Save/restore depth is non-zero: ${n}`)}})}}function QD(t,e,i){return[Math.round(t*i),Math.round(e*i)]}var OT=class{constructor(t){const{width:e,height:i,pixelRatio:n,willReadFrequently:s=!1}=t;this.width=e,this.height=i,this.pixelRatio=n;const[r,l]=QD(e,i,n);this.canvas=new OffscreenCanvas(r,l),this.context=this.canvas.getContext("2d",{willReadFrequently:s}),this.context.setTransform(n,0,0,n,0,0),wT(this.context)}drawImage(t,e=0,i=0){return t.drawImage(this.canvas,e,i)}transferToImageBitmap(){return this.canvas.transferToImageBitmap()}resize(t,e,i){if(!(t>0&&e>0))return;const{canvas:n,context:s}=this;if(t!==this.width||e!==this.height||i!==this.pixelRatio){const[r,l]=QD(t,e,i);n.width=r,n.height=l}s.setTransform(i,0,0,i,0,0),this.width=t,this.height=e,this.pixelRatio=i}clear(){kT(this)}destroy(){this.canvas.width=0,this.canvas.height=0,this.context.clearRect(0,0,0,0),this.canvas=null,this.context=null,Object.freeze(this)}},JD=t=>{const e=Ne.fromString(t),[i,n,s]=Ne.RGBtoOKLCH(e.r,e.g,e.b);return{l:i,c:n,h:s,a:e.a}},my=1e-6,tA=t=>t.c<my||t.l<my||t.l>1-my,kR=(t,e,i)=>{i=Et(0,i,1);let n;if(tA(t))n=e.h;else if(tA(e))n=t.h;else{const c=t.h;let h=e.h;const d=e.h-t.h;d>180?h-=360:d<-180&&(h+=360),n=c*(1-i)+h*i}const s=t.c*(1-i)+e.c*i,r=t.l*(1-i)+e.l*i,l=t.a*(1-i)+e.a*i;return Ne.fromOKLCH(r,s,n,l)},xr=class extends op{constructor(){super(...arguments),this.type="color",this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map(JD)}update(){const{domain:t,range:e}=this;t.length<2&&(ot.warnOnce("`colorDomain` should have at least 2 values."),t.length===0?t.push(0,1):t.length===1&&t.push(t[0]+1));for(let i=1;i<t.length;i++){const n=t[i-1],s=t[i];if(n>=s){ot.warnOnce("`colorDomain` values should be supplied in ascending order."),t.sort((r,l)=>r-l);break}}if(e.length<t.length)for(let i=e.length;i<t.length;i++)e.push(e.length>0?e[0]:"black");this.parsedRange=this.range.map(JD)}normalizeDomains(...t){return{domain:t.flat(),animatable:!0}}toDomain(){}convert(t){this.refresh();const{domain:e,range:i,parsedRange:n}=this,s=e[0],r=e.at(-1),l=i[0],c=i[i.length-1];if(t<=s)return l;if(t>=r)return c;let h,d;if(e.length===2){const m=(t-s)/(r-s),b=1/(i.length-1);h=i.length<=2?0:Math.min(Math.floor(m*(i.length-1)),i.length-2),d=(m-h*b)/b}else{for(h=0;h<e.length-2&&!(t<e[h+1]);h++);const m=e[h],b=e[h+1];d=(t-m)/(b-m)}const p=n[h],g=n[h+1];return kR(p,g,d).toRgbaString()}invert(){}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&ot.warnOnce("Expected update to not invalidate scale"))}};M([Yl],xr.prototype,"domain",2);M([Yl],xr.prototype,"range",2);var pp=class{constructor(t,e=[],i){this.colorSpace=t,this.stops=e,this.bbox=i,this._cache=void 0}createGradient(t,e){const i=this.bbox??e;if(this._cache!=null&&this._cache.ctx===t&&this._cache.bbox.equals(i))return this._cache.gradient;const{stops:n,colorSpace:s}=this;if(n.length===0)return;if(n.length===1)return n[0].color;let r=this.createCanvasGradient(t,i);if(r==null)return;const l=s==="oklch",c=.05;let h=n[0];r.addColorStop(h.offset,h.color);for(let d=1;d<n.length;d+=1){const p=n[d];if(l){const g=new xr;g.domain=[h.offset,p.offset],g.range=[h.color,p.color];for(let m=h.offset+c;m<p.offset;m+=c)r.addColorStop(m,g.convert(m))}r.addColorStop(p.offset,p.color),h=p}return"createPattern"in r&&(r=r.createPattern()),this._cache={ctx:t,bbox:i,gradient:r},r}},Hn=Math.PI*2,hu=Math.PI/2;function fe(t){return t%=Hn,t+=Hn,t%=Hn,t}function wR(t){return t%=Hn,t+=Hn,t!==Hn&&(t%=Hn),t}function Pu(t){return t%=Hn,t<-Math.PI?t+=Hn:t>=Math.PI&&(t-=Hn),t}function lr(t,e,i){const n=fe(t),s=fe(e),r=fe(i);return s<r?s<=n&&n<=r:s>r?s<=n||n<=r:!0}function qe(t){return t/180*Math.PI}function OR(t){return t/Math.PI*180}function gp(t,e){return t=fe(t),e=fe(e),e-t+(t>e?Hn:0)}function RT(t){const e=fe(t);return e<=hu?e/hu:e<=Math.PI?(Math.PI-e)/hu:e<=1.5*Math.PI?(e-Math.PI)/hu:(Hn-e)/hu}var e0=class extends pp{constructor(t,e,i=0,n){super(t,e,n),this.angle=i}createCanvasGradient(t,e){const{angle:n}=this,s=fe(qe(n+90)),r=Math.cos(s),l=Math.sin(s),c=e.width,h=e.height,d=e.x+c*.5,p=e.y+h*.5,g=Math.sqrt(h*h+c*c)/2,m=Math.atan2(h,c);let b;s<Math.PI/2?b=s:s<Math.PI?b=Math.PI-s:s<1.5*Math.PI?b=s-Math.PI:b=2*Math.PI-s;const v=g*Math.abs(Math.cos(b-m));return t.createLinearGradient(d+r*v,p+l*v,d-r*v,p-l*v)}},X0=class extends Ct{constructor(){super(...arguments),this.color="black"}};M([T(Ut,{optional:!0})],X0.prototype,"stop",2);M([T($t,{optional:!0})],X0.prototype,"color",2);function RR(t){let e;for(const{stop:i}of t)if(i!=null){if(e!=null&&i<e)return!1;e=i}return!0}function jT(t){return t.flatMap((e,i)=>{var r;const{offset:n}=e,s=(r=t.at(i+1))==null?void 0:r.color;return s!=null?[e,{offset:n,color:s}]:[e]})}function jR(t,e){const i=e==="discrete"?1:0,n=t.map((s,r,{length:l})=>({offset:(r+i)/(l-1+i),color:s}));return e==="discrete"?jT(n):n}function _T(t,e,i,n="continuous"){var b;if(t.length===0)return jR(e,n);if(!RR(t))return ot.warnOnce("[fills] must have the stops defined in ascending order"),[];const s=Math.min(...i),r=Math.max(...i),l=n==="discrete",c=new Float64Array(t.length);let h=0,d=-1;for(let v=0;v<t.length;v+=1){const S=t[v];if(v>=d){d=t.length-1;for(let D=v+1;D<t.length;D+=1)if(t[D].stop!=null){d=D;break}}let{stop:A}=S;if(A==null){const D=t[h].stop,L=t[d].stop,C=D??s,N=L??r,k=l&&D==null?1:0;A=C+(N-C)*(v-h+k)/(d-h+k)}else h=v;c[v]=Math.max(0,Math.min(1,(A-s)/(r-s)))}let p=(b=t.find(v=>v.color!=null))==null?void 0:b.color,g;const m=t.map(({color:v},S)=>{const A=c[S];return v!=null?p=v:p!=null?v=p:(g==null&&(g=new xr,g.domain=[0,1],g.range=e),v=g.convert(A)),{offset:A,color:v}});return n==="discrete"?jT(m):m}function zT(t){return t!==null&&pi(t)&&t.type=="gradient"}function aa(t,e,i){const n=Math.round(e*t)/t;return i==null?n:i===0?0:i<1?Math.ceil(i*t)/t:Math.round((i+e)*t)/t-n}function eA(t,e){return Math.floor(e*t)/t}var _R=/^linear-gradient\((-?[\d.]+)deg,(.*?)\)$/i,qi=class ls extends yr{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill=ls.defaultStyles.fill,this.stroke=ls.defaultStyles.stroke,this.strokeWidth=ls.defaultStyles.strokeWidth,this.lineDash=ls.defaultStyles.lineDash,this.lineDashOffset=ls.defaultStyles.lineDashOffset,this.lineCap=ls.defaultStyles.lineCap,this.lineJoin=ls.defaultStyles.lineJoin,this.miterLimit=void 0,this.opacity=ls.defaultStyles.opacity,this.fillShadow=ls.defaultStyles.fillShadow,this.gradientFillOptions={domain:[0,1],defaultColorRange:ls.defaultStyles.defaultColorRange}}restoreOwnStyles(){const{defaultStyles:e}=this.constructor;Object.assign(this,e)}getGradient(e){let i;if(e instanceof pp)return e;if(typeof e=="string"&&(e!=null&&e.startsWith("linear-gradient"))&&(i=_R.exec(e))){const n=parseFloat(i[1]),s=[],r=i[2],l=/(#[0-9a-f]+)|(rgba?\(.+?\))|([a-z]+)/gi;let c;for(;c=l.exec(r);)s.push(c[0]);return new e0("rgb",s.map((h,d)=>({color:h,offset:d/(s.length-1)})),n)}else if(zT(e))return this.createLinearGradient(e)}createLinearGradient(e){const{colorStops:i=[],direction:n}=e,s=n==="horizontal",{domain:r,defaultColorRange:l=[]}=this.gradientFillOptions,c=_T(i,l,r);return new e0("oklch",c,s?0:90)}onFillChange(){this.fillGradient=this.getGradient(this.fill)}onStrokeChange(){this.strokeGradient=this.getGradient(this.stroke)}align(e,i){var n,s;return aa(((s=(n=this.layerManager)==null?void 0:n.canvas)==null?void 0:s.pixelRatio)??1,e,i)}fillStroke(e,i){this.renderFill(e,i),this.renderStroke(e,i)}renderFill(e,i){if(this.fill){const{globalAlpha:n}=e;this.applyFill(e),this.applyFillAlpha(e),this.applyShadow(e),this.executeFill(e,i),e.globalAlpha=n}e.shadowColor="rgba(0, 0, 0, 0)"}executeFill(e,i){i?e.fill(i):e.fill()}applyFill(e){var n;const i=this.gradientFillOptions.bbox??this.getBBox();e.fillStyle=((n=this.fillGradient)==null?void 0:n.createGradient(e,i))??(typeof this.fill=="string"?this.fill:void 0)??"black"}applyStroke(e){var i;e.strokeStyle=((i=this.strokeGradient)==null?void 0:i.createGradient(e,this.getBBox()))??(typeof this.stroke=="string"?this.stroke:void 0)??"black"}applyFillAlpha(e){e.globalAlpha*=this.opacity*this.fillOpacity}applyShadow(e){var s;const i=((s=this.layerManager)==null?void 0:s.canvas.pixelRatio)??1,n=this.fillShadow;n!=null&&n.enabled&&(e.shadowColor=n.color,e.shadowOffsetX=n.xOffset*i,e.shadowOffsetY=n.yOffset*i,e.shadowBlur=n.blur*i)}renderStroke(e,i){if(this.stroke&&this.strokeWidth){const{globalAlpha:n}=e;this.applyStroke(e),e.globalAlpha*=this.opacity*this.strokeOpacity,e.lineWidth=this.strokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin),this.miterLimit!=null&&(e.miterLimit=this.miterLimit),this.executeStroke(e,i),e.globalAlpha=n}}executeStroke(e,i){i?e.stroke(i):e.stroke()}containsPoint(e,i){return this.isPointInPath(e,i)}applySvgFillAttributes(e){const{fill:i,fillOpacity:n}=this;e.setAttribute("fill",typeof i=="string"?i:"none"),e.setAttribute("fill-opacity",String(n))}applySvgStrokeAttributes(e){const{stroke:i,strokeOpacity:n,strokeWidth:s,lineDash:r,lineDashOffset:l}=this;if(i!=null&&(e.setAttribute("stroke",typeof i=="string"?i:"none"),e.setAttribute("stroke-opacity",String(n)),e.setAttribute("stroke-width",String(s))),(r==null?void 0:r.some(c=>c!==0))===!0){const c=r.length%2===1?[...r,...r]:r;e.setAttribute("stroke-dasharray",c.join(" ")),e.setAttribute("stroke-dashoffset",String(l))}}};qi.defaultStyles={fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0,defaultColorRange:["#5090dc","#ef5452"]};M([yt()],qi.prototype,"fillOpacity",2);M([yt()],qi.prototype,"strokeOpacity",2);M([yt({changeCb:t=>t.onFillChange()})],qi.prototype,"fill",2);M([yt({changeCb:t=>t.onStrokeChange()})],qi.prototype,"stroke",2);M([yt()],qi.prototype,"strokeWidth",2);M([yt()],qi.prototype,"lineDash",2);M([yt()],qi.prototype,"lineDashOffset",2);M([yt()],qi.prototype,"lineCap",2);M([yt()],qi.prototype,"lineJoin",2);M([yt()],qi.prototype,"miterLimit",2);M([yt({convertor:t=>Et(0,t,1)})],qi.prototype,"opacity",2);M([yt({checkDirtyOnAssignment:!0})],qi.prototype,"fillShadow",2);M([yt({changeCb:t=>t.onFillChange()})],qi.prototype,"gradientFillOptions",2);var Xn=qi,PT=[1,0,0,1,0,0],gs=class ff{get e(){return[...this.elements]}constructor(e=PT){this.elements=[...e]}setElements(e){const i=this.elements;return i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i[4]=e[4],i[5]=e[5],this}get identity(){const e=this.elements;return cs(e[0],1)&&cs(e[1],0)&&cs(e[2],0)&&cs(e[3],1)&&cs(e[4],0)&&cs(e[5],0)}AxB(e,i,n){const s=e[0]*i[0]+e[2]*i[1],r=e[1]*i[0]+e[3]*i[1],l=e[0]*i[2]+e[2]*i[3],c=e[1]*i[2]+e[3]*i[3],h=e[0]*i[4]+e[2]*i[5]+e[4],d=e[1]*i[4]+e[3]*i[5]+e[5];n=n??e,n[0]=s,n[1]=r,n[2]=l,n[3]=c,n[4]=h,n[5]=d}multiplySelf(e){return this.AxB(this.elements,e.elements),this}multiply(e){const i=new Array(6);return e instanceof ff?this.AxB(this.elements,e.elements,i):this.AxB(this.elements,[e.a,e.b,e.c,e.d,e.e,e.f],i),new ff(i)}preMultiplySelf(e){return this.AxB(e.elements,this.elements,this.elements),this}inverse(){const e=this.elements;let i=e[0],n=e[1],s=e[2],r=e[3];const l=e[4],c=e[5],h=1/(i*r-n*s);return i*=h,n*=h,s*=h,r*=h,new ff([r,-n,-s,i,s*c-r*l,n*l-i*c])}invertSelf(){const e=this.elements;let i=e[0],n=e[1],s=e[2],r=e[3];const l=e[4],c=e[5],h=1/(i*r-n*s);return i*=h,n*=h,s*=h,r*=h,e[0]=r,e[1]=-n,e[2]=-s,e[3]=i,e[4]=s*c-r*l,e[5]=n*l-i*c,this}transformPoint(e,i){const n=this.elements;return{x:e*n[0]+i*n[2]+n[4],y:e*n[1]+i*n[3]+n[5]}}transformBBox(e,i){const n=this.elements,s=n[0],r=n[1],l=n[2],c=n[3],h=e.width*.5,d=e.height*.5,p=e.x+h,g=e.y+d,m=Math.abs(h*s)+Math.abs(d*l),b=Math.abs(h*r)+Math.abs(d*c);return i??(i=new bt(0,0,0,0)),i.x=p*s+g*l+n[4]-m,i.y=p*r+g*c+n[5]-b,i.width=m+m,i.height=b+b,i}toContext(e){if(this.identity)return;const i=this.elements;e.transform(i[0],i[1],i[2],i[3],i[4],i[5])}static updateTransformMatrix(e,i,n,s,r,l,c){const h=i,d=n;let p,g;h===1&&d===1?(p=0,g=0):(p=(c==null?void 0:c.scalingCenterX)??0,g=(c==null?void 0:c.scalingCenterY)??0);const m=s,b=Math.cos(m),v=Math.sin(m);let S,A;m===0?(S=0,A=0):(S=(c==null?void 0:c.rotationCenterX)??0,A=(c==null?void 0:c.rotationCenterY)??0);const D=r,L=l,C=p*(1-h)-S,N=g*(1-d)-A;return e.setElements([b*h,v*h,-v*d,b*d,b*C-v*N+S+D,v*C+b*N+A+L]),e}};function ir(t){return FT(t.constructor)}var BT=Symbol("isMatrixTransform");function FT(t){return t[BT]===!0}function $0(t){var e,i;const n=t;if(FT(t))return t;const s=Symbol("matrix_combined_transform");class r extends n{constructor(){super(...arguments),this[i]=new gs,this._dirtyTransform=!0}markDirtyTransform(){this._dirtyTransform=!0,super.markDirty()}updateMatrix(c){}computeTransformMatrix(){this._dirtyTransform&&(this[s].setElements(PT),this.updateMatrix(this[s]),this._dirtyTransform=!1)}toParent(c){return this.computeTransformMatrix(),this[s].identity?c.clone():this[s].transformBBox(c)}toParentPoint(c,h){return this.computeTransformMatrix(),this[s].identity?{x:c,y:h}:this[s].transformPoint(c,h)}fromParent(c){return this.computeTransformMatrix(),this[s].identity?c.clone():this[s].inverse().transformBBox(c)}fromParentPoint(c,h){return this.computeTransformMatrix(),this[s].identity?{x:c,y:h}:this[s].inverse().transformPoint(c,h)}computeBBox(){const c=super.computeBBox();return c&&this.toParent(c)}computeBBoxWithoutTransforms(){return super.computeBBox()}pickNode(c,h,d=!1){return d||({x:c,y:h}=this.fromParentPoint(c,h)),super.pickNode(c,h)}render(c){this.computeTransformMatrix();const{ctx:h}=c,d=this[s];let p=!1;d.identity||(h.save(),p=!0,d.toContext(h)),super.render(c),p&&h.restore()}toSVG(){this.computeTransformMatrix();const c=super.toSVG(),h=this[s];if(h.identity||c==null)return c;const d=Kn("g");d.append(...c.elements);const[p,g,m,b,v,S]=h.e;return d.setAttribute("transform",`matrix(${p} ${g} ${m} ${b} ${v} ${S})`),{elements:[d],defs:c.defs}}}return e=BT,i=s,r[e]=!0,r}function Hl(t){var e;const i=t,n=Symbol("matrix_rotation");class s extends $0(i){constructor(){super(...arguments),this[e]=new gs,this.rotationCenterX=null,this.rotationCenterY=null,this.rotation=0}updateMatrix(l){super.updateMatrix(l);const{rotation:c,rotationCenterX:h,rotationCenterY:d}=this;c!==0&&(gs.updateTransformMatrix(this[n],1,1,c,0,0,{rotationCenterX:h,rotationCenterY:d}),l.multiplySelf(this[n]))}}return e=n,M([yt({type:"transform"})],s.prototype,"rotationCenterX",2),M([yt({type:"transform"})],s.prototype,"rotationCenterY",2),M([yt({type:"transform"})],s.prototype,"rotation",2),s}function q0(t){var e;const i=t,n=Symbol("matrix_scale");class s extends $0(i){constructor(){super(...arguments),this[e]=new gs,this.scalingX=1,this.scalingY=1,this.scalingCenterX=null,this.scalingCenterY=null}updateMatrix(l){super.updateMatrix(l);const{scalingX:c,scalingY:h,scalingCenterX:d,scalingCenterY:p}=this;c===1&&h===1||(gs.updateTransformMatrix(this[n],c,h,0,0,0,{scalingCenterX:d,scalingCenterY:p}),l.multiplySelf(this[n]))}}return e=n,M([yt({type:"transform"})],s.prototype,"scalingX",2),M([yt({type:"transform"})],s.prototype,"scalingY",2),M([yt({type:"transform"})],s.prototype,"scalingCenterX",2),M([yt({type:"transform"})],s.prototype,"scalingCenterY",2),s}function Io(t){var e;const i=t,n=Symbol("matrix_translation");class s extends $0(i){constructor(){super(...arguments),this[e]=new gs,this.translationX=0,this.translationY=0}updateMatrix(l){super.updateMatrix(l);const{translationX:c,translationY:h}=this;c===0&&h===0||(gs.updateTransformMatrix(this[n],1,1,0,c,h),l.multiplySelf(this[n]))}}return e=n,M([yt({type:"transform"})],s.prototype,"translationX",2),M([yt({type:"transform"})],s.prototype,"translationY",2),s}var ke=class{static fromCanvas(t,e){const i=[];for(const n of t.traverseUp())ir(n)&&i.unshift(n);for(const n of i)e=n.fromParent(e);return ir(t)&&(e=t.fromParent(e)),e}static toCanvas(t,e){e==null?e=t.getBBox():ir(t)&&(e=t.toParent(e));for(const i of t.traverseUp())ir(i)&&(e=i.toParent(e));return e}static fromCanvasPoint(t,e,i){const n=[];for(const s of t.traverseUp())ir(s)&&n.unshift(s);for(const s of n)({x:e,y:i}=s.fromParentPoint(e,i));return ir(t)&&({x:e,y:i}=t.fromParentPoint(e,i)),{x:e,y:i}}static toCanvasPoint(t,e,i){ir(t)&&({x:e,y:i}=t.toParentPoint(e,i));for(const n of t.traverseUp())ir(n)&&({x:e,y:i}=n.toParentPoint(e,i));return{x:e,y:i}}},yy=(t,e)=>Math.sign(t-e);function GT(t,e){if(typeof t=="number"&&typeof e=="number")return yy(t,e);const i=typeof t=="number"?[t]:t,n=typeof e=="number"?[e]:e,s=Math.min(i.length,n.length);for(let r=0;r<s;r+=1){const l=yy(i[r],n[r]);if(l!==0)return l}return yy(i.length,n.length)}var du,Q0=class bu extends yr{constructor(e){super(e),this.opacity=1,this.renderToOffscreenCanvas=!1,this.optimizeForInfrequentRedraws=!1,this.layer=void 0,this.image=void 0,this._lastWidth=NaN,this._lastHeight=NaN,this._lastDevicePixelRatio=NaN,this.isContainerNode=!0,this.renderToOffscreenCanvas=(e==null?void 0:e.renderToOffscreenCanvas)===!0}static is(e){return e instanceof bu}static computeChildrenBBox(e,i=!0){return bt.merge(yr.extractBBoxes(e,i))}static compareChildren(e,i){return GT(e.zIndex,i.zIndex)||e.serialNumber-i.serialNumber}containsPoint(e,i){return!0}computeBBox(){return bu.computeChildrenBBox(this.children())}computeSafeClippingBBox(e){const i=this.computeBBox();if(!i.isFinite())return;let n=0;const s=4;for(const m of this.descendants())m instanceof Xn&&(n=Math.max(n,m.strokeWidth));const r=Math.max(1,n/2*s),{x:l,y:c}=ke.toCanvasPoint(this,0,0),h=eA(e,l+i.x-r)-l,d=eA(e,c+i.y-r)-c,p=Math.ceil(i.x+i.width-h+r),g=Math.ceil(i.y+i.height-d+r);return new bt(h,d,p,g)}prepareSharedCanvas(e,i,n){return du==null||du.pixelRatio!==n?du=new OT({width:e,height:i,pixelRatio:n}):du.resize(e,i,n),du}isDirty(e){const{width:i,height:n,devicePixelRatio:s}=e,{dirty:r,dirtyZIndex:l,layer:c}=this,h=c!=null&&(this._lastWidth!==i||this._lastHeight!==n),d=this._lastDevicePixelRatio!==s;if(this._lastWidth=i,this._lastHeight=n,this._lastDevicePixelRatio=s,r||l||h||d)return!0;for(const p of this.children())if(p.dirty)return!0;return!1}preRender(e){var n,s;const i=super.preRender(e,0);return i.groups+=1,i.nonGroups-=1,this.renderToOffscreenCanvas&&!this.optimizeForInfrequentRedraws&&i.nonGroups>0&&this.getVisibility()?this.layer??(this.layer=(n=this._layerManager)==null?void 0:n.addLayer({name:this.name})):this.layer!=null&&((s=this._layerManager)==null||s.removeLayer(this.layer),this.layer=void 0),i}render(e){const{layer:i,renderToOffscreenCanvas:n}=this,s={...e};if(!n){this.renderInContext(s),super.render(s);return}const{ctx:r,stats:l,devicePixelRatio:c}=e;let{image:h}=this;if(this.isDirty(e)){h==null||h.bitmap.close(),h=void 0;const p=i?void 0:this.computeSafeClippingBBox(c),g=(m,...b)=>{var S;const v=m.context;s.ctx=v,m.clear(),v.save(),v.setTransform(...b),v.globalAlpha=1,this.renderInContext(s),v.restore(),(S=v.verifyDepthZero)==null||S.call(v)};if(i)g(i,r.getTransform());else if(p){const{x:m,y:b,width:v,height:S}=p,A=this.prepareSharedCanvas(v,S,c);g(A,c,0,0,c,-m*c,-b*c),h={bitmap:A.transferToImageBitmap(),x:m,y:b,width:v,height:S}}else this.dirtyZIndex&&this.sortChildren(bu.compareChildren);this.image=h,l&&l.layersRendered++}else this.skipRender(s),l&&l.layersSkipped++;const{globalAlpha:d}=r;if(r.globalAlpha=d*this.opacity,i)r.save(),r.resetTransform(),i.drawImage(r),r.restore();else if(h){const{bitmap:p,x:g,y:m,width:b,height:v}=h;r.drawImage(p,0,0,b*c,v*c,g,m,b,v)}r.globalAlpha=d,super.render(s)}skipRender(e){const{stats:i}=e;for(const n of this.children())n.markClean(),i&&(i.nodesSkipped+=this.childNodeCounts.groups+this.childNodeCounts.nonGroups,i.opsSkipped+=this.childNodeCounts.complexity)}applyClip(e,i){const{x:n,y:s,width:r,height:l}=i;e.beginPath(),e.rect(n,s,r,l),e.clip()}renderInContext(e){const{ctx:i,stats:n}=e;this.dirtyZIndex&&this.sortChildren(bu.compareChildren),i.save(),i.globalAlpha*=this.opacity,this.clipRect!=null&&(this.applyClip(i,this.clipRect),e.clipBBox=ke.toCanvas(this,this.clipRect));for(const s of this.children()){if(!s.visible){s.markClean(),n&&(n.nodesSkipped+=s.childNodeCounts.nonGroups+s.childNodeCounts.groups,n.opsSkipped+=s.childNodeCounts.complexity);continue}i.save(),s.render(e),i.restore()}i.restore()}setClipRect(e){this.clipRect=e?ke.fromCanvas(this,e):void 0}setClipRectCanvasSpace(e){this.clipRect=e}_setLayerManager(e){var i;this.layer&&((i=this._layerManager)==null||i.removeLayer(this.layer),this.layer=void 0),super._setLayerManager(e)}getVisibility(){for(const e of this.traverseUp(!0))if(!e.visible)return!1;return!0}toSVG(){if(!this.visible)return;const e=[],i=[];for(const n of this.children()){const s=n.toSVG();s!=null&&(i.push(...s.elements),s.defs!=null&&e.push(...s.defs))}return{elements:i,defs:e}}};Q0.className="Group";M([yt({convertor:t=>Et(0,t,1)})],Q0.prototype,"opacity",2);var Tt=Q0,zR=class extends q0(Tt){},PR=class extends Hl(Tt){},Xi=class extends Io(Tt){},fu=class extends Hl(Io(Tt)){};function BR(t=0,e=0){return new OffscreenCanvas(t,e).getContext("2d")}var J0=class{constructor(t=5){this.maxCacheSize=t,this.store=new Map}get(t){if(!this.store.has(t))return;const e=this.store.get(t);return this.store.delete(t),this.store.set(t,e),e}has(t){return this.store.has(t)}set(t,e){if(this.store.set(t,e),this.store.size>this.maxCacheSize){const i=this.store.keys();let n=this.store.size-this.maxCacheSize;for(;n>0;){const s=i.next();s.done||this.store.delete(s.value),n--}}return e}clear(){this.store.clear()}},Da=class{static measureText(t,e){return this.getMeasurer(e).measureText(t)}static measureLines(t,e){return this.getMeasurer(e).measureLines(t)}static getMeasurer(t){const e=typeof t.font=="string"?t.font:Ae.toFontString(t.font),i=`${e}-${t.textAlign??"start"}-${t.textBaseline??"alphabetic"}`;return this.instanceMap.get(i)??this.createFontMeasurer(e,t,i)}static createFontMeasurer(t,e,i){const n=BR();n.font=t,n.textAlign=e.textAlign??"start",n.textBaseline=e.textBaseline??"alphabetic";const s=new UT(n,e);return this.instanceMap.set(i,s),s}};Da.instanceMap=new J0(10);var UT=class{constructor(t,e){this.ctx=t,this.measureMap=new J0(100),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline),t.font=typeof e.font=="string"?e.font:Ae.toFontString(e.font),this.textMeasurer=new tb(i=>this.cachedCtxMeasureText(i),e.textBaseline??"alphabetic")}textWidth(t,e){return this.textMeasurer.textWidth(t,e)}measureText(t){return this.textMeasurer.measureText(t)}measureLines(t){return this.textMeasurer.measureLines(t)}cachedCtxMeasureText(t){if(!this.measureMap.has(t)){const e=this.ctx.measureText(t);this.measureMap.set(t,{actualBoundingBoxAscent:e.actualBoundingBoxAscent,emHeightAscent:e.emHeightAscent,emHeightDescent:e.emHeightDescent,actualBoundingBoxDescent:e.actualBoundingBoxDescent,actualBoundingBoxLeft:e.actualBoundingBoxLeft,actualBoundingBoxRight:e.actualBoundingBoxRight,alphabeticBaseline:e.alphabeticBaseline,fontBoundingBoxAscent:e.fontBoundingBoxAscent,fontBoundingBoxDescent:e.fontBoundingBoxDescent,hangingBaseline:e.hangingBaseline,ideographicBaseline:e.ideographicBaseline,width:e.width})}return this.measureMap.get(t)}},Ae=class{static toFontString({fontSize:t=10,fontStyle:e,fontWeight:i,fontFamily:n,lineHeight:s}){let r="";return e&&(r+=`${e} `),i&&(r+=`${i} `),r+=`${t}px`,s&&(r+=`/${s}px`),r+=` ${n}`,r.trim()}static getLineHeight(t){return Math.ceil(t*this.defaultLineHeight)}static getVerticalModifier(t){switch(t){case"hanging":case"top":return 0;case"middle":return .5;case"alphabetic":case"bottom":case"ideographic":default:return 1}}};Ae.EllipsisChar="";Ae.defaultLineHeight=1.15;Ae.lineSplitter=/\r?\n/g;var tb=class{constructor(t,e="alphabetic"){this.measureTextFn=t,this.textBaseline=e,this.charMap=new Map}getMetrics(t){const e=this.measureTextFn(t);return e.fontBoundingBoxAscent??(e.fontBoundingBoxAscent=e.emHeightAscent),e.fontBoundingBoxDescent??(e.fontBoundingBoxDescent=e.emHeightDescent),{width:e.width,height:e.actualBoundingBoxAscent+e.actualBoundingBoxDescent,lineHeight:e.fontBoundingBoxAscent+e.fontBoundingBoxDescent,offsetTop:e.actualBoundingBoxAscent,offsetLeft:e.actualBoundingBoxLeft}}getMultilineMetrics(t){let e=0,i=0,n=0,s=0,r=0;const l=Ae.getVerticalModifier(this.textBaseline),c=[];let h=0;const d=t.length;for(const p of t){const g=this.measureTextFn(p);g.fontBoundingBoxAscent??(g.fontBoundingBoxAscent=g.emHeightAscent),g.fontBoundingBoxDescent??(g.fontBoundingBoxDescent=g.emHeightDescent),e<g.width&&(e=g.width),s<g.actualBoundingBoxLeft&&(s=g.actualBoundingBoxLeft),h===0?(i+=g.actualBoundingBoxAscent,n+=g.actualBoundingBoxAscent):r+=g.fontBoundingBoxAscent,h===d-1?i+=g.actualBoundingBoxDescent:r+=g.fontBoundingBoxDescent,c.push({text:p,width:g.width,height:g.actualBoundingBoxAscent+g.actualBoundingBoxDescent,lineHeight:g.fontBoundingBoxAscent+g.fontBoundingBoxDescent,offsetTop:g.actualBoundingBoxAscent,offsetLeft:g.actualBoundingBoxLeft}),h++}return i+=r,n+=r*l,{width:e,height:i,offsetTop:n,offsetLeft:s,lineMetrics:c}}textWidth(t,e){if(e){let i=0;for(let n=0;n<t.length;n++)i+=this.textWidth(t.charAt(n));return i}return t.length>1?this.measureTextFn(t).width:this.charMap.get(t)??this.charWidth(t)}measureText(t){return this.getMetrics(t)}measureLines(t){const e=typeof t=="string"?t.split(Ae.lineSplitter):t;return this.getMultilineMetrics(e)}charWidth(t){const{width:e}=this.measureTextFn(t);return this.charMap.set(t,e),e}},Dn=class pf extends Xn{constructor(){super(...arguments),this.x=0,this.y=0,this.lines=[],this.text=void 0,this.fontSize=10,this.fontFamily="sans-serif",this.textAlign=pf.defaultStyles.textAlign,this.textBaseline=pf.defaultStyles.textBaseline}onTextChange(){var e;this.lines=((e=this.text)==null?void 0:e.split(`
`).map(i=>i.trim()))??[]}static computeBBox(e,i,n,s){const{offsetTop:r,offsetLeft:l,width:c,height:h}=Da.measureLines(e,s);return new bt(i-l,n-r,c,h)}computeBBox(){const{x:e,y:i,lines:n,textBaseline:s,textAlign:r}=this;return pf.computeBBox(n,e,i,{font:this,textBaseline:s,textAlign:r})}isPointInPath(e,i){const n=this.getBBox();return n?n.containsPoint(e,i):!1}render(e){const{ctx:i,stats:n}=e;if(!this.lines.length||!this.layerManager)return n&&(n.nodesSkipped+=1),super.render(e);const{fill:s,stroke:r,strokeWidth:l}=this,{pixelRatio:c}=this.layerManager.canvas;if(i.font=Ae.toFontString(this),i.textAlign=this.textAlign,i.textBaseline=this.textBaseline,s){this.applyFill(i),i.globalAlpha*=this.opacity*this.fillOpacity;const{fillShadow:h}=this;h!=null&&h.enabled&&(i.shadowColor=h.color,i.shadowOffsetX=h.xOffset*c,i.shadowOffsetY=h.yOffset*c,i.shadowBlur=h.blur*c),this.renderLines((d,p,g)=>i.fillText(d,p,g))}if(r&&l){this.applyStroke(i),i.lineWidth=l,i.globalAlpha*=this.opacity*this.strokeOpacity;const{lineDash:h,lineDashOffset:d,lineCap:p,lineJoin:g}=this;h&&i.setLineDash(h),d&&(i.lineDashOffset=d),p&&(i.lineCap=p),g&&(i.lineJoin=g),this.renderLines((m,b,v)=>i.strokeText(m,b,v))}super.render(e)}renderLines(e){const{lines:i,x:n,y:s}=this,r=this.lineHeight??Ae.getLineHeight(this.fontSize);let l=(r-r*i.length)*Ae.getVerticalModifier(this.textBaseline);for(const c of i)e(c,n,s+l),l+=r}setFont(e){this.fontFamily=e.fontFamily,this.fontSize=e.fontSize,this.fontStyle=e.fontStyle,this.fontWeight=e.fontWeight}setAlign(e){this.textAlign=e.textAlign,this.textBaseline=e.textBaseline}toSVG(){var i;if(!this.visible||!this.text)return;const e=Kn("text");return this.applySvgFillAttributes(e),e.setAttribute("font-family",((i=this.fontFamily)==null?void 0:i.split(",")[0])??""),e.setAttribute("font-size",String(this.fontSize)),e.setAttribute("font-style",this.fontStyle??""),e.setAttribute("font-weight",String(this.fontWeight??"")),e.setAttribute("text-anchor",{center:"middle",left:"start",right:"end",start:"start",end:"end"}[this.textAlign??"start"]),e.setAttribute("alignment-baseline",{alphabetic:"alphabetic",top:"top",bottom:"bottom",hanging:"hanging",middle:"middle",ideographic:"ideographic"}[this.textBaseline??"alphabetic"]),e.setAttribute("x",String(this.x)),e.setAttribute("y",String(this.y)),e.textContent=this.text??"",{elements:[e]}}};Dn.className="Text";Dn.defaultStyles={...Xn.defaultStyles,textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"};M([yt()],Dn.prototype,"x",2);M([yt()],Dn.prototype,"y",2);M([yt({changeCb:t=>t.onTextChange()})],Dn.prototype,"text",2);M([yt()],Dn.prototype,"fontStyle",2);M([yt()],Dn.prototype,"fontWeight",2);M([yt()],Dn.prototype,"fontSize",2);M([yt()],Dn.prototype,"fontFamily",2);M([yt()],Dn.prototype,"textAlign",2);M([yt()],Dn.prototype,"textBaseline",2);M([yt()],Dn.prototype,"lineHeight",2);var si=Dn,YT=class extends Hl(si){},Pl=class extends Hl(Io(si)){},by="color: green",xy="color: grey";function FR(){return nT(()=>{})}function i0(t,e){const i=yo(e);if(i.length===0)return;const n=sT(t);for(const s of i)s in n&&(e[s]=n[s])}var VT=class{transitionRoot(t,e){this.parent?this.parent.transitionRoot(t,e):this.transition(t,e)}},eb=class sn extends VT{constructor(e,i,n){super(),this.defaultState=e,this.states=i,this.enterEach=n,this.debug=ce.create(!0,"animation"),this.state=e,this.debug(`%c${this.constructor.name} | init -> ${e}`,by)}transition(e,i){var p,g,m,b;if(!this.transitionChild(e,i)||this.state===sn.child||this.state===sn.parent)return;const s=this.state,r=this.states[this.state];let l=r[e];const c=`%c${this.constructor.name} | ${this.state} -> ${e} ->`;if(Array.isArray(l))l=l.find(v=>{if(!v.guard)return!0;const S=v.guard(i);return S||this.debug(`${c} (guarded)`,v.target,xy),S});else if(typeof l=="object"&&!(l instanceof sn)&&l.guard&&!l.guard(i)){this.debug(`${c} (guarded)`,l.target,xy);return}if(!l){this.debug(`${c} ${this.state}`,xy);return}const h=this.getDestinationState(l),d=h===this.state?void 0:r.onExit;this.debug(`${c} ${h}`,by),this.state=h,typeof l=="function"?l(i):typeof l=="object"&&!(l instanceof sn)&&((p=l.action)==null||p.call(l,i)),d==null||d(),(g=this.enterEach)==null||g.call(this,s,h),h!==s&&h!==sn.child&&h!==sn.parent&&((b=(m=this.states[h]).onEnter)==null||b.call(m,s,i))}transitionAsync(e,i){setTimeout(()=>{this.transition(e,i)},0)}is(e){return this.state===sn.child&&this.childState?this.childState.is(e):this.state===e}resetHierarchy(){this.debug(`%c${this.constructor.name} | ${this.state} -> [resetHierarchy] -> ${this.defaultState}`,"color: green"),this.state=this.defaultState}transitionChild(e,i){var n,s;return this.state!==sn.child||!this.childState||(i0(this,this.childState),this.childState.transition(e,i),!this.childState.is(sn.parent))?!0:(this.debug(`%c${this.constructor.name} | ${this.state} -> ${e} -> ${this.defaultState}`,by),this.state=this.defaultState,(s=(n=this.states[this.state]).onEnter)==null||s.call(n),this.childState.resetHierarchy(),!1)}getDestinationState(e){let i=this.state;return typeof e=="string"?i=e:e instanceof sn?(this.childState=e,this.childState.parent=this,i=sn.child):typeof e=="object"&&(e.target instanceof sn?(this.childState=e.target,this.childState.parent=this,i=sn.child):e.target!=null&&(i=e.target)),i}};eb.child="__child";eb.parent="__parent";var dh=eb,GR=class extends VT{constructor(...t){super(),this.stateMachines=t;for(const e of t)e.parent=this}transition(t,e){for(const i of this.stateMachines)i0(this,i),i.transition(t,e)}transitionAsync(t,e){for(const i of this.stateMachines)i0(this,i),i.transitionAsync(t,e)}};function xe(t,e){const i=ge(t)?t:t.split(".");if(i.length===1){const[n]=i;return ma((s,r,l)=>s[n]=l,s=>s[n],e)}return ma((n,s,r)=>F0(n,i,r),n=>P0(n,i),e)}function UR(t){return ma((e,i,n)=>e[t]=n)}function mi(t,e){return ma((i,n,s)=>i[t][e??n]=s)}function ln(t){const{newValue:e,oldValue:i,changeValue:n}=t;return ma((s,r,l,c)=>(l!==c&&(c!==void 0&&(i==null||i.call(s,c)),l!==void 0&&(e==null||e.call(s,l)),n==null||n.call(s,l,c)),l))}function vr(t){return nT(t)}var ib=class{static wrapText(t,e){return this.wrapLines(t,e).join(`
`)}static wrapLines(t,e){const i=this.textWrap(t,e);return e.overflow==="hide"&&i.some(n=>n.endsWith(Ae.EllipsisChar))?[]:i}static appendEllipsis(t){return t.replace(/[.,]{1,5}$/,"")+Ae.EllipsisChar}static truncateLine(t,e,i,n){const s=e.textWidth(Ae.EllipsisChar);let r=0,l=0;for(;l<t.length;l++){const c=e.textWidth(t.charAt(l));if(r+c>i)break;r+=c}if(t.length===l&&(!n||r+s<=i))return n?t+Ae.EllipsisChar:t;for(t=t.slice(0,l).trimEnd();t.length&&e.textWidth(t)+s>i;)t=t.slice(0,-1).trimEnd();return t+Ae.EllipsisChar}static textWrap(t,e){const i=t.split(Ae.lineSplitter),n=Da.getMeasurer(e);if(e.textWrap==="never")return i.map(c=>this.truncateLine(c.trimEnd(),n,e.maxWidth));const s=[],r=e.textWrap==="hyphenate",l=e.textWrap==null||e.textWrap==="on-space";for(const c of i){let h=c.trimEnd();if(h===""){s.push(h);continue}let d=0,p=0,g=0;for(;d<h.length;){const m=h.charAt(d);if(p+=n.textWidth(m),m===" "&&(g=d),p>e.maxWidth){if(d===0)break;const b=n.textWidth(h.slice(0,d+1));if(b<=e.maxWidth){p=b,d++;continue}if(g){const A=this.getWordAt(h,g+1),D=n.textWidth(A);if(D<=e.maxWidth){s.push(h.slice(0,g).trimEnd()),h=h.slice(g).trimStart(),d=0,p=0,g=0;continue}else l&&D>e.maxWidth&&s.push(h.slice(0,g).trimEnd(),this.truncateLine(h.slice(g).trimStart(),n,e.maxWidth,!0))}else l&&s.push(this.truncateLine(h,n,e.maxWidth,!0));if(l){h="";break}const v=r?"-":"";let S=h.slice(0,d).trim();for(;S.length&&n.textWidth(S+v)>e.maxWidth;)S=S.slice(0,-1).trimEnd();if(s.push(S+v),!S.length){h="";break}h=h.slice(S.length).trimStart(),d=-1,p=0,g=0}d++}h&&s.push(h)}return this.avoidOrphans(s,n,e),this.clipLines(s,n,e)}static getWordAt(t,e){const i=t.indexOf(" ",e);return i===-1?t.slice(e):t.slice(e,i)}static clipLines(t,e,i){if(!i.maxHeight)return t;const{height:n,lineMetrics:s}=e.measureLines(t);if(n<=i.maxHeight)return t;for(let r=0,l=0;r<s.length;r++){const{lineHeight:c}=s[r];if(l+=c,l>i.maxHeight){if(i.overflow==="hide")return[];const h=t.slice(0,r||1),d=h.pop();return h.concat(this.truncateLine(d,e,i.maxWidth,!0))}}return t}static avoidOrphans(t,e,i){if(i.avoidOrphans===!1||t.length<2)return;const{length:n}=t,s=t[n-1],r=t[n-2];if(r.length<s.length)return;const l=r.lastIndexOf(" ");if(l===-1||l===r.indexOf(" ")||s.includes(" "))return;const c=r.slice(l+1);e.textWidth(s+c)<=i.maxWidth&&(t[n-2]=r.slice(0,l),t[n-1]=c+" "+s)}},le=class extends Ct{constructor(){super(...arguments),this.id=qn(this),this.node=new YT({zIndex:1}).setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.padding=0,this.layoutStyle="block",this.truncated=!1}registerInteraction(t,e){return t.layoutManager.addListener("layout:complete",()=>this.updateA11yText(t,e))}computeTextWrap(t,e){const{text:i,padding:n,wrapping:s}=this,r=Math.min(this.maxWidth??1/0,t)-n*2,l=this.maxHeight??e-n*2;if(!isFinite(r)&&!isFinite(l)){this.node.text=i;return}const c=ib.wrapText(i??"",{maxWidth:r,maxHeight:l,font:this,textWrap:s});this.node.text=c,this.truncated=c.includes(Ae.EllipsisChar)}updateA11yText(t,e){var n;const{proxyInteractionService:i}=t;if(this.enabled&&this.text){const s=ke.toCanvas(this.node);if(s){const{id:r}=this;this.proxyText??(this.proxyText=i.createProxyElement({type:"text",domManagerId:r,where:e})),this.proxyText.textContent=this.text,this.proxyText.setBounds(s),this.proxyText.addListener("mousemove",l=>this.handleMouseMove(t,l)),this.proxyText.addListener("mouseleave",l=>this.handleMouseLeave(t,l))}}else(n=this.proxyText)==null||n.destroy(),this.proxyText=void 0}handleMouseMove(t,e){if(e!=null&&this.enabled&&this.node.visible&&this.truncated){const{x:i,y:n}=ke.toCanvas(this.node),s=e.sourceEvent.offsetX+i,r=e.sourceEvent.offsetY+n,l={type:"pointermove",canvasX:s,canvasY:r};t.tooltipManager.updateTooltip(this.id,{canvasX:s,canvasY:r,lastPointerEvent:l,showArrow:!1},{type:"structured",title:this.text})}}handleMouseLeave(t,e){t.tooltipManager.removeTooltip(this.id)}};le.SMALL_PADDING=10;le.LARGE_PADDING=20;M([T(At),mi("node","visible")],le.prototype,"enabled",2);M([T(rt,{optional:!0}),mi("node")],le.prototype,"text",2);M([T(TT,{optional:!0}),mi("node")],le.prototype,"textAlign",2);M([T(Ma,{optional:!0}),mi("node")],le.prototype,"fontStyle",2);M([T(Sa,{optional:!0}),mi("node")],le.prototype,"fontWeight",2);M([T(ft),mi("node")],le.prototype,"fontSize",2);M([T(rt),mi("node")],le.prototype,"fontFamily",2);M([T($t,{optional:!0}),mi("node","fill")],le.prototype,"color",2);M([T(ft,{optional:!0})],le.prototype,"spacing",2);M([T(ft,{optional:!0})],le.prototype,"maxWidth",2);M([T(ft,{optional:!0})],le.prototype,"maxHeight",2);M([T(dp)],le.prototype,"wrapping",2);M([T(ft)],le.prototype,"padding",2);M([T(rt)],le.prototype,"layoutStyle",2);var nb=(t=>(t.X="x",t.Y="y",t))(nb||{}),sb=class{constructor(){this.moduleMap=new Map}*modules(){for(const t of this.moduleMap.values())yield t.moduleInstance}addModule(t,e){if(this.moduleMap.has(t.optionsKey))throw new Error(`AG Charts - module already initialised: ${t.optionsKey}`);this.moduleMap.set(t.optionsKey,{module:t,moduleInstance:e(t)})}removeModule(t){var i;const e=rn(t)?t:t.optionsKey;(i=this.moduleMap.get(e))==null||i.moduleInstance.destroy(),this.moduleMap.delete(e)}getModule(t){var e;return(e=this.moduleMap.get(rn(t)?t:t.optionsKey))==null?void 0:e.moduleInstance}isEnabled(t){return this.moduleMap.has(rn(t)?t:t.optionsKey)}mapModules(t){return Array.from(this.moduleMap.values(),(e,i)=>t(e.moduleInstance,i))}destroy(){var t;for(const e of this.moduleMap.keys())(t=this.moduleMap.get(e))==null||t.moduleInstance.destroy();this.moduleMap.clear()}};function HT(t,e){return t.valueOf()-e.valueOf()}function YR(t){let e=NaN;const i=[];for(const n of t){const s=n.valueOf();e!==s&&i.push(n),e=s}return i}function n0(t){const e=t.slice().sort(HT);return ab(e)==null?YR(e):e}function ab(t){if(t.length===0)return 1;const e=Number(t[t.length-1])>Number(t[0])?1:-1;let i=-1/0*e;for(const n of t){const s=n.valueOf();if(Math.sign(s-i)!==e)return;i=s}return e}function WT(t){let e,i;const n=HR.exec(t);n&&([,e,t,i]=n);const s=VR.exec(t);if(!s)throw new Error(`The number formatter is invalid: ${t}`);const[,r,l,c,h,d,p,g,m,b,v]=s;return{fill:r,align:l,sign:c,symbol:h,zero:d,width:parseInt(p),comma:g,precision:parseInt(m),trim:!!b,type:v,prefix:e,suffix:i}}function KT(t){const e=typeof t=="string"?WT(t):t,{fill:i,align:n,sign:s="-",symbol:r,zero:l,width:c,comma:h,type:d,prefix:p="",suffix:g="",precision:m}=e;let{trim:b}=e;const v=m==null||isNaN(m);let S;if(!d)S=Yn.g,b=!0;else if(d in Yn&&d in Il)S=v?Il[d]:Yn[d];else if(d in Yn)S=Yn[d];else if(d in Il)S=Il[d];else throw new Error(`The number formatter type is invalid: ${d}`);let A;return m==null||v?A=d?6:12:A=m,D=>{let L=S(D,A);return b&&(L=ZR(L)),h&&(L=XR(L,h)),L=qR(D,L,s),r&&r!=="#"&&(L=`${r}${L}`),r==="#"&&d==="x"&&(L=`0x${L}`),d==="s"&&(L=`${L}${$R(D)}`),(d==="%"||d==="p")&&(L=`${L}%`),c!=null&&!isNaN(c)&&(L=QR(L,c,i??l,n)),L=`${p}${L}${g}`,L}}var VR=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(?:\.(\d+))?(~)?([%a-z])?$/i,HR=/^((?:[^#]|#[^{])*)#{([^}]+)}(.*)$/,Il={b:t=>qd(t).toString(2),c:t=>String.fromCharCode(t),d:t=>Math.round(Math.abs(t)).toFixed(0),o:t=>qd(t).toString(8),x:t=>qd(t).toString(16),X:t=>Il.x(t).toUpperCase(),n:t=>Il.d(t),"%":t=>`${qd(t*100).toFixed(0)}`},Yn={e:(t,e)=>Math.abs(t).toExponential(e),E:(t,e)=>Yn.e(t,e).toUpperCase(),f:(t,e)=>Math.abs(t).toFixed(e),F:(t,e)=>Yn.f(t,e).toUpperCase(),g:(t,e)=>{if(t===0)return"0";const i=Math.abs(t),n=Math.floor(Math.log10(i));return n>=-4&&n<e?i.toFixed(e-1-n):i.toExponential(e-1)},G:(t,e)=>Yn.g(t,e).toUpperCase(),n:(t,e)=>Yn.g(t,e),p:(t,e)=>Yn.r(t*100,e),r:(t,e)=>{if(t===0)return"0";const i=Math.abs(t),s=Math.floor(Math.log10(i))-(e-1);if(s<=0)return i.toFixed(-s);const r=10**s;return(Math.round(i/r)*r).toFixed()},s:(t,e)=>{const i=$T(t);return Yn.r(t/10**i,e)},"%":(t,e)=>Yn.f(t*100,e)},ZT=-24,XT=24,WR={[ZT]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[XT]:"Y"},KR="";function qd(t){return Math.floor(Math.abs(t))}function ZR(t){return t.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")}function XR(t,e){let i=t.indexOf(".");i<0&&(i=t.length);const n=t.substring(0,i).split(""),s=t.substring(i);for(let r=n.length-3;r>0;r-=3)n.splice(r,0,e);return`${n.join("")}${s}`}function $R(t){return WR[$T(t)]}function $T(t){return Et(ZT,t?Math.floor(Math.log10(Math.abs(t))/3)*3:0,XT)}function qR(t,e,i=""){if(i==="(")return t>=0?e:`(${e})`;const n=i==="+"?"+":"";return`${t>=0?n:KR}${e}`}function QR(t,e,i=" ",n=">"){let s=t;if(n===">"||!n)s=s.padStart(e,i);else if(n==="<")s=s.padEnd(e,i);else if(n==="^"){const r=Math.max(0,e-s.length),l=Math.ceil(r/2),c=Math.floor(r/2);s=s.padStart(l+s.length,i),s=s.padEnd(c+s.length,i)}return s}var Ie=(t,e,i)=>({duration:e*i,timeInterval:t,step:i}),xu=[Ie(Al,or,1),Ie(Al,or,5),Ie(Al,or,15),Ie(Al,or,30),Ie(Ll,Di,1),Ie(Ll,Di,5),Ie(Ll,Di,15),Ie(Ll,Di,30),Ie(Tl,Zi,1),Ie(Tl,Zi,3),Ie(Tl,Zi,6),Ie(Tl,Zi,12),Ie(If,Zn,1),Ie(If,Zn,2),Ie(Lu,ua,1),Ie(Lu,ua,2),Ie(Lu,ua,3),Ie(ho,uu,1),Ie(ho,uu,2),Ie(ho,uu,3),Ie(ho,uu,4),Ie(ho,uu,6),Ie(lp,zl,1)],qT=[1,2,5,10];function iA(t,e){return Math.abs(Math.round(t)-t)<e}function rb(t,e,i,n,s,r){if(i<2)return[t,e];const l=Bu(t,e,i,n,s);if(!Number.isFinite(l))return[];if(iA(t/l,1e-12)||(t=Math.ceil(t/l)*l),iA(e/l,1e-12)||(e=Math.floor(e/l)*l),r!=null&&r[0]!==0&&r[1]!==1){const c=e-t,h=t+c*r[0],d=e-c*(1-r[1]);return Fu(h-h%l,d+d%l,l)}return Fu(t,e,l)}function QT(t,e,i,n,s,r){const l=r??Math.abs(e-t)/Math.max(i,1);let c=0;for(const m of xu){if(l<=m.duration)break;c++}if(c===0){const m=Math.max(Bu(t,e,i,n,s),1);return hT.every(m)}else if(c===xu.length){const m=Bu(t/zl,e/zl,i,n,s);return lp.every(m)}const h=xu[c-1],d=xu[c],{timeInterval:p,step:g}=l-h.duration<d.duration-l?h:d;return p.every(g)}function Bu(t,e,i,n=0,s=1/0){if(t===e)return Et(1,n,s);if(i<1)return NaN;const r=Math.abs(e-t),l=10**Math.floor(Math.log10(r/i));let c=NaN,h=1/0,d=!1;for(const p of qT){const g=Math.ceil(r/(p*l)),m=g>=n&&g<=s;if(d&&!m)continue;const b=Math.abs(g-i);(h>b||d!==m)&&(d||(d=m),h=b,c=p)}return c*l}function nA(t){for(let e=t.length-1;e>=0;e-=1)if(t[e]!=="0")return e+1;return 0}function sA(t,e){const i=WT(e??",f");(i.precision==null||isNaN(i.precision))&&(!i.type||"eEFgGnprs".includes(i.type)?i.precision=Math.max(...t.map(s=>{if(!Number.isFinite(s))return 0;const[r,l]=s.toExponential((i.type?6:12)-1).split(/[.e]/g);return(r!=="1"&&r!=="-1"?1:0)+nA(l)+1})):"f%".includes(i.type)&&(i.precision=Math.max(...t.map(s=>{if(!Number.isFinite(s)||s===0)return 0;const r=Math.floor(Math.log10(Math.abs(s))),l=i.type?6:12,c=s.toExponential(l-1).split(/[.e]/g)[1],h=nA(c);return Math.max(0,h-r)}))));const n=KT(i);return s=>n(Number(s))}function Fu(t,e,i){if(!Number.isFinite(i)||i<=0)return[];const n=10**ip(i),s=Math.min(t,e),r=Math.max(t,e),l=[];for(let c=0;;c+=1){const h=Math.round((s+i*c)*n)/n;if(h>r)break;l.push(h)}return l}function Gu(t,e){return t>=e?(ot.warnOnce("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0):!1}function JR(t,e){const i=Math.abs(e-t),n=10**Math.floor(Math.log10(i));let s=1/0,r=[t,e];for(const l of qT){const c=l*n,h=Math.floor(t/c)*c,d=Math.ceil(e/c)*c,p=1-i/Math.abs(d-h);s>p&&(s=p,r=[h,d])}return r}function JT(t,e,i,n,s,r){r=Math.max(r,t/(s+1)),isNaN(i)&&(i=r),isNaN(n)&&(n=t),i>n&&(i===r?i=n:n=i);const l=Math.max(1,Math.floor(t/(e*i))),c=Math.min(l,Math.ceil(t/(e*n))),h=Et(c,Math.floor(s/e),l);return{minTickCount:c,maxTickCount:l,tickCount:h}}var tI=class extends te{constructor(){super([],[0,1]),this.type="time"}toDomain(t){return new Date(t)}convert(t,e){return t instanceof Date||(t=new Date(t)),super.convert(t,e)}invert(t){return new Date(super.invert(t))}niceDomain(t,e=this.domain){if(e.length<2)return[];const i=4;let[n,s]=e;for(let r=0;r<i;r++){const[l,c]=t2(n,s,t);if(Ei(n)===Ei(l)&&Ei(s)===Ei(c))break;n=l,s=c}return[n,s]}ticks(t,e=this.domain,i=[0,1]){const{nice:n,interval:s,tickCount:r=te.defaultTickCount,minTickCount:l,maxTickCount:c}=t;if(e.length<2)return[];const h=e.map(Ei),d=h[0],p=h[h.length-1];if(s!=null){const g=this.getPixelRange();return ob({start:d,stop:p,interval:s,availableRange:g,visibleRange:i})??aA({start:d,stop:p,tickCount:r,minTickCount:l,maxTickCount:c,visibleRange:i})}else{if(n&&r===2)return e;if(n&&r===1)return e.slice(0,1)}return aA({start:d,stop:p,tickCount:r,minTickCount:l,maxTickCount:c,visibleRange:i})}_tickFormatter({domain:t,ticks:e,specifier:i},n){return i!=null?sh(i):U0(e,t,n)}tickFormatter(t){return this._tickFormatter(t)}datumFormatter(t){return this._tickFormatter(t,1)}};function aA({start:t,stop:e,tickCount:i,minTickCount:n,maxTickCount:s,visibleRange:r}){const l=QT(t,e,i,n,s);return l?l.range(new Date(t),new Date(e),{visibleRange:r}):[]}function ob({start:t,stop:e,interval:i,availableRange:n,visibleRange:s}){if(!i)return[];if(i instanceof _l){const p=i.range(new Date(t),new Date(e),{visibleRange:s});return Gu(p.length,n)?void 0:p}const r=Math.abs(i);if(Gu(Math.abs(e-t)/r,n))return;const l=xu.findLast(p=>r%p.duration===0);if(l)return l.timeInterval.every(r/(l.duration/l.step)).range(new Date(t),new Date(e),{visibleRange:s});let c=new Date(Math.min(t,e));const h=new Date(Math.max(t,e)),d=[];for(;c<=h;)d.push(c),c=new Date(c),c.setMilliseconds(c.getMilliseconds()+r);return d}function t2(t,e,i){const{interval:n}=i,s=Math.min(Ei(t),Ei(e)),r=Math.max(Ei(t),Ei(e)),l=t>e;let c;if(n instanceof _l)c=n;else{const h=typeof n=="number"?(r-s)/Math.max(n,1):i.tickCount??te.defaultTickCount;c=QT(s,r,h,i.minTickCount,i.maxTickCount)}if(c){const h=c.range(new Date(s),new Date(r),{extend:!0}),d=l?[...h].reverse():h,p=d[0],g=d.at(-1);return[p,g]}else return[t,e]}var Es=class eI extends ah{constructor(){super(...arguments),this.type="ordinal-time",this._domain=[],this.isReversed=!1}static is(e){return e instanceof eI}set domain(e){e!==this._domain&&(this.invalid=!0,this._domain=e,this.isReversed=e.length>0&&e[0]>e[e.length-1],this.sortedTimestamps=void 0,this.precomputedSteps=void 0)}get domain(){return this._domain}toDomain(e){return new Date(e)}normalizeDomains(...e){const i=e.filter(s=>s.length>0).map(s=>{let r=ab(s);return r==null&&(s=n0(s.slice()),r=1),{domain:s,sortOrder:r}});if(i.length===0)return{domain:[],animatable:!1};if(i.length===1)return{domain:i[0].domain,animatable:!0};let n=i.flatMap(s=>s.domain);return n=n0(n),i.every(s=>s.sortOrder===-1)&&n.reverse(),{domain:n,animatable:!0}}ticks({interval:e,maxTickCount:i},n=this.domain,s=[0,1]){if(!n.length)return[];this.refresh();const{isReversed:r}=this;if(e==null)return e2(n,i,r,s);const[l,c]=[n[0].valueOf(),n.at(-1).valueOf()],h=Math.min(l,c),d=Math.max(l,c),[p,g]=this.range,m=Math.abs(g-p),b=ob({start:h,stop:d,interval:e,availableRange:m,visibleRange:s})??[];let v=-1;return b.filter(S=>{const A=this.findInterval(S.valueOf()),D=A===v;return v=A,!D})}getSortedTimestamps(){let{sortedTimestamps:e}=this;return e==null&&(e=this.domain.map(Ei),this.isReversed&&e.reverse(),this.sortedTimestamps=e),e}getPrecomputedSteps(){const{domain:e}=this;let{precomputedSteps:i}=this;const n=e.length<1e4?e.length:Math.ceil(e.length/16);if(i!=null||n<=1)return i;const s=this.getSortedTimestamps();i=new Int32Array(n);const r=s[0],c=s[s.length-1]-r,h=0,d=s.length-1;for(let p=0;p<i.length;p+=1)i[p]=this.findIntervalInRange(r+p/n*c,h,d);this.precomputedSteps=i}findIntervalInRange(e,i,n){const s=this.getSortedTimestamps();for(;i<=n;){const r=(i+n)/2|0;if(s[r]===e)return r;s[r]<e?i=r+1:n=r-1}return i}findInterval(e){const i=this.getPrecomputedSteps();let n,s;if(i==null)n=0,s=this.domain.length-1;else{const r=this.getSortedTimestamps(),l=r[0],c=r[r.length-1],h=Math.min((e-l)/(c-l)*i.length|0,i.length-1|0);n=i[h],s=h<i.length-2?i[h+1]:r.length-1}return this.findIntervalInRange(e,n,s)}tickFormatter({domain:e,ticks:i,specifier:n}){return n!=null?sh(n):U0(i,e)}datumFormatter(e){return this.tickFormatter(e)}invert(e,i=!1){this.refresh();const{domain:n}=this;if(i){const r=this.invertNearestIndex(e-this.bandwidth/2);return r!=null?n[r]:void 0}return Uw(0,n.length-1,r=>this.ordinalRange(r)>=e?n[r]:void 0)??n[0]}getIndex(e){const i=this.getSortedTimestamps(),n=Number(e);if(n<i[0])return;let s=this.findInterval(n);return this.isReversed&&(s=this.domain.length-s-1),s}};function e2(t,e,i,n){const s=[],r=Math.ceil(t.length/e),l=Math.floor(r/2),c=Math.floor(n[0]*t.length),h=Math.ceil(n[1]*t.length);for(let d=c;d<h;d+=1){const p=i?t.length-1-d:d;(r<=0||(p+l)%r===0)&&s.push(t[d])}return i&&s.reverse(),s}var Ge=class lo{constructor(e,i,n=!0){this.parentNode=e,this.autoCleanup=n,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=ce.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(yr,i)?()=>new i:i}static select(e,i,n=!0){return new lo(e,i,n)}static selectAll(e,i){const n=[],s=r=>{i(r)&&n.push(r);for(const l of r.children())s(l)};return s(e),n}static selectByClass(e,...i){return lo.selectAll(e,n=>i.some(s=>n instanceof s))}static selectByTag(e,i){return lo.selectAll(e,n=>n.tag===i)}createNode(e,i,n){const s=this.nodeFactory(e);return s.datum=e,i==null||i(s),n==null?this._nodes.push(s):this._nodes.splice(n,0,s),this.parentNode.appendChild(s),s}update(e,i,n){if(this.garbageBin.size>0&&this.debug("Selection - update() called with pending garbage",e),n){const s=new Map(e.map((r,l)=>[n(r),[r,l]]));for(const[r,l]of this._nodesMap.entries())if(s.has(l)){const[c]=s.get(l);r.datum=c,this.garbageBin.delete(r),s.delete(l)}else this.garbageBin.add(r);for(const[r,[l,c]]of s.entries())this._nodesMap.set(this.createNode(l,i,c),r)}else{const s=Math.max(e.length,this.data.length);for(let r=0;r<s;r++)r>=e.length?this.garbageBin.add(this._nodes[r]):r>=this._nodes.length?this.createNode(e[r],i):(this._nodes[r].datum=e[r],this.garbageBin.delete(this._nodes[r]))}return this.data=e.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return this.garbageBin.size===0?this:(this._nodes=this._nodes.filter(e=>this.garbageBin.has(e)?(this._nodesMap.delete(e),this.garbageBin.delete(e),e.destroy(),!1):!0),this)}clear(){return this.update([]),this}isGarbage(e){return this.garbageBin.has(e)}each(e){for(const i of this._nodes.entries())e(i[1],i[1].datum,i[0]);return this}*[Symbol.iterator](){for(let e=0;e<this._nodes.length;e++){const i=this._nodes[e];yield{node:i,datum:i.datum,index:e}}}select(e){return lo.selectAll(this.parentNode,e)}selectByClass(e){return lo.selectByClass(this.parentNode,e)}selectByTag(e){return lo.selectByTag(this.parentNode,e)}nodes(){return this._nodes}at(e){return this._nodes.at(e)}get length(){return this._nodes.length}};function Tu(t,e,i,n){const s=t-i,r=e-n;return s*s+r*r}function Iu(t,e,i,n,s,r,l){if(i===s&&n===r)return Math.min(l,Tu(t,e,i,n));const c=s-i,h=r-n,d=Math.max(0,Math.min(1,((t-i)*c+(e-n)*h)/(c*c+h*h))),p=i+d*c,g=n+d*h;return Math.min(l,Tu(t,e,p,g))}function i2(t,e,i,n,s,r,l,c,h){c&&([l,r]=[r,l]);const d=Math.atan2(e-n,t-i);if(!lr(d,r,l)){const g=i+Math.cos(r)*s,m=n+Math.sin(r)*s,b=i+Math.cos(r)*s,v=n+Math.sin(r)*s;return Math.min(h,Tu(t,e,g,m),Tu(t,e,b,v))}const p=s-Math.sqrt(Tu(t,e,i,n));return Math.min(h,p*p)}var An=class extends Xn{constructor(t={}){super(t),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.restoreOwnStyles()}set x(t){this.x1=t,this.x2=t}set y(t){this.y1=t,this.y2=t}get midPoint(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}}computeBBox(){return new bt(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(t,e){return this.x1===this.x2||this.y1===this.y2?this.getBBox().clone().grow(this.strokeWidth/2).containsPoint(t,e):!1}distanceSquared(t,e){const{x1:i,y1:n,x2:s,y2:r}=this;return Iu(t,e,i,n,s,r,1/0)}render(t){var c;const{ctx:e,devicePixelRatio:i}=t;let{x1:n,y1:s,x2:r,y2:l}=this;if(n===r){const{strokeWidth:h}=this,d=Math.round(n*i)/i+Math.trunc(h*i)%2/(i*2);n=d,r=d}else if(s===l){const{strokeWidth:h}=this,d=Math.round(s*i)/i+Math.trunc(h*i)%2/(i*2);s=d,l=d}e.beginPath(),e.moveTo(n,s),e.lineTo(r,l),this.fillStroke(e),(c=this.fillShadow)==null||c.markClean(),super.render(t)}toSVG(){if(!this.visible)return;const t=Kn("line");return t.setAttribute("x1",String(this.x1)),t.setAttribute("y1",String(this.y1)),t.setAttribute("x2",String(this.x2)),t.setAttribute("y2",String(this.y2)),this.applySvgStrokeAttributes(t),{elements:[t]}}};An.className="Line";An.defaultStyles={...Xn.defaultStyles,fill:void 0,strokeWidth:1};M([yt()],An.prototype,"x1",2);M([yt()],An.prototype,"y1",2);M([yt()],An.prototype,"x2",2);M([yt()],An.prototype,"y2",2);var n2=new Intl.NumberFormat("en-US",{maximumFractionDigits:2,useGrouping:!1}),s2=new Intl.NumberFormat("en-US",{style:"percent"});function ya(t,e=2){return typeof t=="number"?nI(t,e):String(t??"")}function iI(t){return s2.format(t)}function nI(t,e){return e===2?n2.format(t):new Intl.NumberFormat("en-US",{maximumFractionDigits:e,useGrouping:!1}).format(t)}var ms=class extends Xn{constructor(t={}){super(t),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.isRange=!1,this.restoreOwnStyles()}computeBBox(){return new bt(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(t,e){return!1}render(t){var S;const{ctx:e}=t;let{x1:i,y1:n,x2:s,y2:r}=this;i=this.align(i),n=this.align(n),s=this.align(s),r=this.align(r);const{fill:l,opacity:c,isRange:h}=this;if(!!(h&&l)){const{fillOpacity:A}=this;this.applyFill(e),e.globalAlpha=c*A,e.beginPath(),e.moveTo(i,n),e.lineTo(s,n),e.lineTo(s,r),e.lineTo(i,r),e.closePath(),e.fill()}const{stroke:p,strokeWidth:g,startLine:m,endLine:b}=this;if(!!((m||b)&&p&&g)){const{strokeOpacity:A,lineDash:D,lineDashOffset:L,lineCap:C,lineJoin:N}=this;this.applyStroke(e),e.globalAlpha=c*A,e.lineWidth=g,D&&e.setLineDash(D),L&&(e.lineDashOffset=L),C&&(e.lineCap=C),N&&(e.lineJoin=N),e.beginPath(),m&&(e.moveTo(i,n),e.lineTo(s,n)),b&&(e.moveTo(s,r),e.lineTo(i,r)),e.stroke()}(S=this.fillShadow)==null||S.markClean(),super.render(t)}};ms.className="Range";ms.defaultStyles={...Xn.defaultStyles,strokeWidth:1};M([yt()],ms.prototype,"x1",2);M([yt()],ms.prototype,"y1",2);M([yt()],ms.prototype,"x2",2);M([yt()],ms.prototype,"y2",2);M([yt()],ms.prototype,"startLine",2);M([yt()],ms.prototype,"endLine",2);M([yt()],ms.prototype,"isRange",2);var ri=class extends Ct{constructor(){super(...arguments),this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}getFont(){return Ae.toFontString(this)}};M([T(At)],ri.prototype,"enabled",2);M([T($t,{optional:!0})],ri.prototype,"color",2);M([T(Ma,{optional:!0})],ri.prototype,"fontStyle",2);M([T(Sa,{optional:!0})],ri.prototype,"fontWeight",2);M([T(ft)],ri.prototype,"fontSize",2);M([T(rt)],ri.prototype,"fontFamily",2);M([T($i,{optional:!0})],ri.prototype,"formatter",2);function Cf(t){const{parallelFlipRotation:e=0,regularFlipRotation:i=0}=t,n=t.rotation?fe(qe(t.rotation)):0,s=!n&&e>=0&&e<=Math.PI?-1:1,r=!n&&i>=0&&i<=Math.PI?-1:1;let l=0;return t.parallel?l=s*Math.PI/2:r===-1&&(l=Math.PI),{configuredRotation:n,defaultRotation:l,parallelFlipFlag:s,regularFlipFlag:r}}function a2(t,e){return isNaN(t)?e?0:10:t}function r2(t,e,i,n){return t&&!e?i*n===-1?"hanging":"bottom":"middle"}function rA(t,e,i,n,s){const r=e>0&&e<=Math.PI,l=i>0&&i<=Math.PI,c=r||l?-1:1;if(t)if(e||i){if(n*c===-1)return"end"}else return"center";else if(n*s===-1)return"end";return"start"}function o2(t,e,i,n){const s=[];for(const{tickLabel:r,translationY:l}of t){if(!r)continue;const{width:c,height:h}=n.measureLines(r),d=new bt(e,l,c,h),p=new bt(e,l,0,0);i.transformBBox(p,d);const{x:g,y:m}=d;s.push({point:{x:g,y:m},label:{text:r,width:c,height:h}})}return s}function l2(t){return t!=null&&Object.hasOwn(t,"toString")&&rn(t.toString())}function c2(t){return t!=null&&Object.hasOwn(t,"valueOf")&&Wt(t.valueOf())}function mp(t){return Wt(t)||ih(t)||c2(t)}function oA(t,e){return t!=null&&(!e||mp(t))}function s0(t){return l2(t)&&Object.hasOwn(t,"id")?t.id:t}var lb=t=>t==="value"?ie((e,i)=>i.target.type==="line",e=>e.target.type==="range"?"crossLine type 'range' to have a 'range' property instead of 'value'":"crossLine property 'type' to be 'line'"):ie((e,i)=>i.target.type==="range",e=>e.target.type==="line"?"crossLine type 'line' to have a 'value' property instead of 'range'":"crossLine property 'type' to be 'range'"),sI=(t,e,i,n,s)=>{const r=t==="line"&&e!==void 0,l=t==="range"&&i!==void 0;if(!r&&!l)return!0;const[c,h]=i??[e,void 0],d=te.is(n)||Es.is(n),p=oA(c,d)&&!isNaN(n.convert(c)),g=oA(h,d)&&!isNaN(n.convert(h));if(r&&p||l&&p&&g)return(s==null?void 0:s())??!0;const m=["Expecting crossLine"];return l?(p||m.push(`range start ${Du(c)}`),g||m.push(`${p?"":"and "}range end ${Du(h)}`)):m.push(`value ${Du(c)}`),m.push("to match the axis scale domain."),ot.warnOnce(m.join(" ")),!1},u2={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},"top-left":{xTranslationDirection:1,yTranslationDirection:-1},"top-right":{xTranslationDirection:-1,yTranslationDirection:-1},"bottom-left":{xTranslationDirection:1,yTranslationDirection:1},"bottom-right":{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},"inside-left":{xTranslationDirection:1,yTranslationDirection:0},"inside-right":{xTranslationDirection:-1,yTranslationDirection:0},"inside-top":{xTranslationDirection:0,yTranslationDirection:1},"inside-bottom":{xTranslationDirection:0,yTranslationDirection:-1},"inside-top-left":{xTranslationDirection:1,yTranslationDirection:1},"inside-bottom-left":{xTranslationDirection:1,yTranslationDirection:-1},"inside-top-right":{xTranslationDirection:-1,yTranslationDirection:1},"inside-bottom-right":{xTranslationDirection:-1,yTranslationDirection:-1}},h2={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},"top-left":{xTranslationDirection:-1,yTranslationDirection:-1},"top-right":{xTranslationDirection:-1,yTranslationDirection:1},"bottom-left":{xTranslationDirection:1,yTranslationDirection:-1},"bottom-right":{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},"inside-left":{xTranslationDirection:0,yTranslationDirection:1},"inside-right":{xTranslationDirection:0,yTranslationDirection:-1},"inside-top":{xTranslationDirection:-1,yTranslationDirection:0},"inside-bottom":{xTranslationDirection:1,yTranslationDirection:0},"inside-top-left":{xTranslationDirection:-1,yTranslationDirection:1},"inside-bottom-left":{xTranslationDirection:1,yTranslationDirection:1},"inside-top-right":{xTranslationDirection:-1,yTranslationDirection:-1},"inside-bottom-right":{xTranslationDirection:1,yTranslationDirection:-1}};function a0({yDirection:t,padding:e=0,position:i="top",bbox:n}){const s=t?u2:h2,{xTranslationDirection:r,yTranslationDirection:l}=s[i],c=r*(e+n.width/2),h=l*(e+n.height/2);return{xTranslation:c,yTranslation:h}}function aI({yDirection:t,bbox:e,padding:i=0,position:n="top"}){const s={};return n.startsWith("inside")||(n==="top"&&!t?s.top=i+e.height:n==="bottom"&&!t?s.bottom=i+e.height:n==="left"&&t?s.left=i+e.width:n==="right"&&t&&(s.right=i+e.width)),s}var Ef=({direction:t,xEnd:e,yStart:i,yEnd:n})=>t==="y"?{x:e/2,y:i}:{x:e,y:isNaN(n)?i:(i+n)/2},lA=({direction:t,xStart:e,xEnd:i,yStart:n,yEnd:s})=>t==="y"?{x:e,y:isNaN(s)?n:(n+s)/2}:{x:i/2,y:n},cA=({direction:t,xEnd:e,yStart:i,yEnd:n})=>t==="y"?{x:e,y:isNaN(n)?i:(i+n)/2}:{x:e/2,y:isNaN(n)?i:n},uA=({direction:t,xStart:e,xEnd:i,yStart:n,yEnd:s})=>t==="y"?{x:i/2,y:isNaN(s)?n:s}:{x:e,y:isNaN(s)?n:(n+s)/2},d2=({xEnd:t,yStart:e,yEnd:i})=>({x:t/2,y:isNaN(i)?e:(e+i)/2}),hA=({direction:t,xStart:e,xEnd:i,yStart:n})=>t==="y"?{x:e/2,y:n}:{x:i,y:n},dA=({direction:t,xStart:e,yStart:i,yEnd:n})=>t==="y"?{x:e,y:isNaN(n)?i:n}:{x:e,y:i},fA=({direction:t,xEnd:e,yStart:i,yEnd:n})=>t==="y"?{x:e,y:i}:{x:e,y:isNaN(n)?i:n},pA=({direction:t,xStart:e,xEnd:i,yStart:n,yEnd:s})=>t==="y"?{x:i,y:isNaN(s)?n:s}:{x:e,y:isNaN(s)?n:s},rI={top:{c:Ef},bottom:{c:uA},left:{c:lA},right:{c:cA},"top-left":{c:hA},"top-right":{c:fA},"bottom-left":{c:dA},"bottom-right":{c:pA},inside:{c:d2},"inside-left":{c:lA},"inside-right":{c:cA},"inside-top":{c:Ef},"inside-bottom":{c:uA},"inside-top-left":{c:hA},"inside-bottom-left":{c:dA},"inside-top-right":{c:fA},"inside-bottom-right":{c:pA}},f2=ue(["top","left","right","bottom","top-left","top-right","bottom-left","bottom-right","inside","inside-left","inside-right","inside-top","inside-bottom","inside-top-left","inside-bottom-left","inside-top-right","inside-bottom-right"],"crossLine label position"),Qn=class extends Ct{constructor(){super(...arguments),this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)"}};M([T(At,{optional:!0})],Qn.prototype,"enabled",2);M([T(rt,{optional:!0})],Qn.prototype,"text",2);M([T(Ma,{optional:!0})],Qn.prototype,"fontStyle",2);M([T(Sa,{optional:!0})],Qn.prototype,"fontWeight",2);M([T(ft)],Qn.prototype,"fontSize",2);M([T(rt)],Qn.prototype,"fontFamily",2);M([T(Ut)],Qn.prototype,"padding",2);M([T($t,{optional:!0})],Qn.prototype,"color",2);M([T(f2,{optional:!0})],Qn.prototype,"position",2);M([T(Ut,{optional:!0})],Qn.prototype,"rotation",2);M([T(At,{optional:!0})],Qn.prototype,"parallel",2);var cn=class extends Ct{constructor(){super(),this.id=qn(this),this.label=new Qn,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction="x",this.rangeGroup=new Tt({name:this.id}),this.lineGroup=new Tt({name:this.id}),this.labelGroup=new Tt({name:this.id}),this.crossLineRange=new ms,this.crossLineLabel=new Pl,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1,this._isRange=void 0,this.lineGroup.append(this.crossLineRange),this.labelGroup.append(this.crossLineLabel),this.crossLineRange.pointerEvents=1}update(t){const{enabled:e,data:i,type:n,value:s,range:r,scale:l}=this;if(!n||!l||!e||!t||!sI(n,s,r,l)||i.length===0){this.rangeGroup.visible=!1,this.lineGroup.visible=!1,this.labelGroup.visible=!1;return}this.rangeGroup.visible=t,this.lineGroup.visible=t,this.labelGroup.visible=t,this.updateNodes();const{isRange:c}=this;c!==this._isRange&&(c?this.rangeGroup.appendChild(this.crossLineRange):this.lineGroup.appendChild(this.crossLineRange)),this._isRange=c}calculateLayout(t,e){if(!t)return;const{scale:i,gridLength:n,sideFlag:s,direction:r,label:{position:l="top"},clippedRange:c,strokeWidth:h=0}=this;if(this.data=[],!i)return;const d=i.bandwidth??0,p=i.step??0,g=(e?-1:1)*(i instanceof ah?(p-d)/2:0),[m,b]=[0,s*n];let[v,S]=this.getRange();const A=S===void 0&&Es.is(i)?d/2+g:0;let[D,L]=[Number(i.convert(v,!0))-g+A,i.convert(S,!0)+d+g];D=$y(D,c),L=$y(L,c),[v,S]=[Number(i.convert(v))+A,i.convert(S)+d];const C=(v===D||S===L||D!==L)&&Math.abs(L-D)>0;if(C&&D>L&&([D,L]=[L,D],[v,S]=[S,v]),v-g>=D&&(v-=g),S+g<=L&&(S+=g),this.isRange=C,this.startLine=h>0&&v>=D&&v<=D+g,this.endLine=h>0&&S>=L-d-g&&S<=L,!C&&!this.startLine&&!this.endLine||(this.data=[D,L],!this.label.enabled))return;const{c:N=Ef}=rI[l]??{},{x:k,y:O}=N({direction:r,xStart:m,xEnd:b,yStart:D,yEnd:L});this.labelPoint={x:k,y:O}}updateNodes(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())}updateRangeNode(){const{crossLineRange:t,sideFlag:e,gridLength:i,data:n,startLine:s,endLine:r,isRange:l,fill:c,fillOpacity:h,stroke:d,strokeWidth:p,lineDash:g}=this;t.x1=0,t.x2=e*i,t.y1=n[0],t.y2=n[1],t.startLine=s,t.endLine=r,t.isRange=l,t.fill=c,t.fillOpacity=h??1,t.stroke=d,t.strokeWidth=p??1,t.strokeOpacity=this.strokeOpacity??1,t.lineDash=g}updateLabel(){const{crossLineLabel:t,label:e}=this;e.text&&(t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.fontSize=e.fontSize,t.fontFamily=e.fontFamily,t.fill=e.color,t.text=e.text)}positionLabel(){const{crossLineLabel:t,labelPoint:{x:e=void 0,y:i=void 0}={},label:{parallel:n,rotation:s,position:r="top",padding:l=0},direction:c,parallelFlipRotation:h,regularFlipRotation:d}=this;if(e===void 0||i===void 0)return;const{defaultRotation:p,configuredRotation:g}=Cf({rotation:s,parallel:n,regularFlipRotation:d,parallelFlipRotation:h});t.rotation=p+g,t.textBaseline="middle",t.textAlign="center";const m=t.getBBox();if(!m)return;const b=c==="y",{xTranslation:v,yTranslation:S}=a0({yDirection:b,padding:l,position:r,bbox:m});t.translationX=e+v,t.translationY=i+S}getRange(){const{value:t,range:e,scale:i}=this,n=te.is(i)||Es.is(i),s=(e==null?void 0:e[0])??t;let r=e==null?void 0:e[1];return!n&&r===void 0&&(r=s),n&&s===r&&(r=void 0),[s,r]}computeLabelBBox(){const{label:t}=this;if(!t.enabled)return;const e=new Pl;e.fontFamily=t.fontFamily,e.fontSize=t.fontSize,e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.text=t.text;const{labelPoint:{x:i=void 0,y:n=void 0}={},label:{parallel:s,rotation:r,position:l="top",padding:c=0},direction:h,parallelFlipRotation:d,regularFlipRotation:p}=this;if(i===void 0||n===void 0)return;const{configuredRotation:g}=Cf({rotation:r,parallel:s,regularFlipRotation:p,parallelFlipRotation:d});e.rotation=g,e.textBaseline="middle",e.textAlign="center";const m=e.getBBox();if(!m)return;const b=h==="y",{xTranslation:v,yTranslation:S}=a0({yDirection:b,padding:c,position:l,bbox:m});return e.x=i+v,e.y=n+S,e.getBBox()}calculatePadding(t){const{isRange:e,startLine:i,endLine:n,direction:s,label:{padding:r=0,position:l="top"}}=this;if(!e&&!i&&!n)return;const c=this.computeLabelBBox();if((c==null?void 0:c.x)==null||(c==null?void 0:c.y)==null)return;const h=aI({yDirection:s==="y",padding:r,position:l,bbox:c});t.left=Math.max(t.left??0,h.left??0),t.right=Math.max(t.right??0,h.right??0),t.top=Math.max(t.top??0,h.top??0),t.bottom=Math.max(t.bottom??0,h.bottom??0)}};cn.className="CrossLine";M([T(At,{optional:!0})],cn.prototype,"enabled",2);M([T(ue(["range","line"],"a crossLine type"),{optional:!0})],cn.prototype,"type",2);M([T(js(lb("range"),lh.restrict({length:2})),{optional:!0})],cn.prototype,"range",2);M([T(lb("value"),{optional:!0})],cn.prototype,"value",2);M([T($t,{optional:!0})],cn.prototype,"fill",2);M([T(ee,{optional:!0})],cn.prototype,"fillOpacity",2);M([T($t,{optional:!0})],cn.prototype,"stroke",2);M([T(Ut,{optional:!0})],cn.prototype,"strokeWidth",2);M([T(ee,{optional:!0})],cn.prototype,"strokeOpacity",2);M([T(_s,{optional:!0})],cn.prototype,"lineDash",2);M([T(mt)],cn.prototype,"label",2);var oI=(t=>(t[t.CHART_BACKGROUND=0]="CHART_BACKGROUND",t[t.AXIS_GRID=1]="AXIS_GRID",t[t.AXIS=2]="AXIS",t[t.ZOOM_SELECTION=3]="ZOOM_SELECTION",t[t.SERIES_CROSSLINE_RANGE=4]="SERIES_CROSSLINE_RANGE",t[t.SERIES_LAYER=5]="SERIES_LAYER",t[t.AXIS_FOREGROUND=6]="AXIS_FOREGROUND",t[t.SERIES_CROSSHAIR=7]="SERIES_CROSSHAIR",t[t.SERIES_CROSSLINE_LINE=8]="SERIES_CROSSLINE_LINE",t[t.SERIES_ANNOTATION=9]="SERIES_ANNOTATION",t[t.CHART_ANNOTATION=10]="CHART_ANNOTATION",t[t.CHART_ANNOTATION_FOCUSED=11]="CHART_ANNOTATION_FOCUSED",t[t.STATUS_BAR=12]="STATUS_BAR",t[t.SERIES_LABEL=13]="SERIES_LABEL",t[t.LEGEND=14]="LEGEND",t[t.NAVIGATOR=15]="NAVIGATOR",t[t.FOREGROUND=16]="FOREGROUND",t))(oI||{}),p2=["stroke","lineDash"],g2=va(t=>pi(t)&&Object.keys(t).every(e=>p2.includes(e)),"objects with gridline style properties such as 'stroke' or 'lineDash'"),yp=class{constructor(){this.enabled=!0,this.width=1,this.style=[{stroke:void 0,lineDash:[]}]}};M([T(At)],yp.prototype,"enabled",2);M([T(ft)],yp.prototype,"width",2);M([T(g2)],yp.prototype,"style",2);function Mr(t,e=[void 0]){return ma((i,n,s)=>e.includes(s)?Lo(t)?t(s):t:s)}var lI=ie(t=>Wt(t)&&t>0||t instanceof _l,"a non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),No=class extends Ct{constructor(){super(...arguments),this.minSpacing=NaN,this.maxSpacing=NaN}};M([T(lI,{optional:!0})],No.prototype,"step",2);M([T(lh,{optional:!0})],No.prototype,"values",2);M([T(NT),Mr(NaN)],No.prototype,"minSpacing",2);M([T(CT),Mr(NaN)],No.prototype,"maxSpacing",2);var oi=class extends Ct{constructor(){super(...arguments),this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.spacing=5,this.minSpacing=NaN,this.color="#575757",this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1}getSideFlag(){return this.mirrored?1:-1}};M([T(At)],oi.prototype,"enabled",2);M([T(Ma,{optional:!0})],oi.prototype,"fontStyle",2);M([T(Sa,{optional:!0})],oi.prototype,"fontWeight",2);M([T(Ut.restrict({min:1}))],oi.prototype,"fontSize",2);M([T(rt)],oi.prototype,"fontFamily",2);M([T(ft)],oi.prototype,"spacing",2);M([T(Vl),Mr(NaN)],oi.prototype,"minSpacing",2);M([T($t,{optional:!0})],oi.prototype,"color",2);M([T(Ut,{optional:!0})],oi.prototype,"rotation",2);M([T(At)],oi.prototype,"avoidCollisions",2);M([T(At)],oi.prototype,"mirrored",2);M([T(At)],oi.prototype,"parallel",2);M([T($i,{optional:!0})],oi.prototype,"itemStyler",2);M([T($i,{optional:!0})],oi.prototype,"formatter",2);M([T(rt,{optional:!0})],oi.prototype,"format",2);var bp=class{constructor(){this.enabled=!0,this.width=1,this.stroke=void 0}};M([T(At)],bp.prototype,"enabled",2);M([T(ft)],bp.prototype,"width",2);M([T($t,{optional:!0})],bp.prototype,"stroke",2);var Wl=class extends Ct{constructor(){super(...arguments),this.enabled=!0,this.width=1,this.size=6}};M([T(At)],Wl.prototype,"enabled",2);M([T(ft)],Wl.prototype,"width",2);M([T(ft)],Wl.prototype,"size",2);M([T($t,{optional:!0})],Wl.prototype,"stroke",2);var ys=class extends Ct{constructor(){super(...arguments),this.caption=new le,this.enabled=!1,this.spacing=le.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}};M([T(At)],ys.prototype,"enabled",2);M([T(rt,{optional:!0})],ys.prototype,"text",2);M([T(ft,{optional:!0})],ys.prototype,"spacing",2);M([T(Ma,{optional:!0})],ys.prototype,"fontStyle",2);M([T(Sa,{optional:!0})],ys.prototype,"fontWeight",2);M([T(ft)],ys.prototype,"fontSize",2);M([T(rt)],ys.prototype,"fontFamily",2);M([T($t,{optional:!0})],ys.prototype,"color",2);M([T(dp)],ys.prototype,"wrapping",2);M([T($i,{optional:!0})],ys.prototype,"formatter",2);var cI=(t=>(t[t.TickAndDomain=0]="TickAndDomain",t[t.TicksOnly=1]="TicksOnly",t[t.Off=2]="Off",t))(cI||{});function kf(t){const[e,i]=gi(t.range),n=Math.floor(e),s=Math.ceil(i);return{min:n,max:s,visible:n!==s}}var r0=Math.PI*2,m2=r0/2;function y2(t,e){return Math.abs(e-t)<m2?e:t>e?e+r0:e-r0}function uI(t){const e=(l,c)=>{const[h=t.min,d=t.max]=gi(c??[]);return l<h||l>d};return{tick:{fromFn(l,c,h){let d=l.y1+l.translationY,p=l.opacity;return(h==="added"||e(l.datum.translationY,l.datum.range))&&(d=c.translationY,p=0),{y:0,translationY:d,opacity:p,phase:us[h]}},toFn(l,c,h){const d=c.translationY;let p=1;return h==="removed"&&(p=0),{y:0,translationY:d,opacity:p,finish:{y:d,translationY:0}}},applyFn(l,c){l.setProperties(c),l.visible=!e(l.y)}},line:{fromFn(l,c){return{...l.previousDatum??c,phase:us.updated}},toFn(l,c){return{...c}}},label:{fromFn(l,c,h){const d=l.previousDatum??c,p=d.x,g=d.y,m=d.rotationCenterX;let b=Math.round(l.translationY),v=d.rotation,S=l.opacity;return h==="removed"||e(d.y,d.range)?v=c.rotation:(h==="added"||e(l.datum.y,l.datum.range))&&(b=Math.round(d.translationY),S=0,v=c.rotation),{x:p,y:g,rotationCenterX:m,translationY:b,rotation:v,opacity:S,phase:us[h]}},toFn(l,c,h){var S;const d=c.x,p=c.y,g=c.rotationCenterX,m=Math.round(c.translationY);let b=0,v=1;return h==="added"?b=c.rotation:h==="removed"?(v=0,b=c.rotation):b=y2(((S=l.previousDatum)==null?void 0:S.rotation)??c.rotation,c.rotation),{x:d,y:p,rotationCenterX:g,translationY:m,rotation:b,opacity:v,finish:{rotation:c.rotation}}}},group:{fromFn(l,c){const{rotation:h,translationX:d,translationY:p}=l;return{rotation:h,translationX:d,translationY:p,phase:us.updated}},toFn(l,c){const{rotation:h,translationX:d,translationY:p}=c;return{rotation:h,translationX:d,translationY:p}}}}}function hI(){return(t,e)=>({rotation:e.rotation,rotationCenterX:e.rotationCenterX,rotationCenterY:e.rotationCenterY,translationX:e.translationX,translationY:e.translationY})}function cb(t){const{visible:e,min:i,max:n}=t;return(s,r)=>{const l=r.translationY,c=e&&l>=i&&l<=n;return{y:l,translationY:0,opacity:1,visible:c}}}function ub(){return(t,e)=>({x:e.x,y:e.y,translationY:e.translationY,rotation:e.rotation,rotationCenterX:e.rotationCenterX})}function dI(){return(t,e)=>({...e})}var wf=class extends Io(An){},fI=(t=>(t[t.TickLines=0]="TickLines",t[t.AxisLine=1]="AxisLine",t[t.TickLabels=2]="TickLabels",t))(fI||{}),Aa=class pI{constructor(e,i){this.moduleCtx=e,this.scale=i,this.id=qn(this),this.nice=!0,this.reverse=!1,this.keys=[],this.interval=new No,this.dataDomain={domain:[],clipped:!1},this.layoutConstraints={stacked:!0,align:"start",width:100,unit:"percent"},this.boundSeries=[],this.includeInvisibleDomains=!1,this.interactionEnabled=!0,this.axisGroup=new fu({name:`${this.id}-axis`}),this.tickLineGroup=this.axisGroup.appendChild(new Tt({name:`${this.id}-Axis-tick-lines`,zIndex:0})),this.tickLabelGroup=this.axisGroup.appendChild(new Tt({name:`${this.id}-Axis-tick-labels`,zIndex:2})),this.labelGroup=new Tt({name:`${this.id}-Labels`,zIndex:9}),this.gridGroup=new fu({name:`${this.id}-Axis-grid`,zIndex:1}),this.gridLineGroup=this.gridGroup.appendChild(new Tt({name:`${this.id}-gridLines`})),this.crossLineRangeGroup=new fu({name:`${this.id}-CrossLines-Range`,zIndex:4}),this.crossLineLineGroup=new fu({name:`${this.id}-CrossLines-Line`,zIndex:8}),this.crossLineLabelGroup=new fu({name:`${this.id}-CrossLines-Label`,zIndex:13}),this.tickLineGroupSelection=Ge.select(this.tickLineGroup,wf,!1),this.tickLabelGroupSelection=Ge.select(this.tickLabelGroup,Pl,!1),this.gridLineGroupSelection=Ge.select(this.gridLineGroup,wf,!1),this._crossLines=[],this.line=new bp,this.tick=new Wl,this.gridLine=new yp,this.label=this.createLabel(),this.defaultTickMinSpacing=pI.defaultTickMinSpacing,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{fractionDigits:0,spacing:this.label.spacing,format:this.label.format}},this.axisContext=void 0,this.labelFormatter=void 0,this.datumFormatter=void 0,this.scaleFormatterParams=void 0,this.destroyFns=[],this.range=[0,1],this.visibleRange=[0,1],this.title=new ys,this.gridLength=0,this.gridPadding=0,this.seriesAreaPadding=0,this.animatable=!0,this._scaleNiceDomainInputDomain=void 0,this._scaleNiceDomainRangeExtent=NaN,this.moduleMap=new sb,this.range=this.scale.range.slice(),this.crossLines.forEach(n=>this.initCrossLine(n))}get type(){return this.constructor.type??""}get labelNodes(){return this.tickLabelGroupSelection.nodes()}set crossLines(e){const{CrossLineConstructor:i}=this.constructor;this._crossLines.forEach(n=>this.detachCrossLine(n)),this._crossLines=e.map(n=>{const s=new i;return s.set(n),s}),this._crossLines.forEach(n=>{this.attachCrossLine(n),this.initCrossLine(n)})}get crossLines(){return this._crossLines}resetAnimation(e){}attachCrossLine(e){this.crossLineRangeGroup.appendChild(e.rangeGroup),this.crossLineLineGroup.appendChild(e.lineGroup),this.crossLineLabelGroup.appendChild(e.labelGroup)}detachCrossLine(e){this.crossLineRangeGroup.removeChild(e.rangeGroup),this.crossLineLineGroup.removeChild(e.lineGroup),this.crossLineLabelGroup.removeChild(e.labelGroup)}destroy(){this.moduleMap.destroy(),this.destroyFns.forEach(e=>e())}updateScale(){const{range:e,visibleRange:i,scale:n}=this,s=(e[1]-e[0])/(i[1]-i[0]),r=s*i[0],l=e[0]-r;n.range=[l,l+s],this.crossLines.forEach(c=>{c.clippedRange=[e[0],e[1]]})}setCrossLinesVisible(e){this.crossLineRangeGroup.visible=e,this.crossLineLineGroup.visible=e,this.crossLineLabelGroup.visible=e}attachAxis(e){e.gridNode.appendChild(this.gridGroup),e.axisNode.appendChild(this.axisGroup),e.labelNode.appendChild(this.labelGroup),e.crossLineRangeNode.appendChild(this.crossLineRangeGroup),e.crossLineLineNode.appendChild(this.crossLineLineGroup),e.crossLineLabelNode.appendChild(this.crossLineLabelGroup)}detachAxis(e){e.gridNode.removeChild(this.gridGroup),e.axisNode.removeChild(this.axisGroup),e.labelNode.removeChild(this.labelGroup),e.crossLineRangeNode.removeChild(this.crossLineRangeGroup),e.crossLineLineNode.removeChild(this.crossLineLineGroup),e.crossLineLabelNode.removeChild(this.crossLineLabelGroup)}attachLabel(e){this.labelGroup.append(e)}inRange(e,i=0){const[n,s]=gi(this.range);return e>=n-i&&e<=s+i}defaultDatumFormatter(e,i){return ya(e,i+1)}defaultLabelFormatter(e,i){return ya(e,i)}onGridLengthChange(e,i){i^e&&this.onGridVisibilityChange(),this.crossLines.forEach(n=>this.initCrossLine(n))}onGridVisibilityChange(){this.gridLineGroupSelection.clear()}createLabel(){return new oi}update(){this.updatePosition(),this.updateSelections(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled,this.updateLabels(),this.updateGridLines(),this.updateTickLines(),this.updateCrossLines()}getAxisLineCoordinates(){const[e,i]=gi(this.range);return{x:0,y1:e,y2:i}}getLabelStyles(e,i){const{label:n}=this,s={color:n.color,spacing:n.spacing,fontFamily:n.fontFamily,fontSize:n.fontSize,fontStyle:n.fontStyle,fontWeight:n.fontWeight};let r;n.itemStyler&&(r=this.moduleCtx.callbackCache.call(n.itemStyler,{...e,...s}));const{color:l,fontFamily:c,fontSize:h,fontStyle:d,fontWeight:p,spacing:g}=Rt(r,i,s);return{fill:l,fontFamily:c,fontSize:h,fontStyle:d,fontWeight:p,spacing:g}}getTickSize(){return this.tick.enabled?this.tick.size:0}setTitleProps(e,i){const{title:n}=this;if(!n.enabled){e.enabled=!1,e.node.visible=!1;return}e.enabled=!0,e.color=n.color,e.fontFamily=n.fontFamily,e.fontSize=n.fontSize,e.fontStyle=n.fontStyle,e.fontWeight=n.fontWeight,e.wrapping=n.wrapping;const s=e.node,r=(n.spacing??0)+i.spacing,l=this.label.getSideFlag(),c=fe(this.rotation),h=l===-1&&c>Math.PI&&c<Math.PI*2?-1:1,d=h*l*Math.PI/2,p=h===1?"bottom":"top",{range:g}=this,m=Math.floor(h*l*(g[0]+g[1])/2),b=Math.floor(l===-1?h*-r:-r),{callbackCache:v}=this.moduleCtx,{formatter:S=D=>D.defaultValue}=n,A=v.call(S,this.getTitleFormatterParams());e.text=A,s.setProperties({visible:!0,text:A,textBaseline:p,x:m,y:b,rotation:d})}processData(){const{includeInvisibleDomains:e,boundSeries:i,direction:n}=this,r=(e?i:i.filter(l=>l.isEnabled())).map(l=>l.getDomain(n));this.setDomains(...r)}setDomains(...e){let i,n;e.length>0?{domain:i,animatable:n}=this.scale.normalizeDomains(...e):(i=[],n=!0),this.dataDomain=this.normaliseDataDomain(i),this.reverse&&this.dataDomain.domain.reverse(),this.animatable=n}calculateLayout(e){const{scale:i,label:n,visibleRange:s,nice:r}=this;this.updateScale();const l=jl(this.range),c=this.dataDomain.domain;let h;s[0]===0&&s[1]===1?h=void 0:r?this._scaleNiceDomainInputDomain===c&&this._scaleNiceDomainRangeExtent===l?h=this.scale.domain:h=this.calculateTickLayout(c,0,[0,1]).niceDomain:h=c;let d;r?h==null?d=0:d=1:d=2;const{niceDomain:p,primaryTickCount:g,ticks:m,tickDomain:b,fractionDigits:v,bbox:S}=this.calculateTickLayout(h??c,d,s,e);this.scale.domain=p,this._scaleNiceDomainInputDomain=r?c:void 0,this._scaleNiceDomainRangeExtent=r?l:NaN;const A=n.format;this.labelFormatter=i.tickFormatter({domain:b,specifier:A,ticks:m,fractionDigits:v})??(O=>this.defaultLabelFormatter(O,v)),this.datumFormatter=i.datumFormatter({domain:b,specifier:A,ticks:m,fractionDigits:v})??(O=>this.defaultDatumFormatter(O,v)),this.scaleFormatterParams={domain:b,ticks:m,fractionDigits:v},this.layout.label={fractionDigits:v,spacing:this.label.spacing,format:this.label.format};const D=n.getSideFlag(),L=this.isAnySeriesActive(),{rotation:C,parallelFlipRotation:N,regularFlipRotation:k}=this.calculateRotations();return this.crossLines.forEach(O=>{var j;var _;O.sideFlag=-D,O.direction=C===-Math.PI/2?"x":"y",O instanceof cn&&((_=O.label).parallel??(_.parallel=n.parallel)),O.parallelFlipRotation=N,O.regularFlipRotation=k,(j=O.calculateLayout)==null||j.call(O,L,this.reverse)}),{primaryTickCount:g,bbox:S}}getTransformBox(e){const i=new gs,{rotation:n,translationX:s,translationY:r}=this.getAxisTransform();return gs.updateTransformMatrix(i,1,1,n,s,r),i.transformBBox(e)}calculateRotations(){const e=qe(this.rotation),i=fe(e),n=fe(e-Math.PI/2);return{rotation:e,parallelFlipRotation:i,regularFlipRotation:n}}updateCrossLines(){const e=this.isAnySeriesActive();this.crossLines.forEach(i=>{i.update(e)})}updateTickLines(){const{tick:e,label:i}=this,n=i.getSideFlag();this.tickLineGroupSelection.each((s,r)=>{s.strokeWidth=r.tickWidth??e.width,s.stroke=r.tickStroke??e.stroke,s.x1=n*(r.tickSize??this.getTickSize()),s.x2=0})}getAxisTransform(){return{rotation:qe(this.rotation),translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){const{crossLineRangeGroup:e,crossLineLineGroup:i,crossLineLabelGroup:n,gridGroup:s,translation:r}=this,{rotation:l}=this.calculateRotations(),c=Math.floor(r.x),h=Math.floor(r.y);e.setProperties({rotation:l,translationX:c,translationY:h}),i.setProperties({rotation:l,translationX:c,translationY:h}),n.setProperties({rotation:l,translationX:c,translationY:h}),s.setProperties({rotation:l,translationX:c,translationY:h})}updateGridLines(){const e=this.label.getSideFlag(),{gridLine:{style:i,width:n},gridPadding:s,gridLength:r}=this;r===0||i.length===0||this.gridLineGroupSelection.each((l,c,h)=>{const{stroke:d,lineDash:p}=i[h%i.length];l.setProperties({x1:s,x2:-e*r+s,stroke:d,strokeWidth:n,lineDash:p})})}formatTick(e,i,n,s){const{labelFormatter:r,label:{formatter:l},moduleCtx:{callbackCache:c}}=this;let h;return l?h=c.call(l,{value:e,index:i,fractionDigits:n}):s?h=s(e):r&&(h=r(e)),String(h??e)}formatDatum(e){const{label:{formatter:i},moduleCtx:{callbackCache:n},datumFormatter:s=this.labelFormatter}=this;let r;return i?r=n.call(i,{value:e,index:NaN}):s?r=n.call(s,e):ge(e)&&(r=e.filter(Boolean).join(" - ")),String(r??e)}getScaleValueFormatter(e){const{scaleFormatterParams:i}=this;let n;try{e!=null&&i!=null&&(n=this.scale.tickFormatter({...i,specifier:e}))}catch{ot.warnOnce(`the format string ${e} is invalid, ignoring.`)}return n??(n=s=>this.formatDatum(s)),n}getBBox(){return this.axisGroup.getBBox()}initCrossLine(e){e.scale=this.scale,e.gridLength=this.gridLength}isAnySeriesActive(){return this.boundSeries.some(e=>this.includeInvisibleDomains||e.isEnabled())}clipTickLines(e,i,n,s){this.tickLineGroup.setClipRect(new bt(e,i,n,s))}clipGrid(e,i,n,s){this.gridGroup.setClipRect(new bt(e,i,n,s))}getTitleFormatterParams(){var n;const{direction:e}=this,i=[];for(const s of this.boundSeries){const r=s.getKeys(e),l=s.getNames(e);for(let c=0;c<r.length;c++)i.push({key:r[c],name:l[c]})}return{direction:e,boundSeries:i,defaultValue:(n=this.title)==null?void 0:n.text}}normaliseDataDomain(e){return{domain:[...e],clipped:!1}}getLayoutState(){return{id:this.id,rect:this.getBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize(),direction:this.direction,domain:this.dataDomain.domain,scale:this.scale,...this.layout}}getModuleMap(){return this.moduleMap}createModuleContext(){return this.axisContext??(this.axisContext=this.createAxisContext()),{...this.moduleCtx,parent:this.axisContext}}createAxisContext(){const{scale:e}=this;return{axisId:this.id,scale:this.scale,direction:this.direction,continuous:te.is(e)||Es.is(e),getCanvasBounds:()=>ke.toCanvas(this.axisGroup),seriesKeyProperties:()=>this.boundSeries.reduce((i,n)=>(n.getKeyProperties(this.direction).forEach(r=>i.add(r)),i),new Set),seriesIds:()=>this.boundSeries.map(i=>i.id),scaleValueFormatter:i=>this.getScaleValueFormatter(i),scaleInvert:i=>e.invert(i,!0),scaleInvertNearest:i=>e.invert(i,!0),attachLabel:i=>this.attachLabel(i),inRange:(i,n)=>this.inRange(i,n)}}isReversed(){return this.reverse}};Aa.defaultTickMinSpacing=50;Aa.CrossLineConstructor=cn;M([T(At)],Aa.prototype,"nice",2);M([T(At)],Aa.prototype,"reverse",2);M([T(LT)],Aa.prototype,"keys",2);M([T(mt)],Aa.prototype,"interval",2);M([T(mt)],Aa.prototype,"title",2);M([vr((t,e,i)=>t.onGridLengthChange(e,i))],Aa.prototype,"gridLength",2);var hb=Aa;function b2(t,e,i,n,s,r){if(t.size===0)return!1;let l=t.x,c=t.y;e!=null&&(l-=(e.x-.5)*t.size,c-=(e.y-.5)*t.size);let h=l;l<i?h=i:l>i+s&&(h=i+s);let d=c;c<n?d=n:c>n+r&&(d=n+r);const p=l-h,g=c-d;return Math.sqrt(p*p+g*g)<=t.size*.5}function gI(t,e,i,n,s){const r=t.x+t.width>e&&t.x<e+n,l=t.y+t.height>i&&t.y<i+s;return r&&l}function x2(t,e,i,n,s){return e+n<t.x+t.width&&e>t.x&&i>t.y&&i+s<t.y+t.height}function v2(t){return t!=null&&typeof t.point=="object"&&typeof t.label=="object"}var M2={top:{x:0,y:-1},bottom:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0},"top-left":{x:-1,y:-1},"top-right":{x:1,y:-1},"bottom-left":{x:-1,y:1},"bottom-right":{x:1,y:1}};function S2(t,e,i=5){var c;const n=new Map,s=[],r=new Map([...t.entries()].map(([h,d])=>[h,d.toSorted((p,g)=>g.point.size-p.point.size)])),l=[...r.values()].flat();for(const[h,d]of r.entries()){const p=[];if((c=d[0])!=null&&c.label){for(let g=0,m=d.length;g<m;g++){const b=d[g],{point:v,label:S,anchor:A}=b,{text:D,width:L,height:C}=S,N=v.size*.5;let k=0,O=0;if(N>0&&b.placement!=null){const nt=M2[b.placement];k=(L*.5+N+i)*nt.x,O=(C*.5+N+i)*nt.y}const _=v.x-L*.5+k-(((A==null?void 0:A.x)??.5)-.5)*v.size,j=v.y-C*.5+O-(((A==null?void 0:A.y)??.5)-.5)*v.size;if(!(!e||x2(e,_,j,L,C))||l.some(nt=>b2(nt.point,nt.anchor,_,j,L,C))||s.some(nt=>gI(nt,_,j,L,C)))continue;const at={index:g,text:D,x:_,y:j,width:L,height:C,datum:b};p.push(at),s.push(at)}n.set(h,p)}}return n}function D2(t,e=0){const i=[];for(let n=0;n<t.length;n++){const s=t[n],{point:{x:r,y:l},label:{text:c}}=s;let{width:h,height:d}=s.label;if(h+=e,d+=e,i.some(p=>gI(p,r,l,h,d)))return!0;i.push({index:n,text:c,x:r,y:l,width:h,height:d,datum:s})}return!1}function A2(t,e,i){let[n,s]=gi(t);n=L2(Math.floor(n),s,e);const r=I2(n,s,e),l=e-1;s=n+l*r;const c=i?[s,n]:[n,s],h=T2(n,r,e);return{domain:c,ticks:h}}function L2(t,e,i){const n=Math.abs(e-t)/(i-1),s=Math.floor(Math.log10(n)),r=Math.pow(10,s);return Math.floor(t/r)*r}function T2(t,e,i){const n=Math.floor(Math.log10(e)),s=e>0&&e<1?Math.abs(n):0,r=Math.pow(10,s),l=[];for(let c=0;c<i;c++){const h=t+e*c;l[c]=Math.round(h*r)/r}return l}function I2(t,e,i){const n=i-1,s=(e-t)/n;return N2(s)}function N2(t){const e=Math.floor(Math.log10(t)),i=Math.pow(10,e),n=t/i*10;return n>0&&n<=1?i/10:n>1&&n<=2?2*i/10:n>1&&n<=5?5*i/10:n>5&&n<=10?10*i/10:n>10&&n<=20?20*i/10:n>20&&n<=40?40*i/10:n>40&&n<=50?50*i/10:n>50&&n<=100?100*i/10:n}function db(){const t=new Map;return e=>{const i=t.get(e);return i?(t.set(e,i+1),`${e}_${i}`):(t.set(e,1),e)}}var mI=class{constructor(t){this.axis=t}estimateTickCount(t,e,i){return JT(jl(this.axis.range),jl(t),e,i,te.defaultTickCount,this.axis.defaultTickMinSpacing)}filterTicks(t,e){const{minSpacing:i,maxSpacing:n}=this.axis.interval,r=!isNaN(i)||!isNaN(n)?Math.ceil(t.length/e):2,l=t.length%r?-1:0;return t.filter((c,h)=>(h+l)%r===0)}generateTicks({domain:t,primaryTickCount:e,visibleRange:i,niceMode:n,parallelFlipRotation:s,regularFlipRotation:r,labelX:l,sideFlag:c}){const{scale:h,label:d,interval:{minSpacing:p,maxSpacing:g}}=this.axis,{parallel:m,rotation:b,fontFamily:v,fontSize:S,fontStyle:A,fontWeight:D}=d,L=e!==void 0,{defaultRotation:C,configuredRotation:N,parallelFlipFlag:k,regularFlipFlag:O}=Cf({rotation:b,parallel:m,regularFlipRotation:r,parallelFlipRotation:s}),_=N+C,j=new gs,{maxTickCount:z}=this.estimateTickCount(i,p,g),q=!(te.is(h)||Es.is(h))||isNaN(z)?10:z;let at=rA(m,N,0,c,O);const nt=r2(m,N,c,k),xt=Ae.toFontString({fontFamily:v,fontSize:S,fontStyle:A,fontWeight:D}),St=Da.getMeasurer({font:xt}),W={fontFamily:v,fontSize:S,fontStyle:A,fontWeight:D,textBaseline:nt,textAlign:at},lt=d.enabled&&d.avoidCollisions,it=({ticks:dt},ct)=>{if(!lt)return!1;const pt=N!==0||ct!==0,J=_+ct,et=a2(d.minSpacing,pt);gs.updateTransformMatrix(j,1,1,J,0,0);const ht=o2(dt,l,j,St);return D2(ht,et)};let ut={tickDomain:[],ticks:[],rawTicks:[],fractionDigits:0,niceDomain:void 0},w=0,U=0,Q=!0,$=!1;for(;!$&&Q&&w<=q;){U=0;for(const dt of this.getTickStrategies({domain:t,niceMode:n,secondaryAxis:L,index:w}))({tickData:ut,index:w,autoRotation:U,terminate:$}=dt({index:w,tickData:ut,textProps:W,terminate:$,primaryTickCount:e,visibleRange:i,get labelOverlap(){return it(ut,U)}}));Q=it(ut,U)}at=rA(m,N,U,c,O);const X=C+N+U;return!L&&ut.rawTicks.length>0&&(e=ut.rawTicks.length),{tickData:ut,primaryTickCount:e,combinedRotation:X,textBaseline:nt,textAlign:at}}getTickStrategies({domain:t,niceMode:e,index:i,secondaryAxis:n}){const{scale:s,label:r,interval:l}=this.axis,{minSpacing:c}=l,h=te.is(s)||Es.is(s),d=r.enabled&&r.avoidCollisions,p=!h&&i!==0&&d,g=r.autoRotate===!0&&r.rotation===void 0,m=[];let b;l.values?b=3:n?b=1:p?b=2:b=0;const v=({index:S,tickData:A,primaryTickCount:D,visibleRange:L,terminate:C})=>this.createTickData(t,e,L,D,b,S,A,C);if(m.push(v),!h&&!isNaN(c)){const S=({index:A,tickData:D,primaryTickCount:L,visibleRange:C,terminate:N})=>this.createTickData(t,e,C,L,2,A,D,N);m.push(S)}if(d&&g){const S=({index:A,tickData:D,labelOverlap:L,terminate:C})=>({index:A,tickData:D,autoRotation:L?fe(qe(r.autoRotateAngle??0)):0,terminate:C});m.push(S)}return m}createTickData(t,e,i,n,s,r,l,c){const{scale:h,interval:d}=this.axis,{step:p,values:g,minSpacing:m,maxSpacing:b}=d,{maxTickCount:v,minTickCount:S,tickCount:A}=this.estimateTickCount(i,m,b),D=te.is(h)||Es.is(h),L=!D||isNaN(v)?10:v,C=k=>D?Math.max(A-k,S):v,N=p==null&&g==null&&C(r)>S&&(D||s===2);for(;r<=L;){const k=l.rawTicks;if(l=this.getTicks({domain:t,niceMode:e,visibleRange:i,tickGenerationType:s,previousTicks:k,minTickCount:S,maxTickCount:v,primaryTickCount:n,tickCount:C(r)}),r++,!N||!Cs(l.rawTicks,k))break}return c||(c=p!=null||g!=null),{tickData:l,index:r,autoRotation:0,terminate:c}}getTicks({domain:t,niceMode:e,visibleRange:i,tickGenerationType:n,previousTicks:s,tickCount:r,minTickCount:l,maxTickCount:c,primaryTickCount:h}){const{axis:d}=this,{label:p,range:g,scale:m,interval:b}=d,v=db(),S={nice:e===0,interval:b.step,tickCount:r,minTickCount:l,maxTickCount:c},A={...S,nice:e===0||e===1};let D=e===0?m.niceDomain(S,t):t,L=D,C;switch(n){case 3:if(L=b.values,C=b.values,te.is(m)){const[B,q]=gi(D.map(Number));C=C.filter(at=>Number(at)>=B&&Number(at)<=q).sort((at,nt)=>Number(at)-Number(nt))}break;case 1:if(te.is(m)){const B=A2(t.map(Number),h??0,d.reverse);C=B.ticks,D=B.domain.map(q=>m.toDomain(q))}else C=m.ticks(A,D,i)??[];break;case 2:C=this.filterTicks(s,r);break;default:C=m.ticks(A,D,i)??[]}const N=C.reduce((B,q)=>Math.max(B,typeof q=="number"?ip(q):0),0),k={domain:L,ticks:C,fractionDigits:N,specifier:p.format},O=m.tickFormatter(k),_=m.domain;m.domain=D;const j=(m.bandwidth??0)/2,z=[];for(let B=0;B<C.length;B++){const q=C[B],at=m.convert(q)+j;if(g.length>0&&!d.inRange(at,.001))continue;const nt=p.enabled?d.formatTick(q,B,N,O):"";z.push({tick:q,tickId:v(nt),tickLabel:nt,translationY:Math.floor(at)})}return m.domain=_,{tickDomain:L,rawTicks:C,fractionDigits:N,ticks:z,niceDomain:D}}},fb=class extends oi{constructor(){super(...arguments),this.autoRotateAngle=335}};M([T(At,{optional:!0})],fb.prototype,"autoRotate",2);M([T(Ut)],fb.prototype,"autoRotateAngle",2);var pb=class yI extends hb{constructor(e,i){super(e,i),this.lineNode=this.axisGroup.appendChild(new wf({name:`${this.id}-Axis-line`,zIndex:1})),this.tempText=new Pl,this.tempCaption=new le,this.tickGenerator=new mI(this),this.generatedTicks=void 0,this.animationManager=e.animationManager,this.animationState=new dh("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()},reset:"empty"},ready:{update:s=>this.animateReadyUpdate(s),resize:()=>this.resetSelectionNodes(),reset:"empty"}}),this.axisGroup.appendChild(this.title.caption.node);let n;this.destroyFns.push(e.layoutManager.addListener("layout:complete",s=>{const r=[s.chart.width,s.chart.height];n!=null&&!Cs(r,n)&&this.animationState.transition("resize"),n=r}),this.title.caption.registerInteraction(this.moduleCtx,"afterend"))}static is(e){return e instanceof yI}resetAnimation(e){e==="initial"&&this.animationState.transition("reset")}get direction(){return this.position==="top"||this.position==="bottom"?"x":"y"}createAxisContext(){return{...super.createAxisContext(),position:this.position}}createLabel(){return new fb}updateDirection(){switch(this.position){case"top":this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1;break}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}calculateLayout(e){return this.updateDirection(),super.calculateLayout(e)}calculateTickLayout(e,i,n,s){const r=this.label.getSideFlag(),{parallelFlipRotation:l,regularFlipRotation:c}=this.calculateRotations(),h=r*(this.getTickSize()+this.label.spacing+this.seriesAreaPadding),d=this.tickGenerator.generateTicks({domain:e,niceMode:i,visibleRange:n,primaryTickCount:s,parallelFlipRotation:l,regularFlipRotation:c,labelX:h,sideFlag:r}),{tickData:p,primaryTickCount:g=s}=d,{ticks:m,tickDomain:b,rawTicks:v,fractionDigits:S,niceDomain:A=e}=p,D=m.map(C=>this.getTickLabelProps(C,d)),L=this.tickBBox(m,D);return this.generatedTicks={ticks:m,labels:D},{ticks:v,tickDomain:b,niceDomain:A,primaryTickCount:g,fractionDigits:S,bbox:L}}update(){var r;this.updateDirection();const e=Array.from(this.tickLabelGroupSelection.nodes(),l=>l.datum.tickId);if(super.update(),this.animatable||this.moduleCtx.animationManager.skipCurrentBatch(),this.generatedTicks){const{ticks:l}=this.generatedTicks;if(this.animationManager.isSkipped())this.resetSelectionNodes();else{const c=l.map(d=>d.tickId),h=Yw(e,c);this.animationState.transition("update",h)}}const{enabled:i,stroke:n,width:s}=this.line;this.lineNode.setProperties({stroke:n,strokeWidth:i?s:0}),this.updateTitle(!((r=this.generatedTicks)!=null&&r.ticks.length))}updatePosition(){super.updatePosition(),this.axisGroup.datum=this.getAxisTransform()}tickBBox(e,i){var g;const n=this.label.getSideFlag(),s=[],{x:r,y1:l,y2:c}=this.getAxisLineCoordinates(),h=new bt(r+Math.min(n*this.seriesAreaPadding,0),l,this.seriesAreaPadding,c-l);if(s.push(h),this.tick.enabled)for(const m of e){const{x1:b,x2:v,y:S}=this.getTickLineCoordinates(m),A=new bt(b,S,v-b,0);s.push(A)}const{tempText:d}=this;if(this.label.enabled)for(const m of i){if(!m.visible)continue;d.setProperties({...m,translationY:Math.round(m.translationY)});const b=d.getBBox();b&&s.push(b)}if((g=this.title)!=null&&g.enabled){const m=bt.merge(s).width;this.setTitleProps(this.tempCaption,{spacing:m});const b=this.tempCaption.node.getBBox();b&&s.push(b)}const p=bt.merge(s);return this.getTransformBox(p)}getTickLabelProps(e,i){const{combinedRotation:n,textBaseline:s,textAlign:r}=i,{range:l}=this.scale,c=e.tickLabel,d=this.label.getSideFlag()*(this.getTickSize()+this.label.spacing+this.seriesAreaPadding),p=c!==""&&c!=null;return{...this.getLabelStyles({value:e.tickLabel}),tickId:e.tickId,rotation:n,rotationCenterX:d,translationY:e.translationY,text:c,textAlign:r,textBaseline:s,visible:p,x:d,y:0,range:l}}getTickLineCoordinates(e){const n=this.label.getSideFlag()*this.getTickSize(),s=Math.min(0,n),r=s+Math.abs(n),l=e.translationY;return{x1:s,x2:r,y:l}}updateSelections(){if(!this.generatedTicks)return;const e=this.getAxisLineCoordinates(),{ticks:i,labels:n}=this.generatedTicks,s=r=>r.tickId;this.lineNode.datum=e,this.gridLineGroupSelection.update(this.gridLength?i:[],void 0,s),this.tickLineGroupSelection.update(i,void 0,s),this.tickLabelGroupSelection.update(n,void 0,s)}updateTitle(e,i){const{title:n,tickLineGroup:s,tickLabelGroup:r,lineNode:l}=this;n.enabled&&!e&&i==null&&(i=Tt.computeChildrenBBox([s,r,l]).width+(r.visible?0:this.seriesAreaPadding)),i??(i=0),this.setTitleProps(n.caption,{spacing:i})}updateLabels(){this.label.enabled&&this.tickLabelGroupSelection.each((e,i)=>{e.fill=i.fill,e.fontFamily=i.fontFamily,e.fontSize=i.fontSize,e.fontStyle=i.fontStyle,e.fontWeight=i.fontWeight,e.text=i.text,e.textBaseline=i.textBaseline,e.textAlign=i.textAlign??"center"})}animateReadyUpdate(e){const{animationManager:i}=this.moduleCtx,n=kf(this),s=uI(n);Ce(this.id,"axis-group",i,[this.axisGroup],s.group),Ce(this.id,"line",i,[this.lineNode],s.line),Ce(this.id,"line-paths",i,[this.gridLineGroupSelection,this.tickLineGroupSelection],s.tick,(r,l)=>l.tickId,e),Ce(this.id,"tick-labels",i,[this.tickLabelGroupSelection],s.label,(r,l)=>l.tickId,e)}resetSelectionNodes(){const e=kf(this);fi([this.axisGroup],hI()),fi([this.gridLineGroupSelection,this.tickLineGroupSelection],cb(e)),fi([this.tickLabelGroupSelection],ub()),fi([this.lineNode],dI())}};M([T(ft,{optional:!0})],pb.prototype,"thickness",2);M([T(W0)],pb.prototype,"position",2);var fh=pb,Kl=class bI extends fh{constructor(e,i=new rh){super(e,i),this.groupPaddingInner=.1,this.includeInvisibleDomains=!0}static is(e){return e instanceof bI}normaliseDataDomain(e){return{domain:e,clipped:!1}}updateScale(){super.updateScale();let{paddingInner:e,paddingOuter:i}=this;if(!Wt(e)||!Wt(i)){const n=this.reduceBandScalePadding();e??(e=n.inner),i??(i=n.outer)}this.scale.paddingInner=e??0,this.scale.paddingOuter=i??0}reduceBandScalePadding(){return this.boundSeries.reduce((e,i)=>{var s;const n=(s=i.getBandScalePadding)==null?void 0:s.call(i);return n&&(e.inner>n.inner&&(e.inner=n.inner),e.outer<n.outer&&(e.outer=n.outer)),e},{inner:1/0,outer:-1/0})}};Kl.className="CategoryAxis";Kl.type="category";M([T(ee)],Kl.prototype,"groupPaddingInner",2);M([T(ee,{optional:!0})],Kl.prototype,"paddingInner",2);M([T(ee,{optional:!0})],Kl.prototype,"paddingOuter",2);var Zl=Kl,xp=class{constructor(){this.destroyFns=[]}destroy(){for(const t of this.destroyFns)t()}},C2=class{constructor(){this.modules=[],this.dependencies=new Map,this.modulesByOptionKey=new Map}register(...t){for(const e of t){this.registerDependencies(e);const i=this.modules.find(n=>e.type===n.type&&("optionsKey"in e&&"optionsKey"in n?e.optionsKey===n.optionsKey:!0)&&e.identifier===n.identifier);if(i){if(e.packageType==="enterprise"&&i.packageType==="community"){const n=this.modules.indexOf(i);this.modules.splice(n,1,e),"optionsKey"in e&&this.modulesByOptionKey.set(e.optionsKey,e)}}else this.modules.push(e),"optionsKey"in e&&this.modulesByOptionKey.set(e.optionsKey,e)}}hasEnterpriseModules(){return this.modules.some(t=>t.packageType==="enterprise")}*byType(...t){const e=new Set,i=this.modules.filter(r=>t.includes(r.type)),n=r=>{const l=this.dependencies.get(r);return(l==null?void 0:l.flatMap(n).concat(l))??[]},s=[];for(const r of i){const l="optionsKey"in r?r.optionsKey:r.contextKey;if(!e.has(l)){for(const c of n(l)){if(e.has(c))continue;const h=this.modulesByOptionKey.get(c);if(!h){s.push(c);continue}t.includes(h.type)&&(yield h,e.add(c))}yield r,e.add(l)}}if(s.length>0)throw new Error(`Could not resolve module dependencies: ${s}`)}registerDependencies(t){if(t.dependencies==null||t.dependencies.length===0)return;const e="optionsKey"in t?t.optionsKey:t.contextKey;this.dependencies.set(e,t.dependencies)}},ks=new C2,gA=class{constructor(){this.queue=[]}await(t=50){return new Promise(e=>{const i=()=>{clearTimeout(s),e(!0)},s=setTimeout(()=>{const r=this.queue.indexOf(i);r<0||(this.queue.splice(r,1),e(!1))},t);this.queue.push(i)})}notify(){this.queue.splice(0).forEach(t=>t())}};function E2(){return new Promise(t=>{setTimeout(t,0)})}function Of(t,e){t&&(e=Qf.normalize(e),e.width==null?t.style.removeProperty("width"):t.style.width=`${e.width}px`,e.height==null?t.style.removeProperty("height"):t.style.height=`${e.height}px`,e.x==null?t.style.removeProperty("left"):t.style.left=`${e.x}px`,e.y==null?t.style.removeProperty("top"):t.style.top=`${e.y}px`)}function xI(t){const e=parseFloat(t.style.width)||t.offsetWidth,i=parseFloat(t.style.height)||t.offsetHeight,n=parseFloat(t.style.left)||t.offsetLeft,s=parseFloat(t.style.top)||t.offsetTop;return{x:n,y:s,width:e,height:i}}function k2(t){var n;if(t.focus({preventScroll:!0}),((n=t.lastChild)==null?void 0:n.textContent)==null)return;const e=ga().createRange();e.setStart(t.lastChild,t.lastChild.textContent.length),e.setEnd(t.lastChild,t.lastChild.textContent.length);const i=pe().getSelection();i==null||i.removeAllRanges(),i==null||i.addRange(e)}var w2=0;function O2(t){return`${t??"ag-charts-element"}-${w2++}`}function vI(){const t=pe("navigator");if("scheduling"in t){const e=t.scheduling;if("isInputPending"in e)return e.isInputPending({includeContinuous:!0})}return!1}function vp(t){return`ag-charts-icon ag-charts-icon-${t}`}var o0="class-instance";function ba(t,e,i){if(ge(e)){if(!ge(t)||t.length!==e.length||e.some((n,s)=>ba(t[s],n)!=null))return e}else if(wi(e)){if(!wi(t))return e;const n={},s=new Set([...Object.keys(t),...Object.keys(e)]);for(const r of s)if(!(t[r]===e[r]||i!=null&&i.includes(r)))if(typeof t[r]==typeof e[r]){const l=ba(t[r],e[r]);l!==null&&(n[r]=l)}else n[r]=e[r];return Object.keys(n).length?n:null}else if(t!==e)return e;return null}function MI(t,e){for(const i of Object.keys(t))if(t[i]!==(e==null?void 0:e[i]))return!1;return!0}function Xe(t,e){return ge(t)?t.map(i=>Xe(i,e)):wi(t)?R2(t,e):t instanceof Map?new Map(Xe(Array.from(t))):gb(t)}function R2(t,e){const i={};for(const n of Object.keys(t))i[n]=e!=null&&e.has(n)?gb(t[n]):Xe(t[n],e);return i}function gb(t){return ge(t)?t.slice(0):wi(t)?{...t}:Ul(t)?new Date(t):Kw(t)?new RegExp(t.source,t.flags):t}function ha(t,e,i,n,s,r){if(ge(t)){r=e(t,n,s,r);let l=0;for(const c of t)r=ha(c,e,i,n==null?void 0:n[l],s,r),l++}else if(wi(t)){r=e(t,n,s,r);for(const l of Object.keys(t)){if(i!=null&&i.has(l))continue;const c=t[l];r=ha(c,e,i,n==null?void 0:n[l],s,r)}}return r}function Nu(t,e,i={}){const{path:n,matcherPath:s=n==null?void 0:n.replace(/(\[[0-9+]+])/i,"[]"),skip:r=[]}=i;if(t==null)throw new Error(`AG Charts - target is uninitialised: ${n??"<root>"}`);if(e==null)return t;if(Os(t))return t.set(e);const l=t,c=vy(t);for(const h of Object.keys(e)){if(B0.has(h))continue;const d=`${s?s+".":""}${h}`;if(r.includes(d))continue;const p=e[h],g=`${n?n+".":""}${h}`,m=l.constructor,b=l[h];try{const v=vy(b),S=vy(p);if(c===o0&&!(h in t)){if(p===void 0)continue;ot.warn(`unable to set [${g}] in ${m==null?void 0:m.name} - property is unknown`);continue}if(v!=null&&S!=null&&S!==v&&(v!==o0||S!=="object")){ot.warn(`unable to set [${g}] in ${m==null?void 0:m.name} - can't apply type of [${S}], allowed types are: [${v}]`);continue}if(Os(b))l[h].set(p);else if(S==="object"){if(b==null){ot.warn(`unable to set [${g}] in ${m==null?void 0:m.name} - property is unknown`);continue}Nu(b,p,{...i,path:g,matcherPath:d})}else l[h]=p}catch(v){ot.warn(`unable to set [${g}] in [${m==null?void 0:m.name}]; nested error is: ${v.message}`)}}return t}function vy(t){return t==null?null:Zw(t)||Ul(t)?"primitive":ge(t)?"array":pi(t)?wi(t)?"object":o0:Lo(t)?"function":"primitive"}function SI(t,e,i){return l0(t,e,t,i)}function l0(t,e,i,n,s=[],r={}){if(ge(t)){mA(t,e,i,s,r);let l=0;for(const c of t)l0(c,e,i,n,[...s,`${l}`],r),l++}else if(wi(t)){mA(t,e,i,s,r);for(const l of Object.keys(t)){if(n!=null&&n.has(l))continue;const c=t[l];l0(c,e,i,n,[...s,l],r)}}return r}function mA(t,e,i,n,s){if(ge(t))for(let r=0;r<t.length;r++)t[r]=yA(t[r],e,i,[...n,`${r}`],s);else for(const[r,l]of Object.entries(t))t[r]=yA(l,e,i,[...n,r],s)}function yA(t,e,i,n,s){const{operation:r,values:l}=mb(t);return r?(s[n.join(".")]=t,AI(r,l,e,i,n,new Set)):t}var DI=(t=>(t.Ref="$ref",t.Path="$path",t.If="$if",t.Eq="$eq",t.Not="$not",t.Or="$or",t.And="$and",t.Mul="$mul",t.Round="$round",t.Rem="$rem",t.Mix="$mix",t.ForegroundBackgroundMix="$foregroundBackgroundMix",t.ForegroundBackgroundAccentMix="$foregroundBackgroundAccentMix",t))(DI||{}),j2=new Set(Object.values(DI));function mb(t){if(!wi(t))return{};const[e,...i]=Object.keys(t);return i.length!==0||!j2.has(e)?{}:{operation:e,values:t[e]}}function AI(t,e,i,n,s,r){return ge(e)&&(e=e.map(l=>{const{operation:c,values:h}=mb(l);return c?AI(c,h,i,n,s,r):l})),LI[t](e,i,n,s,r)}function Qd(t){return Vn(t)&&t>=0&&t<=1}var LI={$ref:(t,e,i,n,s)=>{if(rn(t)&&t in e){const{operation:r,values:l}=mb(e[t]);if(r!=="$ref")return e[t];if(s!=null&&s.has(l)){ot.warnOnce(`\`$ref\` json operation failed on [${String(t)}] at [${n.join(".")}], circular reference detected with [${[...s].join(", ")}].`);return}return s==null||s.add(l),LI.$ref(l,e,i,n,s)}ot.warnOnce(`\`$ref\` json operation failed on [${String(t)}] at [${n.join(".")}], expecting one of [${Object.keys(e).join(", ")}].`)},$path:(t,e,i,n)=>{if(!rn(t)){ot.warnOnce(`\`$path\` json operation failed on [${String(t)}] at [${n.join(".")}], expecting a string.`);return}const s=t.split("/"),r=[...n];for(const c of s)c===".."?(r.pop(),r.pop()):c==="."?r.pop():r.push(c);let l=i;for(const c of r){if(!(c in l)){ot.warnOnce(`\`$path\` json operation failed on [${String(t)}] at [${n.join(".")}], could not find path in object.`);return}l=l[c]}return l},$if:([t,e,i])=>t?e:i,$eq:([t,e])=>t===e,$not:([t,e])=>t!==e,$or:([t,e])=>t||e,$and:([t,e])=>t&&e,$mul:([t,e],i,n,s)=>{if(typeof t=="number"&&typeof e=="number")return t*e;ot.warnOnce(`\`$mul\` json operation failed on [${String(t)}] and [${String(e)}] at [${s.join(".")}], expecting two numbers.`)},$round:([t],e,i,n)=>{if(typeof t=="number")return Math.round(t);ot.warnOnce(`\`$round\` json operation failed on [${String(t)}] at [${n.join(".")}], expecting a number.`)},$rem:([t],e)=>{if(typeof t=="number")return Math.round(t*e.fontSize)},$mix:([t,e,i],n,s,r)=>{if(typeof t=="string"&&typeof e=="string"&&Qd(i))try{return Ne.mix(Ne.fromString(t),Ne.fromString(e),i).toString()}catch{}ot.warnOnce(`\`$mix\` json operation failed on [${String(t)}, ${String(e)}, ${String(i)}] at [${r.join(".")}], expecting two colors and a number between 0 and 1.`)},$foregroundBackgroundMix:([t],e,i,n)=>{if(Qd(t))return Ne.mix(Ne.fromString(e.foregroundColor),Ne.fromString(e.backgroundColor),t).toString();ot.warnOnce(`\`$foregroundBackgroundMix\` json operation failed on [${String(t)}}}] at [${n.join(".")}], expecting a number between 0 and 1.`)},$foregroundBackgroundAccentMix:([t,e],i,n,s)=>{if(Qd(t)&&Qd(e))return Ne.mix(Ne.mix(Ne.fromString(i.foregroundColor),Ne.fromString(i.backgroundColor),t),Ne.fromString(i.accentColor),e).toString();ot.warnOnce(`\`$foregroundBackgroundAccentMix\` json operation failed on [${String(t)}, ${String(e)}}] at [${s.join(".")}], expecting two numbers between 0 and 1.`)}},_2=class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(t){return new Promise(e=>{this.acquireQueue.push([t,e]),this.available&&this.dispatchNext().catch(i=>ot.errorOnce(i))})}async acquireImmediately(t){return this.available?(await this.acquire(t),!0):!1}async waitForClearAcquireQueue(){return this.acquire(()=>Promise.resolve(void 0))}async dispatchNext(){this.available=!1;let[t,e]=this.acquireQueue.shift()??[];for(;t;){try{await t(),e==null||e()}catch(i){ot.error("mutex callback error",i),e==null||e()}[t,e]=this.acquireQueue.shift()??[]}this.available=!0}},TI=class{constructor(){this.eventListeners=new Map}addEventListener(t,e){if(typeof e!="function")throw new Error("AG Charts - listener must be a Function");const i=this.eventListeners.get(t);i?i.add(e):this.eventListeners.set(t,new Set([e]))}removeEventListener(t,e){var i;(i=this.eventListeners.get(t))==null||i.delete(e),this.eventListeners.size===0&&this.eventListeners.delete(t)}hasEventListener(t){return this.eventListeners.has(t)}clearEventListeners(){this.eventListeners.clear()}fireEvent(t){var e;(e=this.eventListeners.get(t.type))==null||e.forEach(i=>i(t))}},Sr=class extends Ct{constructor(t=0,e=t,i=t,n=e){super(),this.top=t,this.right=e,this.bottom=i,this.left=n}};M([T(ft)],Sr.prototype,"top",2);M([T(ft)],Sr.prototype,"right",2);M([T(ft)],Sr.prototype,"bottom",2);M([T(ft)],Sr.prototype,"left",2);function z2(t){return II((e,i)=>pe().requestAnimationFrame(e),t)}function P2(t){return II((e,i=0)=>{i===0?queueMicrotask(e):setTimeout(e,i)},t)}function II(t,e){let i=0,n=!1,s,r;const l=()=>n,c=()=>{n=!1,r==null||r(),r=void 0,s=void 0,i>0&&t(h)},h=()=>{const d=i;i=0,n=!0;const p=e({count:d});if(!p){c();return}p.then(c,c)};return{schedule(d){i===0&&!l()&&t(h,d),i++},async await(){if(l())for(s==null&&(s=new Promise(d=>{r=d}));l();)await s}}}function Qr(t){return t==="true"}function B2(t){return Number(t)}function rs(t){return t}var My={role:rs,"aria-checked":Qr,"aria-controls":rs,"aria-describedby":rs,"aria-disabled":Qr,"aria-expanded":Qr,"aria-haspopup":Qr,"aria-hidden":Qr,"aria-label":rs,"aria-labelledby":rs,"aria-live":rs,"aria-orientation":rs,"aria-selected":Qr,"data-preventdefault":Qr,class:rs,id:rs,tabindex:B2,title:rs,placeholder:rs};function ae(t,e,i){i==null||i===""||i===""?t==null||t.removeAttribute(e):t==null||t.setAttribute(e,i.toString())}function Mo(t,e){if(e!=null)for(const[i,n]of Object.entries(e))i!=="class"&&ae(t,i,n)}function Mp(t,e,i){var s;if(!(t instanceof HTMLElement))return;const n=t.getAttribute(e);return n===null?i:((s=My[e])==null?void 0:s.call(My,n))??void 0}function hs(t,e,i){t!=null&&(i==null?t.style.removeProperty(e):t.style.setProperty(e,i.toString()))}function F2(t,e){for(const[i,n]of Object.entries(e))hs(t,i,n)}var yb=["blur","change","contextmenu","focus","keydown","keyup","click","dblclick","mouseenter","mousemove","mouseleave","wheel","touchstart","touchmove","touchend","touchcancel"];function yl(t,e,i){const{offsetX:n,offsetY:s,clientX:r,clientY:l}=e,{currentX:c,currentY:h}=da.calcCurrentXY(i,e);return{type:t,offsetX:n,offsetY:s,clientX:r,clientY:l,currentX:c,currentY:h,sourceEvent:e}}function Jd(t,e,i){return{type:t,sourceEvent:e}}var G2={blur:t=>({type:"blur",sourceEvent:t}),change:t=>({type:"change",sourceEvent:t}),contextmenu:(t,e)=>yl("contextmenu",t,e),focus:t=>({type:"focus",sourceEvent:t}),keydown:t=>({type:"keydown",sourceEvent:t}),keyup:t=>({type:"keyup",sourceEvent:t}),click:(t,e)=>yl("click",t,e),dblclick:(t,e)=>yl("dblclick",t,e),mouseenter:(t,e)=>yl("mouseenter",t,e),mousemove:(t,e)=>yl("mousemove",t,e),mouseleave:(t,e)=>yl("mouseleave",t,e),wheel:t=>{const{offsetX:e,offsetY:i,clientX:n,clientY:s}=t,r=t.deltaMode===0?.01:1,l=t.deltaX*r,c=t.deltaY*r;return{type:"wheel",offsetX:e,offsetY:i,clientX:n,clientY:s,deltaX:l,deltaY:c,sourceEvent:t}},touchstart:(t,e)=>Jd("touchstart",t),touchmove:(t,e)=>Jd("touchmove",t),touchend:(t,e)=>Jd("touchend",t),touchcancel:(t,e)=>Jd("touchcancel",t)},da=class{static alloc(t,e,i){return G2[t](e,i)}static isHTMLEvent(t){return yb.includes(t)}static calcCurrentXY(t,e){const i=t.getBoundingClientRect();return{currentX:e.clientX-i.x,currentY:e.clientY-i.y}}},U2=class{constructor(){this.widgetListeners={},this.sourceListeners={}}initSourceHandler(t,e){this.sourceListeners??(this.sourceListeners={}),this.sourceListeners[t]=e}lazyGetWidgetListeners(t,e){var i;if(!(t in(this.sourceListeners??{}))){const n=r=>{var c;const l=da.alloc(t,r,e.getElement());for(const h of((c=this.widgetListeners)==null?void 0:c[t])??[])h(l,e)},s={};t.startsWith("touch")&&(s.passive=!1),this.initSourceHandler(t,n),e.getElement().addEventListener(t,n,s)}return this.widgetListeners??(this.widgetListeners={}),(i=this.widgetListeners)[t]??(i[t]=[]),this.widgetListeners[t]}add(t,e,i){this.lazyGetWidgetListeners(t,e).push(i)}remove(t,e,i){const n=this.lazyGetWidgetListeners(t,e),s=n.indexOf(i);s>-1&&n.splice(s,1)}destroy(t){for(const[e,i]of Object.entries(this.sourceListeners??{})){const n=e;t.getElement().removeEventListener(n,i)}this.widgetListeners=void 0,this.sourceListeners=void 0}},Y2=class{constructor(t,e,i,n){this.glob=t,this.self=e,this.window=pe(),this.mousegeneral=h=>{h.stopPropagation(),h.stopImmediatePropagation()},this.mousemove=h=>{var d;h.stopPropagation(),h.stopImmediatePropagation(),(d=this.glob.globalMouseDragCallbacks)==null||d.mousemove(h)},this.mouseup=h=>{var d;h.button===0&&(h.stopPropagation(),h.stopImmediatePropagation(),(d=this.glob.globalMouseDragCallbacks)==null||d.mouseup(h),this.destroy())};const{window:s,mousegeneral:r,mousemove:l,mouseup:c}=this;s.addEventListener("mousedown",r,{capture:!0}),s.addEventListener("mouseenter",r,{capture:!0}),s.addEventListener("mouseleave",r,{capture:!0}),s.addEventListener("mouseout",r,{capture:!0}),s.addEventListener("mouseover",r,{capture:!0}),s.addEventListener("mousemove",l,{capture:!0}),s.addEventListener("mouseup",c,{capture:!0}),e.mouseDragger=this,t.globalMouseDragCallbacks=i,t.globalMouseDragCallbacks.mousedown(n)}destroy(){const{window:t,mousegeneral:e,mousemove:i,mouseup:n}=this;t.removeEventListener("mousedown",e,{capture:!0}),t.removeEventListener("mouseenter",e,{capture:!0}),t.removeEventListener("mouseleave",e,{capture:!0}),t.removeEventListener("mouseout",e,{capture:!0}),t.removeEventListener("mouseover",e,{capture:!0}),t.removeEventListener("mousemove",i,{capture:!0}),t.removeEventListener("mouseup",n,{capture:!0}),this.glob.globalMouseDragCallbacks=void 0,this.self.mouseDragger=void 0}};function V2(t,e,i,n){if(t.globalMouseDragCallbacks==null)return new Y2(t,e,i,n)}var H2=500,W2=100;function K2(t,e){const i=t.clientX-e.clientX,n=t.clientY-e.clientY;return i*i+n*n}var c0=!1,Z2=class{constructor(t,e,i,n,s){this.glob=t,this.self=e,this.initialTouch=n,this.target=s,this.longTapInterrupted=!1,this.longtap=()=>{const{target:c,initialTouch:h}=this;if(!this.longTapInterrupted){c.dispatchEvent(new TouchEvent("touchcancel",{touches:[h],bubbles:!0})),c0=!0;const d=v=>{v.preventDefault()},p=v=>{c0=!1,v.preventDefault(),c.removeEventListener("touchmove",d),c.removeEventListener("touchend",p),c.removeEventListener("touchcancel",p)};c.addEventListener("touchmove",d,{passive:!1}),c.addEventListener("touchend",p,{passive:!1}),c.addEventListener("touchcancel",p,{passive:!1});const{clientX:g,clientY:m}=h,b=new PointerEvent("contextmenu",{bubbles:!0,cancelable:!0,view:pe(),clientX:g,clientY:m,pointerType:"touch"});c.dispatchEvent(b)}},this.touchmove=c=>{var m;const{glob:h,self:d,initialTouch:p}=this,g=this.findInitialFinger(c.targetTouches);g!=null&&(this.longTapInterrupted=this.longTapInterrupted||K2(p,g)>W2,d.dragTouchEnabled&&g!=null&&((m=h.globalTouchDragCallbacks)==null||m.touchmove(c,g)))},this.touchend=c=>{var d;this.longTapInterrupted=!0;const h=this.findInitialFinger(c.changedTouches,c.touches);h!=null&&((d=this.glob.globalTouchDragCallbacks)==null||d.touchend(c,h)),this.destroy()},this.longtapTimer=setTimeout(this.longtap,H2);const{touchmove:r,touchend:l}=this;s.addEventListener("touchmove",r,{passive:!1}),s.addEventListener("touchstart",l,{passive:!1}),s.addEventListener("touchend",l,{passive:!1}),s.addEventListener("touchcancel",l,{passive:!1}),e.touchDragger=this,t.globalTouchDragCallbacks=i}destroy(){const{longtapTimer:t,touchmove:e,touchend:i}=this;clearTimeout(t),this.target.removeEventListener("touchstart",i),this.target.removeEventListener("touchmove",e),this.target.removeEventListener("touchend",i),this.target.removeEventListener("touchcancel",i),this.glob.globalTouchDragCallbacks=void 0,this.self.touchDragger=void 0}findInitialFinger(...t){const e=t.map(i=>Array.from(i)).flat();return Array.from(e).find(i=>i.identifier===this.initialTouch.identifier)}};function X2(t,e,i,n,s){if(!(t.globalTouchDragCallbacks!=null||c0))return new Z2(t,e,i,n,s)}function Sy(t,e,i,n){const{currentX:s,currentY:r}=da.calcCurrentXY(t.getElement(),n),l=n.pageX-i.pageX,c=n.pageY-i.pageY;return{type:e,device:"mouse",offsetX:i.offsetX+l,offsetY:i.offsetY+c,clientX:n.clientX,clientY:n.clientY,currentX:s,currentY:r,originDeltaX:l,originDeltaY:c,sourceEvent:n}}function $2(t,{pageX:e,pageY:i}){const{x:n,y:s}=t.getElement().getBoundingClientRect();return{offsetX:e-n,offsetY:i-s}}function Dy(t,e,i,n,s){const{currentX:r,currentY:l}=da.calcCurrentXY(t.getElement(),s),c=s.pageX-i.pageX,h=s.pageY-i.pageY;return{type:e,device:"touch",offsetX:i.offsetX+c,offsetY:i.offsetY+h,clientX:s.clientX,clientY:s.clientY,currentX:r,currentY:l,originDeltaX:c,originDeltaY:h,sourceEvent:n}}var bA={},xA=class{constructor(t){this.dispatchCallback=t,this.dragTouchEnabled=!0}destroy(){var t,e,i;(t=this.dragTriggerRemover)==null||t.call(this),this.dragTriggerRemover=void 0,this.dragStartListeners=void 0,this.dragMoveListeners=void 0,this.dragEndListeners=void 0,(e=this.mouseDragger)==null||e.destroy(),(i=this.touchDragger)==null||i.destroy()}add(t,e,i){switch(t){case"drag-start":{this.dragStartListeners??(this.dragStartListeners=[]),this.dragStartListeners.push(i),this.registerDragTrigger(e);break}case"drag-move":{this.dragMoveListeners??(this.dragMoveListeners=[]),this.dragMoveListeners.push(i),this.registerDragTrigger(e);break}case"drag-end":{this.dragEndListeners??(this.dragEndListeners=[]),this.dragEndListeners.push(i),this.registerDragTrigger(e);break}}}remove(t,e,i){switch(t){case"drag-start":return this.removeHandler(this.dragStartListeners,i);case"drag-move":return this.removeHandler(this.dragMoveListeners,i);case"drag-end":return this.removeHandler(this.dragEndListeners,i)}}removeHandler(t,e){const i=t==null?void 0:t.indexOf(e);i!==void 0&&(t==null||t.splice(i,1))}registerDragTrigger(t){if(this.dragTriggerRemover==null){const e=n=>this.triggerMouseDrag(t,n),i=n=>this.triggerTouchDrag(t,n);t.getElement().addEventListener("mousedown",e),t.getElement().addEventListener("touchstart",i,{passive:!1}),this.dragTriggerRemover=()=>{t.getElement().removeEventListener("mousedown",e),t.getElement().removeEventListener("touchstart",i)}}}triggerMouseDrag(t,e){e.button===0&&this.startMouseDrag(t,e)}startMouseDrag(t,e){const i={pageX:NaN,pageY:NaN,offsetX:NaN,offsetY:NaN};Qy(["pageX","pageY","offsetX","offsetY"],i,e);const n={mousedown:s=>{const r=Sy(t,"drag-start",i,s);this.dispatch("drag-start",t,r)},mousemove:s=>{const r=Sy(t,"drag-move",i,s);this.dispatch("drag-move",t,r)},mouseup:s=>{const r=Sy(t,"drag-end",i,s);this.dispatch("drag-end",t,r),this.endDrag(t,r)}};this.mouseDragger=V2(bA,this,n,e)}endDrag(t,{sourceEvent:e,clientX:i,clientY:n}){var l;const s=t.getElement(),r=s.getBoundingClientRect();Qf.containsPoint(r,i,n)||(s.dispatchEvent(new MouseEvent("mouseleave",e)),(l=e.target)==null||l.dispatchEvent(new MouseEvent("mouseenter",e)))}triggerTouchDrag(t,e){const i=e.targetTouches.item(0);e.targetTouches.length===1&&i!=null&&this.startOneFingerTouch(t,e,i)}startOneFingerTouch(t,e,i){const n={pageX:NaN,pageY:NaN,...$2(t,i)};Qy(["pageX","pageY"],n,i);const s={touchmove:(c,h)=>{const d=Dy(t,"drag-move",n,c,h);this.dispatch("drag-move",t,d)},touchend:(c,h)=>{const d=Dy(t,"drag-end",n,c,h);this.dispatch("drag-end",t,d)}},r=t.getElement();this.touchDragger=X2(bA,this,s,i,r);const l=Dy(t,"drag-start",n,e,i);this.dispatch("drag-start",t,l)}dispatch(t,e,i){var n,s,r;switch(t){case"drag-start":(n=this.dragStartListeners)==null||n.forEach(l=>l(i,e));break;case"drag-move":(s=this.dragMoveListeners)==null||s.forEach(l=>l(i,e));break;case"drag-end":(r=this.dragEndListeners)==null||r.forEach(l=>l(i,e));break}this.dispatchCallback(t,i)}},q2=class{constructor(t){this.elem=t}setBounds(t){Of(this.elemContainer??this.elem,t)}getBounds(){return xI(this.elemContainer??this.elem)}static setElementContainer(t,e){const i=t.getBounds();Of(e,i),F2(t.elem,{width:"100%",height:"100%"}),t.elem.remove(),t.elemContainer=e,t.elemContainer.replaceChildren(t.elem)}},zs=class extends q2{constructor(t){super(t),this.elem=t,this.index=NaN,this.children=[]}getElement(){return this.elem}getBoundingClientRect(){return this.elem.getBoundingClientRect()}get clientWidth(){return this.elem.clientWidth}get clientHeight(){return this.elem.clientHeight}destroy(){var t,e,i,n;(t=this.parent)==null||t.removeChild(this),this.children.forEach(s=>{s.parent=void 0,s.destroy()}),this.children.length=0,this.destructor(),this.elem.remove(),(e=this.elemContainer)==null||e.remove(),(i=this.internalListener)==null||i.destroy(),(n=this.htmlListener)==null||n.destroy(this)}setHidden(t){hs(this.elem,"display",t?"none":void 0)}isHidden(){var t,e;return((e=(t=pe())==null?void 0:t.getComputedStyle)==null?void 0:e.call(t,this.elem).display)==="none"}setCursor(t){hs(this.elem,"cursor",t)}setTextContent(t){this.elem.textContent=t??null}setAriaDescribedBy(t){ae(this.elem,"aria-describedby",t)}setAriaHidden(t){ae(this.elem,"aria-hidden",t)}setAriaLabel(t){ae(this.elem,"aria-label",t)}setInnerHTML(t){this.elem.innerHTML=t}isDisabled(){return Mp(this.elem,"aria-disabled",!1)}parseFloat(t){return t===""?0:parseFloat(t)}cssLeft(){return this.parseFloat(this.elem.style.left)}cssTop(){return this.parseFloat(this.elem.style.top)}cssWidth(){return this.parseFloat(this.elem.style.width)}cssHeight(){return this.parseFloat(this.elem.style.height)}focus(){this.elem.focus()}setPreventsDefault(t){ae(this.elem,"data-preventdefault",t)}setTabIndex(t){ae(this.elem,"tabindex",t)}addChild(t){this.addChildToDOM(t,this.getBefore(t)),this.children.push(t),t.index=this.children.length-1,t.parent=this,this.onChildAdded(t)}removeChild(t){const e=this.children.findIndex(i=>i===t);this.children.splice(e,1),this.removeChildFromDOM(t),this.onChildRemoved(t)}moveChild(t,e){t.domIndex!==e&&(t.domIndex=e,this.removeChildFromDOM(t),this.addChildToDOM(t,this.getBefore(t)))}addClass(...t){this.elem.classList.add(...t)}removeClass(...t){this.elem.classList.remove(...t)}toggleClass(t,e){this.elem.classList.toggle(t,e)}appendOrInsert(t,e){e?e.getElement().insertAdjacentElement("beforebegin",t):this.elem.appendChild(t)}addChildToDOM(t,e){this.appendOrInsert(t.getElement(),e)}removeChildFromDOM(t){this.elem.removeChild(t.getElement())}onChildAdded(t){}onChildRemoved(t){}getBefore({domIndex:t}){if(t!==void 0)return this.children.filter(e=>e.domIndex!==void 0&&e.domIndex>t).reduce((e,i)=>!e||i.domIndex<e.domIndex?i:e,void 0)}addListener(t,e){return da.isHTMLEvent(t)?(this.htmlListener??(this.htmlListener=new U2),this.htmlListener.add(t,this,e)):(this.internalListener??(this.internalListener=new xA(this.onDispatch.bind(this))),this.internalListener.add(t,this,e)),()=>this.removeListener(t,e)}removeListener(t,e){var i,n;da.isHTMLEvent(t)?(i=this.htmlListener)==null||i.remove(t,this,e):this.htmlListener!=null&&((n=this.internalListener)==null||n.remove(t,this,e))}setDragTouchEnabled(t){this.internalListener??(this.internalListener=new xA(this.onDispatch.bind(this))),this.internalListener.dragTouchEnabled=t}onDispatch(t,e){if(!e.sourceEvent.bubbles)return;let{parent:i}=this;for(;i!=null;){const{internalListener:n}=i;if(n!=null){const s={...e,...da.calcCurrentXY(i.getElement(),e)};n.dispatch(t,i,s)}i=i.parent}}static addWindowEvent(t,e){const i=n=>{n.persisted||e()};return pe().addEventListener("pagehide",i),()=>pe().removeEventListener("pagehide",i)}},bb=(t=>(t[t.Caption=0]="Caption",t[t.Legend=1]="Legend",t[t.ToolbarLeft=2]="ToolbarLeft",t[t.ToolbarBottom=3]="ToolbarBottom",t[t.Navigator=4]="Navigator",t[t.Overlay=5]="Overlay",t))(bb||{}),NI=class{constructor(){this.events=new R0,this.elements=new Map}addListener(t,e){return this.events.on(t,e)}registerElement(t,e){return this.elements.has(t)?this.elements.get(t).add(e):this.elements.set(t,new Set([e])),()=>{var i;return(i=this.elements.get(t))==null?void 0:i.delete(e)}}createContext(t,e){var n;const i=new Q2(t,e);for(const s of Object.values(bb))typeof s=="number"&&((n=this.elements.get(s))==null||n.forEach(r=>r(i)));return i}emitLayoutComplete(t,e){const i="layout:complete",{width:n,height:s}=t;this.events.emit(i,{type:i,axes:e.axes??[],chart:{width:n,height:s},clipSeries:e.clipSeries??!1,series:e.series})}},Q2=class{constructor(t,e){this.width=t,this.height=e,this.layoutBox=new bt(0,0,t,e)}},Sp=class{constructor(){this.title=new le,this.subtitle=new le,this.footnote=new le}positionCaptions(t){const{title:e,subtitle:i,footnote:n}=this,s=t.layoutBox.height/10;if(e.enabled){const{spacing:r=i.enabled?le.SMALL_PADDING:le.LARGE_PADDING}=e;this.positionCaption("top",e,t.layoutBox,s),this.shrinkLayoutByCaption("top",e,t.layoutBox,r)}i.enabled&&(this.positionCaption("top",i,t.layoutBox,s),this.shrinkLayoutByCaption("top",i,t.layoutBox,i.spacing)),n.enabled&&(this.positionCaption("bottom",n,t.layoutBox,s),this.shrinkLayoutByCaption("bottom",n,t.layoutBox,n.spacing))}positionAbsoluteCaptions(t){const{title:e,subtitle:i,footnote:n}=this,{rect:s}=t.series;for(const r of[e,i,n])if(r.layoutStyle==="overlay"){if(r.textAlign==="left")r.node.x=s.x+r.padding;else if(r.textAlign==="right"){const l=r.node.getBBox();r.node.x=s.x+s.width-l.width-r.padding}}}computeX(t,e){return t==="left"?e.x:t==="right"?e.x+e.width:e.x+e.width/2}positionCaption(t,e,i,n){const s=Math.max(Ae.getLineHeight(e.fontSize),n);e.node.x=this.computeX(e.textAlign,i)+e.padding,e.node.y=i.y+(t==="top"?0:i.height)+e.padding,e.node.textBaseline=t,e.computeTextWrap(i.width,s)}shrinkLayoutByCaption(t,e,i,n=0){if(e.layoutStyle==="block"){const s=e.node.getBBox();i.shrink(Math.ceil(t==="top"?s.y-i.y+s.height+n:i.y+i.height-s.y+n),t)}}};M([T(mt)],Sp.prototype,"title",2);M([T(mt)],Sp.prototype,"subtitle",2);M([T(mt)],Sp.prototype,"footnote",2);var J2=["candlestick","hollow-candlestick","ohlc","line","step-line","hlc","high-low"],tj=class{constructor(t){this.chartService=t,this.mementoOriginatorKey="chartType"}createMemento(){var e,i;let t=(i=(e=this.chartService.publicApi)==null?void 0:e.getOptions())==null?void 0:i.chartType;return t==null&&(t="candlestick"),t}guardMemento(t){return t==null||J2.includes(t)}restoreMemento(t,e,i){var s;if(i==null)return;const n={chartType:i};(s=this.chartService.publicApi)==null||s.updateDelta(n).catch(r=>ot.error("error restoring state",r))}},CI=class{constructor(){this.destroyFns=[]}destroy(){this.destroyFns.forEach(t=>t()),this.destroyFns.length=0}setFns(t){this.destroy(),this.destroyFns=t}push(...t){this.destroyFns.push(...t)}},Rf="11.1.1",vA=Symbol("previous-memento-not-found"),ej=class{constructor(t){this.history=[],this.historyIndex=-1,this.originators=new Map,this.clearState=new Map,this.maxHistoryLength=100,this.debug=ce.create(!0,"history"),this.destroyFns=new CI,this.destroyFns.setFns([t.addListener("series-undo",this.undo.bind(this)),t.addListener("series-redo",this.redo.bind(this))])}destroy(){this.destroyFns.destroy()}addMementoOriginator(t){this.originators.set(t.mementoOriginatorKey,t),this.clearState.set(t.mementoOriginatorKey,t.createMemento()),this.debugEvent("History add originator:",t.mementoOriginatorKey)}clear(){this.debug("History clear:",Object.keys(this.originators)),this.history=[],this.historyIndex=-1;for(const[t,e]of this.originators.entries())this.clearState.set(t,e.createMemento())}record(t,...e){this.historyIndex<this.history.length-1&&(this.history=this.history.slice(0,this.historyIndex+1)),this.history.length>this.maxHistoryLength&&(this.history=this.history.slice(-this.maxHistoryLength));const i=new Map;for(const n of e){if(!this.originators.has(n.mementoOriginatorKey))throw new Error(`Originator [${n.mementoOriginatorKey}] has not been added to the HistoryManager.`);i.set(n.mementoOriginatorKey,n.createMemento())}this.history.push({label:t,mementos:i}),this.historyIndex=this.history.length-1,this.debugEvent(`History record: [${t}]`)}undo(){const t=this.history[this.historyIndex];if(t){for(const e of t.mementos.keys()){const i=this.findPreviousMemento(e);if(i===vA)throw new Error(`Could not find previous memento for [${e}].`);this.restoreMemento(e,i)}this.historyIndex-=1,this.debugEvent(`History undo: [${t.label}]`)}}redo(){const t=this.history[this.historyIndex+1];if(t){for(const[e,i]of t.mementos.entries())this.restoreMemento(e,i);this.historyIndex+=1,this.debugEvent(`History redo: [${t.label}]`)}}findPreviousMemento(t){for(let e=this.historyIndex-1;e>=0;e--)if(this.history[e].mementos.has(t))return this.history[e].mementos.get(t);return this.clearState.has(t)?this.clearState.get(t):vA}restoreMemento(t,e){var i;(i=this.originators.get(t))==null||i.restoreMemento(Rf,Rf,e)}debugEvent(...t){this.debug(...t,this.history.map((e,i)=>i===this.historyIndex?`** ${e.label} **`:e.label))}},EI=class u0{constructor(e){this.version=e.split("-")[0]}save(...e){const i={version:this.version};for(const n of Object.values(e))i[n.mementoOriginatorKey]=this.encode(n,n.createMemento());return i}restore(e,...i){if(typeof e!="object"){ot.warnOnce(`Could not restore data of type [${typeof e}], expecting an object, ignoring.`);return}if(e==null){ot.warnOnce("Could not restore data of type [null], expecting an object, ignoring.");return}if(!("version"in e)||typeof e.version!="string"){ot.warnOnce("Could not restore data, missing [version] string in object, ignoring.");return}for(const n of i){const s=this.decode(n,e[n.mementoOriginatorKey]),r=[];if(!n.guardMemento(s,r)){const l=r.length>0?`

${r.join(`

`)}

`:"";ot.warnOnce(`Could not restore [${n.mementoOriginatorKey}] data, value was invalid, ignoring.${l}`,s);return}n.restoreMemento(this.version,e.version,s)}}encode(e,i){try{return JSON.parse(JSON.stringify(i,u0.encodeTypes))}catch(n){throw new Error(`Failed to encode [${e.mementoOriginatorKey}] value [${n}].`,{cause:n})}}decode(e,i){if(i==null)return i;try{return JSON.parse(JSON.stringify(i),u0.decodeTypes)}catch(n){throw new Error(`Failed to decode [${e.mementoOriginatorKey}] value [${n}].`,{cause:n})}}static encodeTypes(e,i){return Ul(this[e])?{__type:"date",value:this[e].toISOString()}:i}static decodeTypes(e,i){return pi(this[e])&&"__type"in this[e]&&this[e].__type==="date"?new Date(this[e].value):i}},ij=class{constructor(){this.caretaker=new EI(Rf),this.state=new Map}setState(t,e){vo(this.state.get(t.mementoOriginatorKey),e)||this.setStateAndRestore(t,e)}setStateAndRestore(t,e){this.state.set(t.mementoOriginatorKey,e),this.restoreState(t)}restoreState(t){const{caretaker:e,state:i}=this;if(!i.has(t.mementoOriginatorKey))return;const n=i.get(t.mementoOriginatorKey);e.restore({version:e.version,[t.mementoOriginatorKey]:n},t)}},nj=`.ag-charts-wrapper,.ag-charts-wrapper:after,.ag-charts-wrapper:before,.ag-charts-wrapper *,.ag-charts-wrapper *:after,.ag-charts-wrapper *:before{box-sizing:border-box}.ag-charts-wrapper{--align-items: center;--justify-content: center;position:relative;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.ag-charts-wrapper--safe-horizontal{--justify-content: flex-start}.ag-charts-wrapper--safe-vertical{--align-items: flex-start}.ag-charts-tab-guard{width:0%;height:0%;position:absolute;pointer-events:none}.ag-charts-canvas-center{width:100%;height:100%;position:absolute;touch-action:auto;pointer-events:auto;display:flex;align-items:var(--align-items);justify-content:var(--justify-content)}.ag-charts-canvas-container,.ag-charts-canvas{position:relative;user-select:none;-webkit-user-select:none}.ag-charts-canvas-container>*,.ag-charts-canvas>*{display:block;pointer-events:none}.ag-charts-series-area{outline:none;pointer-events:auto;position:absolute}.ag-charts-swapchain{outline:none;opacity:0;pointer-events:none;position:absolute;width:100%;height:100%}.ag-charts-swapchain:focus-visible{opacity:1}.ag-charts-canvas-proxy,.ag-charts-canvas-overlay{inset:0;pointer-events:none;position:absolute;user-select:none;-webkit-user-select:none}.ag-charts-canvas-overlay>*{position:absolute;pointer-events:auto}.ag-charts-theme-default,.ag-charts-theme-default-dark{--ag-charts-accent-color: #2196f3;--ag-charts-background-color: #fff;--ag-charts-border-color: #dddddd;--ag-charts-foreground-color: #464646;--ag-charts-font-family: Verdana, sans-serif;--ag-charts-font-size: 12px;--ag-charts-font-weight: 400;--ag-charts-padding: 20px;--ag-charts-shadow-color: #00000080;--ag-charts-subtle-text-color: #8c8c8c;--ag-charts-text-color: #464646;--ag-charts-chrome-background-color: #fafafa;--ag-charts-chrome-font-family: Verdana, sans-serif;--ag-charts-chrome-font-size: 12px;--ag-charts-chrome-font-weight: 400;--ag-charts-chrome-subtle-text-color: #8c8c8c;--ag-charts-chrome-text-color: #181d1f;--ag-charts-input-background-color: #fff;--ag-charts-input-text-color: #464646;--ag-charts-crosshair-label-background-color: #fff;--ag-charts-crosshair-label-text-color: #464646;--ag-charts-spacing: 4px;--ag-charts-border-radius: 4px;--ag-charts-shadow: 0 2px 8px 0 color-mix(in srgb, black 8%, transparent);--ag-charts-focus-shadow: 0 0 0 3px var(--ag-charts-accent-color);--ag-charts-focus-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-accent-color) 12%);--ag-charts-input-border-color: var(--ag-charts-border-color);--ag-charts-input-border-radius: var(--ag-charts-border-radius);--ag-charts-input-focus-border-color: var(--ag-charts-accent-color);--ag-charts-input-focus-text-color: var(--ag-charts-accent-color);--ag-charts-input-disabled-background-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-foreground-color) 6% );--ag-charts-input-disabled-border-color: var(--ag-charts-border-color);--ag-charts-input-disabled-text-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-input-text-color) 50% );--ag-charts-input-placeholder-text-color: color-mix( in srgb, var(--ag-charts-input-background-color), var(--ag-charts-input-text-color) 60% );--ag-charts-button-background-color: var(--ag-charts-background-color);--ag-charts-button-border-color: var(--ag-charts-border-color);--ag-charts-button-border-radius: var(--ag-charts-border-radius);--ag-charts-button-text-color: var(--ag-charts-text-color);--ag-charts-button-focus-background-color: color-mix( in srgb, var(--ag-charts-button-background-color), var(--ag-charts-accent-color) 12% );--ag-charts-button-focus-border-color: var(--ag-charts-accent-color);--ag-charts-button-focus-text-color: var(--ag-charts-accent-color);--ag-charts-button-disabled-background-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-foreground-color) 6% );--ag-charts-button-disabled-border-color: var(--ag-charts-border-color);--ag-charts-button-disabled-text-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-chrome-text-color) 50% );--ag-charts-checkbox-background-color: color-mix( in srgb, var(--ag-charts-background-color), var(--ag-charts-foreground-color) 35% );--ag-charts-checkbox-checked-background-color: var(--ag-charts-accent-color);--ag-charts-chrome-font-size-small: var(--ag-charts-chrome-font-size);--ag-charts-chrome-font-size-medium: calc(var(--ag-charts-chrome-font-size) * (13 / 12));--ag-charts-chrome-font-size-large: calc(var(--ag-charts-chrome-font-size) * (14 / 12));--ag-charts-border: solid 1px var(--ag-charts-border-color);--ag-charts-focus-border: solid 1px var(--ag-charts-accent-color);--ag-charts-focus-border-shadow: 0 0 0 3px color-mix(in srgb, transparent, var(--ag-charts-accent-color) 20%);--ag-charts-layer-menu: 6;--ag-charts-layer-ui-overlay: 5;--ag-charts-layer-tooltip: 4;--ag-charts-layer-toolbar: 3;--ag-charts-layer-crosshair: 2;--ag-charts-layer-annotations: 1}.ag-charts-theme-default-dark{--ag-charts-shadow: 0 2px 12px 0 color-mix(in srgb, black 33.3%, transparent);--ag-charts-focus-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-accent-color) 22%)}.ag-chart-canvas-wrapper .ag-charts-theme-default{--ag-charts-border-radius: var(--ag-border-radius, 4px);--ag-charts-border: var(--ag-borders-critical, solid 1px) var(--ag-charts-border-color);--ag-charts-focus-shadow: var(--ag-focus-shadow, 0 0 0 3px var(--ag-charts-accent-color));--ag-charts-focus-border-shadow: var( --ag-focus-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-charts-accent-color) 20%) )}.ag-charts-icon{display:block;width:20px;height:20px;speak:none;speak:never;mask:var(--icon) center / contain no-repeat;background-color:currentColor;transition:background-color .25s ease-in-out}.ag-charts-icon-align-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNyAxMGg2djFIN3pNNCA3aDEydjFINHptMSA2aDEwdjFINXoiLz48L3N2Zz4=)}.ag-charts-icon-align-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNCAxMGg2djFINHptMC0zaDEydjFINHptMCA2aDEwdjFINHoiLz48L3N2Zz4=)}.ag-charts-icon-align-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTAgMTBoNnYxaC02ek00IDdoMTJ2MUg0em0yIDZoMTB2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-arrow-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE1LjI5MyA0LjVIMTIuNXYtMUgxN3Y0aC0xVjUuMjA3bC05LjY0NiA5LjY0Ny0uNzA4LS43MDh6IiBmaWxsPSIjMDAwIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDE2YTIuNSAyLjUgMCAxIDEtNSAwIDIuNSAyLjUgMCAwIDEgNSAwbS0yLjUgMS41YTEuNSAxLjUgMCAxIDAgMC0zIDEuNSAxLjUgMCAwIDAgMCAzIiBmaWxsPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-arrow-down-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02IDhMMS41IDhMMTAgMThMMTguNSA4TDE0IDhMMTQgM0w2IDNMNiA4Wk03IDRMNyA5SDMuNjYyNDRMMTAgMTYuNDU2TDE2LjMzNzYgOUwxMyA5TDEzIDRMNyA0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-arrow-up-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNCAxMkgxOC41TDEwIDJMMS41IDEySDZMNi4wMDAwMiAxN0gxNFYxMlpNMTMgMTZWMTFIMTYuMzM3NkwxMCAzLjU0NDA1TDMuNjYyNDQgMTFIN0w3LjAwMDAyIDE2SDEzWiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-callout-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtNC41MTRhMjYgMjYgMCAwIDAtMi4wMTcgMS41NGwtLjMxNC4yNmMtLjU1LjQ1Ny0xLjExNS45MjYtMS43NiAxLjQtLjY2OS40OTEtMS41NjItLjAxMi0xLjU2Mi0uOFYxNEg0LjVBMS41IDEuNSAwIDAgMSAzIDEyLjV6TTQuNSA0YS41LjUgMCAwIDAtLjUuNXY4YS41LjUgMCAwIDAgLjUuNWgxLjgzM3YzLjM3MmEzNiAzNiAwIDAgMCAxLjY3OC0xLjMzOGwuMzItLjI2NWEyNiAyNiAwIDAgMSAyLjIyNS0xLjY4NWwuMTI2LS4wODRIMTUuNWEuNS41IDAgMCAwIC41LS41di04YS41LjUgMCAwIDAtLjUtLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyAxdjNoMnYxMkg3djNINnYtM0g0VjRoMlYxek01IDVoM3YxMEg1ek0xMSAxNFY2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6bTEtN2gzdjZoLTN6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-close{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtNSA1IDEwIDEwTTUgMTUgMTUgNSIgc3Ryb2tlPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-comment-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy41MTMgMy45OTVhNi41IDYuNSAwIDAgMSA2LjA5OCAxMS40MWMtLjU4OC4zOTMtMS4yMTcuNTM2LTEuODI5LjU4NWExMyAxMyAwIDAgMS0xLjI3LjAxN0EyNyAyNyAwIDAgMCAxMCAxNkg0LjVhLjUuNSAwIDAgMS0uNS0uNVYxMHEwLS4yNDctLjAwNy0uNTEzYy0uMDA4LS40MTYtLjAxNi0uODU3LjAxNy0xLjI2OS4wNS0uNjEyLjE5Mi0xLjI0LjU4NS0xLjgzYTYuNSA2LjUgMCAwIDEgMi45MTgtMi4zOTNtMy41Ni42MWE1LjUgNS41IDAgMCAwLTUuNjQ2IDIuMzRjLS4yNjYuMzk3LS4zNzkuODQyLS40MiAxLjM1NC0uMDMuMzYtLjAyMi43MTgtLjAxNSAxLjEwOFE1IDkuNjg5IDUgMTB2NWg1cS4zMTEuMDAxLjU5My4wMDhjLjM5LjAwNy43NDcuMDE1IDEuMTA4LS4wMTUuNTEyLS4wNDEuOTU3LS4xNTQgMS4zNTUtLjQyYTUuNSA1LjUgMCAwIDAtMS45ODMtOS45NjciIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-crosshair-add-line{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-date-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMiAyaDF2MTZIMnptMTUgMGgxdjE2aC0xeiIgZmlsbD0iIzE4MUQxRiIvPjxwYXRoIGQ9Ik0xMy4xNTcgMTFINXYtMWg3Ljc5M0wxMSA4LjIwN2wuNzA3LS43MDcgMy4xODIgMy4xODItMy4xODIgMy4xODItLjcwNy0uNzA3eiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-date-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMyAySDJ2MTZoMXptMy41MDcgNC44OUw4LjUgNC44OTVWMTBINXYxaDMuNXY3aDF2LTdoNS4wODhsLTEuOTU3IDEuOTU3LjcwNy43MDcgMy4xODItMy4xODJMMTMuMzM4IDcuM2wtLjcwNy43MDdMMTQuNjI0IDEwSDkuNVY0LjkzMmwxLjk1NyAxLjk1Ny43MDctLjcwN0w4Ljk4MiAzIDUuOCA2LjE4MnoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-delete{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTguNDk2IDguOTk2QS41LjUgMCAwIDEgOSA5LjQ5MnY0YS41LjUgMCAxIDEtMSAuMDA4di00YS41LjUgMCAwIDEgLjQ5Ni0uNTA0TTEyIDkuNWEuNS41IDAgMCAwLTEgMHY0YS41LjUgMCAwIDAgMSAweiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTYgNVYzLjVBMi41IDIuNSAwIDAgMSA4LjUgMWgzQTIuNSAyLjUgMCAwIDEgMTQgMy41VjVoMi44MzNhLjUuNSAwIDAgMSAwIDFIMTV2MTAuMjVjMCAuNDE1LS4wNjYuODYzLS4zIDEuMjIxLS4yNTcuMzk0LS42NzIuNjEyLTEuMi42MTJoLTdjLS41MjggMC0uOTQzLS4yMTgtMS4yLS42MTItLjIzNC0uMzU4LS4zLS44MDYtLjMtMS4yMjFWNkgzLjMzM2EuNS41IDAgMCAxIDAtMXptMS0xLjVBMS41IDEuNSAwIDAgMSA4LjUgMmgzQTEuNSAxLjUgMCAwIDEgMTMgMy41VjVIN3pNNiAxNi4yNVY2aDh2MTAuMjVjMCAuMzM1LS4wNTkuNTU0LS4xMzguNjc1LS4wNTUuMDg1LS4xNC4xNTgtLjM2Mi4xNThoLTdjLS4yMjIgMC0uMzA3LS4wNzMtLjM2Mi0uMTU4LS4wOC0uMTIxLS4xMzgtLjM0LS4xMzgtLjY3NSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-disjoint-channel,.ag-charts-icon-disjoint-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTkuMDI4IDE3LjQ2YTIuMjUgMi4yNSAwIDAgMC00LjA5Mi0xLjg1bC05LjUxMS0yLjM3OGEyLjI1IDIuMjUgMCAxIDAtLjIyNS45NzRsOS40NzUgMi4zNjlhMi4yNTEgMi4yNTEgMCAwIDAgNC4zNTMuODg2bS0xLjY2Mi0xLjk2NWExLjI1IDEuMjUgMCAxIDEtLjg4NSAyLjMzOCAxLjI1IDEuMjUgMCAwIDEgLjg4NS0yLjMzOE00LjM0MyAxMy42NjlhMS4yNSAxLjI1IDAgMSAwLTIuMzM4LS44ODUgMS4yNSAxLjI1IDAgMCAwIDIuMzM4Ljg4NU0zLjk3IDguNzY5YTIuMjUgMi4yNSAwIDAgMCAxLjQ1NS0yLjExbDkuNTExLTIuMzc4YTIuMjUgMi4yNSAwIDEgMC0uMjYtLjk2NUw1LjIgNS42ODVhMi4yNSAyLjI1IDAgMSAwLTEuMjMgMy4wODRtLjM3My0yLjU0N2ExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjc1LTMuNDM4YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-drag-handle{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjcuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjxjaXJjbGUgY3g9IjEzLjc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iMTMuNzUiIGN5PSIxMS43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjExLjc1IiByPSIuNzUiIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjUiLz48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iMTEuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjwvc3ZnPg==)}.ag-charts-icon-fibonacci-retracement-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA1aDEydjFIMnoiLz48Y2lyY2xlIGN4PSIxNS43NSIgY3k9IjUuNSIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC4yNSIgY3k9IjE0LjUiIHI9IjEuNzUiIHN0cm9rZT0iIzAwMCIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik0xOCAxNUg2di0xaDEyem0wLTQuNUgydi0xaDE2eiIvPjwvc3ZnPg==)}.ag-charts-icon-fibonacci-retracement-trend-based-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJtNC45OTYgMTIuNjc0IDMuMjkxLTUuNzQzLjg2OC40OTctMy4yOTEgNS43NDN6Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjUuNSIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC4zNTEiIGN5PSIxNC41IiByPSIxLjc1IiBzdHJva2U9IiMwMDAiLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTggNmgtN1Y1aDd6bTAgNC41aC03di0xaDd6bTAgNC41SDZ2LTFoMTJ6Ii8+PC9zdmc+)}.ag-charts-icon-fill-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtOC4wNzEgNC4wNi0uOTI0LS45MjQuNzA3LS43MDcgNy4yODggNy4yODgtNC45NSA0Ljk1YTMuNSAzLjUgMCAwIDEtNC45NSAwbC0xLjQxNC0xLjQxNGEzLjUgMy41IDAgMCAxIDAtNC45NXptLjcwNy43MDhMNC41MzYgOS4wMWEyLjUgMi41IDAgMCAwIDAgMy41MzZMNS45NSAxMy45NmEyLjUgMi41IDAgMCAwIDMuNTM1IDBsNC4yNDMtNC4yNDN6bTYuOSA3LjIwMi0uMzQ1LjM2My0uMzQ0LS4zNjNhLjUuNSAwIDAgMSAuNjg4IDBtLS4zNDUgMS4wOGE4IDggMCAwIDAtLjI4LjMyMyA0LjMgNC4zIDAgMCAwLS40MDkuNTgyYy0uMTEzLjIwMS0uMTQ0LjMyNi0uMTQ0LjM3OGEuODMzLjgzMyAwIDAgMCAxLjY2NyAwYzAtLjA1Mi0uMDMxLS4xNzctLjE0NC0uMzc4YTQuMyA0LjMgMCAwIDAtLjQxLS41ODIgOCA4IDAgMCAwLS4yOC0uMzIybS0uMzQ0LTEuMDguMzQ0LjM2My4zNDQtLjM2My4wMDIuMDAyLjAwNC4wMDQuMDEzLjAxMmE2IDYgMCAwIDEgLjIwNi4yMDhjLjEzMS4xMzYuMzA4LjMyNy40ODUuNTQ1LjE3Ni4yMTUuMzYzLjQ2Ny41MDcuNzI0LjEzNy4yNDMuMjczLjU1My4yNzMuODY4YTEuODMzIDEuODMzIDAgMSAxLTMuNjY3IDBjMC0uMzE1LjEzNi0uNjI1LjI3My0uODY4LjE0NC0uMjU3LjMzLS41MDkuNTA3LS43MjRhOSA5IDAgMCAxIC42NDUtLjcwOGwuMDQ2LS4wNDUuMDEzLS4wMTIuMDA0LS4wMDR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-hollow-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1vcGFjaXR5PSIuMTUiIGQ9Ik01IDVoM3YxMEg1eiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTcgMXYzaDJ2MTJIN3YzSDZ2LTNINFY0aDJWMXpNNSA1aDN2MTBINXptNyAyaDN2NmgtM3ptLTEgN1Y2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-horizontal-line,.ag-charts-icon-horizontal-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNLjUgOS41aDcuMzA2YTIuMjUgMi4yNSAwIDAgMSA0LjM4OCAwSDE5LjV2MWgtNy4zMDZhMi4yNSAyLjI1IDAgMCAxLTQuMzg4IDBILjV6bTkuNSAxLjc1YTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTQuMjQyIDIuNzIyYy0uNjEyIDAtMS4yLjI0My0xLjYzMi42NzVsLTEuMzQzIDEuMzQ0YS41LjUgMCAwIDAtLjExMi4xMTJMNC4wNSAxMS45NTljLS4yMDcuMjA3LS4zNi40Ni0uNDQ2Ljc0di4wMDFsLS42OSAyLjc2N3YuMDAyYS44Mi44MiAwIDAgMCAxLjAyMiAxLjAyMWguMDAybDIuNjM0LS44MjJjLjI4LS4wODUuNTM0LS4yMzcuNzQtLjQ0M2w3LjEwNy03LjEwOGEuNS41IDAgMCAwIC4xMTItLjExMmwxLjM0My0xLjM0M2EyLjMwOCAyLjMwOCAwIDAgMC0xLjYzMi0zLjk0TTE0LjEyMiA3bDEuMDQ0LTEuMDQ1YTEuMzA4IDEuMzA4IDAgMSAwLTEuODQ5LTEuODVMMTIuMjcxIDUuMTV6bS0yLjU1OC0xLjE0Mi02LjgwNyA2LjgwOWEuOC44IDAgMCAwLS4xOTYuMzI1bC0uNzUgMi40NjggMi40Ny0uNzQ5YS44LjggMCAwIDAgLjMyNS0uMTk0bDYuODA4LTYuODF6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTcuMzYyIDQuODczLTQuNTk0IDYuNjU0LTQuODUtMy4zMTctNC4yNTEgNi45NzctLjg1NC0uNTJMNy42MTIgNi43OWw0Ljg5OSAzLjM1IDQuMDI4LTUuODM2eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-line-style-dashed{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDR2MUgyem0xMiAwaDR2MWgtNHpNOCA5aDR2MUg4eiIvPjwvc3ZnPg==)}.ag-charts-icon-line-style-dotted{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSIyLjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSI4LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTAuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSIxMi41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjE0LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-line-style-solid{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDE2djFIMnoiLz48L3N2Zz4=)}.ag-charts-icon-line-with-markers-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTk4IDQuODg4LTMuNTU2IDQuOTE4YTIuMjUgMi4yNSAwIDEgMS0zLjg2Ni43NWwtMS40MzItLjlhMi4yNCAyLjI0IDAgMCAxLTIuMDA5LjQzNWwtMy44MjggNi40MjgtLjg2LS41MTJMNi40NSA5LjYyM2EyLjI1IDIuMjUgMCAxIDEgMy41MS0uNzYxbDEuMzI5LjgzNWEyLjI0IDIuMjQgMCAwIDEgMi41NTctLjQ5N2wzLjU0Mi00Ljg5OHptLTQuOTYgNS4xNTNhMS4yNSAxLjI1IDAgMSAwLS42NCAyLjQxOSAxLjI1IDEuMjUgMCAwIDAgLjY0LTIuNDE5TTkuMSA4LjMyMXEuMDY2LS4xOTIuMDY3LS40MDRhMS4yNSAxLjI1IDAgMSAwLS4wNjcuNDA0IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-lock,.ag-charts-icon-locked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuMjA3IDMuNzY0YTIuODk0IDIuODk0IDAgMCAwLTIuODk1IDIuODk0VjloNS43ODlWNi42NThhMi44OTQgMi44OTQgMCAwIDAtMi44OTUtMi44OTRNMTQuMSA5VjYuNjU4YTMuODk0IDMuODk0IDAgMSAwLTcuNzg5IDB2Mi4zNDlBMi41IDIuNSAwIDAgMCA0IDExLjV2M0EyLjUgMi41IDAgMCAwIDYuNSAxN2g4YTIuNSAyLjUgMCAwIDAgMi41LTIuNXYtM0EyLjUgMi41IDAgMCAwIDE0LjUgOXpNNi41IDEwQTEuNSAxLjUgMCAwIDAgNSAxMS41djNBMS41IDEuNSAwIDAgMCA2LjUgMTZoOGExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTNhMS41IDEuNSAwIDAgMC0xLjUtMS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-measurer-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibTQuNDYxIDEyLjcxIDEuNTMyLTEuNTMxIDEuNDE0IDEuNDE0LjcwNy0uNzA3TDYuNyAxMC40NzJsMS41MzItMS41MzMgMiAyIC43MDctLjcwNy0yLTIgNi4wMS02LjAxIDIuODMgMi44MjhMNS4wNSAxNy43NzggMi4yMjIgMTQuOTVsMS41MzItMS41MzIgMS40MTQgMS40MTQuNzA3LS43MDd6TS44MDggMTQuOTVsLjcwNy0uNzA3TDE0LjI0MyAxLjUxNWwuNzA3LS43MDcuNzA3LjcwNyAyLjgyOCAyLjgyOC43MDcuNzA3LS43MDcuNzA3TDUuNzU3IDE4LjQ4NWwtLjcwNy43MDctLjcwNy0uNzA3LTIuODI4LTIuODI4em0xMS4wNzgtNi44MzVMMTAuNDcgNi43bC43MDctLjcwNyAxLjQxNSAxLjQxNHptLjgyNC0zLjY1NCAxIDEgLjcwOC0uNzA3LTEtMXoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-note-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtMy4yMWwtMS40NjkgMi41N2ExIDEgMCAwIDEtMS42ODIuMDg1TDcuMjQzIDE0SDQuNUExLjUgMS41IDAgMCAxIDMgMTIuNXpNNC41IDRhLjUuNSAwIDAgMC0uNS41djhhLjUuNSAwIDAgMCAuNS41aDMuMjU3bDIuMTk2IDMuMDc0TDExLjcxIDEzaDMuNzlhLjUuNSAwIDAgMCAuNS0uNXYtOGEuNS41IDAgMCAwLS41LS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNi41IDYuNUEuNS41IDAgMCAxIDcgNmg2YS41LjUgMCAwIDEgMCAxSDdhLjUuNSAwIDAgMS0uNS0uNU02LjUgOS41QS41LjUgMCAwIDEgNyA5aDZhLjUuNSAwIDAgMSAwIDFIN2EuNS41IDAgMCAxLS41LS41IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-ohlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTEzIDExaC0zdi0xaDNWM2gxdjJoNHYxaC00djExaC0xek02IDE3di0yaDN2LTFINlY0SDV2MUgydjFoM3YxMXoiLz48L3N2Zz4=)}.ag-charts-icon-pan-end{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0ibTYuNjQ2IDEzLjgxMy0uMzUzLjM1NC43MDcuNzA3LjM1NC0uMzU0ek0xMS4xNjYgMTBsLjM1NC4zNTQuMzU0LS4zNTQtLjM1NC0uMzU0ek03LjM1NSA1LjQ4IDcgNS4xMjZsLS43MDcuNzA3LjM1My4zNTR6bTAgOS4wNCA0LjE2Ni00LjE2Ni0uNzA3LS43MDgtNC4xNjcgNC4xNjd6bTQuMTY2LTQuODc0TDcuMzU0IDUuNDhsLS43MDguNzA3IDQuMTY3IDQuMTY3ek0xMy4wODMgNXYxMGgxVjV6Ii8+PC9zdmc+)}.ag-charts-icon-pan-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuNzkgNS44MzMgOC42MjUgMTBsNC4xNjYgNC4xNjctLjcwNy43MDdMNy4yMSAxMGw0Ljg3My00Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy4yMSAxNC4xNjcgMTEuMzc2IDEwIDcuMjEgNS44MzNsLjcwNy0uNzA3TDEyLjc5IDEwbC00Ljg3MyA0Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-start{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgNXYxMGgxVjV6TTkuNjI0IDEwbDQuMTY2LTQuMTY3LS43MDctLjcwN0w4LjIxIDEwbDQuODc0IDQuODc0LjcwNy0uNzA3eiIvPjwvc3ZnPg==)}.ag-charts-icon-parallel-channel,.ag-charts-icon-parallel-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTcuNzIgNS4zMzFBMi4yNSAyLjI1IDAgMSAwIDE0LjcwNSAzLjZsLTkuNDkgNC41NjJhMi4yNSAyLjI1IDAgMSAwIC4yMDkgMS4wMWw5LjY2Mi00LjY0NmEyLjI1IDIuMjUgMCAwIDAgMi42MzQuODA1bS4zNzMtMi41NDdhMS4yNSAxLjI1IDAgMSAxLTIuMzM4Ljg4NSAxLjI1IDEuMjUgMCAwIDEgMi4zMzgtLjg4NU00LjM0MyA4LjY3YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODVNNS4zMDcgMTYuNzI4YTIuMjUgMi4yNSAwIDEgMS0uNTI1LS44NThsOS45MjMtNC43N2EyLjI1IDIuMjUgMCAxIDEgLjM4MS45MjZ6bS0uOTY0LjI3NGExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjAyMy01LjEwNmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-position-bottom{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzem0zLTNoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgMTNoOHYxSDZ6Ii8+PC9zdmc+)}.ag-charts-icon-position-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMyAxMGgxNHYxSDN6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDdoOHYxSDZ6bTAgNmg4djFINnoiLz48L3N2Zz4=)}.ag-charts-icon-position-top{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzeiIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik02IDdoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDEzaDh2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-price-label-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNC41IDNBMS41IDEuNSAwIDAgMCAzIDQuNVYxM2ExLjUgMS41IDAgMCAwIDEuNSAxLjVoLjgzM3YuMDU3Yy4yNDItLjI5OS41OTctLjUwMyAxLS41NDhWMTMuNUg0LjVBLjUuNSAwIDAgMSA0IDEzVjQuNWEuNS41IDAgMCAxIC41LS41aDExYS41LjUgMCAwIDEgLjUuNXY4YS41LjUgMCAwIDEtLjUuNWgtNC44MThsLS4xMjYuMDg0YTI2IDI2IDAgMCAwLTIuMjI1IDEuNjg1bC0uMzIuMjY1LS4wNjguMDU2YTEuNSAxLjUgMCAwIDEtMi42MDkgMS4zNTRjLjAzMy43NjMuOTA1IDEuMjM4IDEuNTYuNzU2LjY0Ni0uNDc0IDEuMjEtLjk0MyAxLjc2MS0xLjRsLjMxMy0uMjZBMjYgMjYgMCAwIDEgMTAuOTg2IDE0SDE1LjVhMS41IDEuNSAwIDAgMCAxLjUtMS41di04QTEuNSAxLjUgMCAwIDAgMTUuNSAzeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43MTYgMTQuODE1YTIuMjUgMi4yNSAwIDEgMS00LjIxIDEuNTkzIDIuMjUgMi4yNSAwIDAgMSA0LjIxLTEuNTkzbS0xLjY2MiAxLjk2NmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS41IDYuMjI4IDcuMTY3IDguMzc2IDYuNSA3Ljc2MiA5LjUgNWwzIDIuNzYyLS42NjcuNjE0eiIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik0yIDE4di0xaDE2djF6TTIgM1YyaDE2djF6IiBmaWxsPSIjMTgxRDFGIi8+PC9zdmc+)}.ag-charts-icon-reset{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuMDQgNC40NDVhNS44MSA1LjgxIDAgMCAwLTcuMjU3IDIuNDUzLjUuNSAwIDAgMS0uODY1LS41MDJBNi44MSA2LjgxIDAgMSAxIDMgOS44MTNhLjUuNSAwIDAgMSAxIDAgNS44MSA1LjgxIDAgMSAwIDguMDQtNS4zNjgiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQuMjg5IDMuMDAyYS41LjUgMCAwIDEgLjUuNXYyLjY1NWgyLjY1NWEuNS41IDAgMCAxIDAgMUg0LjI5YS41LjUgMCAwIDEtLjUtLjVWMy41MDJhLjUuNSAwIDAgMSAuNS0uNSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-settings{--icon: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkIj48cGF0aCBkPSJNMTAgMTNhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2bTAtMWEyIDIgMCAxIDEtLjAwMS0zLjk5OUEyIDIgMCAwIDEgMTAgMTIiLz48cGF0aCBkPSJNMi4zMSAxNC4zNDVjLS44MTctMS40OTEuMDI3LTIuNDk5LjQ3NC0yLjg2NS41MzEtLjQzNC45NjktLjM2NS45NzItMS40OC0uMDAzLTEuMTE1LS40NDEtMS4wNDYtLjk3Mi0xLjQ4MS0uNDU0LS4zNzEtMS4zMTctMS40MDUtLjQzNC0yLjkzNmwuMDA1LS4wMDljLjg4NC0xLjUyIDIuMjA3LTEuMjkgMi43NTUtMS4wODMuNjQxLjI0My44MDEuNjU2IDEuNzY4LjEwMS45NjQtLjU2LjY4Ni0uOTA0Ljc5Ni0xLjU4Mi4wOTQtLjU3OC41NTktMS44NDMgMi4zMjYtMS44NDNoLjAxYzEuNzU5LjAwNSAyLjIyMiAxLjI2NiAyLjMxNiAxLjg0My4xMS42NzgtLjE2OCAxLjAyMi43OTYgMS41ODIuOTY3LjU1NSAxLjEyNy4xNDIgMS43NjgtLjEwMS41NDktLjIwOCAxLjg3Ni0uNDM4IDIuNzYgMS4wOTJzLjAyIDIuNTY1LS40MzQgMi45MzZjLS41MzEuNDM1LS45NjkuMzY2LS45NzIgMS40ODEuMDAzIDEuMTE1LjQ0MSAxLjA0Ni45NzIgMS40OC40NTQuMzcyIDEuMzE3IDEuNDA2LjQzNCAyLjkzN2wtLjAwNS4wMDljLS44ODQgMS41Mi0yLjIwNyAxLjI5LTIuNzU1IDEuMDgzLS42NDEtLjI0My0uODAxLS42NTYtMS43NjgtLjEwMS0uOTY0LjU2LS42ODYuOTA0LS43OTYgMS41ODEtLjA5NC41NzktLjU1OSAxLjg0NC0yLjMyNiAxLjg0NGgtLjAxYy0xLjc1OS0uMDA1LTIuMjIyLTEuMjY2LTIuMzE2LTEuODQ0LS4xMS0uNjc3LjE2OC0xLjAyMS0uNzk2LTEuNTgxLS45NjctLjU1NS0xLjEyNy0uMTQyLTEuNzY4LjEwMS0uNTQ5LjIwOC0xLjg3Ni40MzgtMi43Ni0xLjA5MmwtLjAyLS4wMzZ6TTkuOTg0IDIuMTYySDEwYzEuMzU1IDAgMS4zNDIgMS4wMzkgMS4zNTMgMS40MjUuMDA4LjMxMi4wNCAxLjE2IDEuMjU5IDEuODcybC4wMTUuMDA4YzEuMjI1LjcgMS45NzYuMzA0IDIuMjUxLjE1NS4zMzctLjE4MyAxLjIyNi0uNzExIDEuOTAyLjQ0NWwuMDA4LjAxNGMuNjc4IDEuMTczLS4yMjkgMS42ODItLjU1OCAxLjg4NC0uMjY2LjE2My0uOTg0LjYxNS0uOTkxIDIuMDI3di4wMTZjLjAwNyAxLjQxMi43MjUgMS44NjQuOTkxIDIuMDI3LjMyOC4yMDEgMS4yMjkuNzA3LjU2NiAxLjg3bC0uMDA4LjAxNGMtLjY3NyAxLjE3NC0xLjU3MS42NDMtMS45MS40NTktLjI3NS0uMTQ5LTEuMDI2LS41NDUtMi4yNTEuMTU0bC0uMDE1LjAwOWMtMS4yMTkuNzEyLTEuMjUxIDEuNTYtMS4yNTkgMS44NzItLjAxMS4zODYuMDAyIDEuNDI1LTEuMzUzIDEuNDI1cy0xLjM0Mi0xLjAzOS0xLjM1My0xLjQyNWMtLjAwOC0uMzEyLS4wNC0xLjE2LTEuMjU5LTEuODcybC0uMDE1LS4wMDljLTEuMjI1LS42OTktMS45NzYtLjMwMy0yLjI1MS0uMTU0LS4zMzYuMTgzLTEuMjE5LjcwNi0xLjg5NC0uNDMybC0uMDE2LS4wMjdjLS42NzgtMS4xNzQuMjI5LTEuNjgyLjU1OC0xLjg4NC4yNjYtLjE2My45ODQtLjYxNS45OTEtMi4wMjd2LS4wMTZjLS4wMDctMS40MTItLjcyNS0xLjg2NC0uOTkxLTIuMDI3LS4zMjgtLjIwMS0xLjIyOS0uNzA3LS41NjYtMS44N2wuMDA4LS4wMTRjLjY3Ny0xLjE3NCAxLjU3MS0uNjQzIDEuOTEtLjQ1OS4yNzUuMTQ5IDEuMDI2LjU0NSAyLjI1MS0uMTU1bC4wMTUtLjAwOGMxLjIxOS0uNzEyIDEuMjUxLTEuNTYgMS4yNTktMS44NzIuMDEtLjM4NC0uMDAyLTEuNDE3IDEuMzM3LTEuNDI1Ii8+PC9zdmc+)}.ag-charts-icon-step-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzE4MUQxRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNiA0aDV2OGgzVjhoNXYxaC00djRoLTVWNUg3djEwSDJ2LTFoNHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-text-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00IDRIMTZWN0gxNVY1SDEwLjVWMTVIMTRWMTZINlYxNUg5LjVWNUg1VjdINFY0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-trend-line,.ag-charts-icon-trend-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS4zMTQgMTAuOTM4YTIuMjUgMi4yNSAwIDEgMSAuMDEtMWg5LjM1MmEyLjI1IDIuMjUgMCAxIDEgLjAxIDF6bS0yLjE4OS43MjlhMS4yNSAxLjI1IDAgMSAwIDAtMi41IDEuMjUgMS4yNSAwIDAgMCAwIDIuNW0xMy43NSAwYTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock,.ag-charts-icon-unlocked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNjUxIDMuNWEyLjg5NCAyLjg5NCAwIDAgMC0yLjg5NCAyLjg5NFY5SDE0LjVhMi41IDIuNSAwIDAgMSAyLjUgMi41djNhMi41IDIuNSAwIDAgMS0yLjUgMi41aC04QTIuNSAyLjUgMCAwIDEgNCAxNC41di0zQTIuNSAyLjUgMCAwIDEgNi41IDloLjI1N1Y2LjM5NGEzLjg5NCAzLjg5NCAwIDEgMSA3Ljc4OSAwIC41LjUgMCAwIDEtMSAwQTIuODk0IDIuODk0IDAgMCAwIDEwLjY1IDMuNU02LjUgMTBBMS41IDEuNSAwIDAgMCA1IDExLjV2M0ExLjUgMS41IDAgMCAwIDYuNSAxNmg4YTEuNSAxLjUgMCAwIDAgMS41LTEuNXYtM2ExLjUgMS41IDAgMCAwLTEuNS0xLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-vertical-line,.ag-charts-icon-vertical-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNSA3LjgwNmEyLjI1IDIuMjUgMCAwIDEgMCA0LjM4OFYxOS41aC0xdi03LjMwNmEyLjI1IDIuMjUgMCAwIDEgMC00LjM4OFYuNWgxem0tLjUuOTQ0YTEuMjUgMS4yNSAwIDEgMSAwIDIuNSAxLjI1IDEuMjUgMCAwIDEgMC0yLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-zoom-in{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS41IDEwYS41LjUgMCAwIDEgLjUtLjVoOGEuNS41IDAgMCAxIDAgMUg2YS41LjUgMCAwIDEtLjUtLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-high-low-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyA0aDJ2MTJINFY0aDNNNSA1aDN2MTBINXpNMTEgMTRWNmg1djhoLTVtMS03aDN2NmgtM3oiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-hlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTYzIDEuODM3LTUuMzM0IDExLjYyMUw2Ljk1NyA4LjEybC00LjE5OSA5LjYyMi0uOTE2LS40IDQuNzU2LTEwLjlMMTIuNDkgMTEuOCAxNy4yNTQgMS40MnoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjQiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTUuODI1IDIuNzA0LjU1IDEzLjc4NWwuOTAyLjQzIDQuNzI0LTkuOTE5IDYuMDM0IDUuMDI5IDMuMjU1LTguMTQtLjkyOC0uMzctMi43NDUgNi44NnptNy44NTIgMTQuNjM2IDUuNzgtMTMuMTM5LS45MTUtLjQwMi01LjIxOSAxMS44Ni02LjAwNS01LjUwNC0zLjI3OCA3LjY0OC45Mi4zOTQgMi43MjItNi4zNTJ6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-alt{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20taW4iPjxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiLz48bGluZSB4MT0iMjEiIHgyPSIxNi42NSIgeTE9IjIxIiB5Mj0iMTYuNjUiLz48bGluZSB4MT0iMTEiIHgyPSIxMSIgeTE9IjgiIHkyPSIxNCIvPjxsaW5lIHgxPSI4IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjExIi8+PC9zdmc+)}.ag-charts-icon-zoom-out-alt{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20tb3V0Ij48Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4Ii8+PGxpbmUgeDE9IjIxIiB4Mj0iMTYuNjUiIHkxPSIyMSIgeTI9IjE2LjY1Ii8+PGxpbmUgeDE9IjgiIHgyPSIxNCIgeTE9IjExIiB5Mj0iMTEiLz48L3N2Zz4=)}.ag-charts-input{--input-layer-active: 1;--input-layer-focus: 2;--input-padding: calc(var(--ag-charts-spacing) * 2);--input-padding-large: calc(var(--ag-charts-spacing) * 2.5);color:var(--ag-charts-input-text-color);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-large);transition-duration:.25s;transition-property:none;transition-timing-function:ease-out}.ag-charts-input:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:var(--input-layer-focus)}.ag-charts-button{background:var(--ag-charts-button-background-color);border:1px solid var(--ag-charts-border-color);border-radius:var(--ag-charts-button-border-radius);color:var(--ag-charts-button-text-color);cursor:pointer;padding:var(--input-padding);transition-property:background,border-color}.ag-charts-button:hover{background:var(--ag-charts-focus-color)}.ag-charts-button:has(.ag-charts-icon){padding:2px}.ag-charts-checkbox{--checkbox-transition-duration: .1s;appearance:none;background:var(--ag-charts-checkbox-background-color);border-radius:calc(var(--ag-charts-border-radius) * 9);cursor:pointer;height:18px;margin:0;transition-duration:var(--checkbox-transition-duration);transition-property:margin;width:29px}.ag-charts-checkbox:before{display:block;background:var(--ag-charts-input-background-color);border-radius:calc(var(--ag-charts-border-radius) * 7);content:" ";height:14px;margin:2px;transition-duration:var(--checkbox-transition-duration);transition-property:margin;transition-timing-function:var(--ag-charts-input-transition-easing);width:14px}.ag-charts-checkbox:checked{background:var(--ag-charts-checkbox-checked-background-color)}.ag-charts-checkbox:checked:before{margin-left:13px}.ag-charts-select{background:var(--ag-charts-input-background-color);border:1px solid var(--ag-charts-input-border-color);border-radius:var(--ag-charts-input-border-radius);padding:3px 2px 4px;font-size:inherit}.ag-charts-textarea{--textarea-line-height: 1.38;background:var(--ag-charts-input-background-color);border:1px solid var(--ag-charts-border-color);border-radius:var(--ag-charts-input-border-radius);line-height:var(--textarea-line-height);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-large);padding:var(--input-padding-large) var(--input-padding)}.ag-charts-textarea::placeholder{color:var(--ag-charts-input-placeholder-text-color)}.ag-charts-proxy-container{pointer-events:none;position:absolute}.ag-charts-proxy-elem{-webkit-appearance:none;appearance:none;background:none;border:none;color:#0000;overflow:hidden;pointer-events:auto;position:absolute}.ag-charts-proxy-elem::-moz-range-thumb,.ag-charts-proxy-elem::-moz-range-track{opacity:0}.ag-charts-proxy-elem::-webkit-slider-runnable-track,.ag-charts-proxy-elem::-webkit-slider-thumb{opacity:0}.ag-charts-proxy-elem:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-focus-indicator{position:absolute;display:block;pointer-events:none;user-select:none;-webkit-user-select:none;width:100%;height:100%}.ag-charts-focus-indicator>div{position:absolute;outline:solid 1px var(--ag-charts-chrome-background-color);box-shadow:var(--ag-charts-focus-shadow)}.ag-charts-focus-indicator>svg{width:100%;height:100%;fill:none;overflow:visible}.ag-charts-focus-svg-outer-path{stroke:var(--ag-charts-chrome-background-color);stroke-width:4px}.ag-charts-focus-svg-inner-path{stroke:var(--ag-charts-accent-color);stroke-width:2px}.ag-charts-overlay{color:#181d1f;pointer-events:none}.ag-charts-overlay.ag-charts-dark-overlay{color:#fff}.ag-charts-overlay--loading{color:#8c8c8c}.ag-charts-overlay__loading-background{background:#fff;pointer-events:none}.ag-charts-overlay.ag-charts-dark-overlay .ag-charts-overlay__loading-background{background:#192232}.ag-charts-tooltip{--tooltip-arrow-size: 8px;position:fixed;inset:unset;margin:0;padding:0;overflow:visible;width:max-content;max-width:100%;font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size);font-weight:var(--ag-charts-chrome-font-weight);color:var(--ag-charts-chrome-text-color);background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-border);border-radius:var(--ag-charts-border-radius);box-shadow:var(--ag-charts-shadow)}.ag-charts-tooltip--compact .ag-charts-tooltip-content{padding:3px 6px}.ag-charts-tooltip--arrow:before{content:"";position:absolute;top:100%;left:50%;margin:0 auto;transform:translate(-50%) translateY(calc(var(--tooltip-arrow-size) * -.5)) rotate(45deg);display:block;width:var(--tooltip-arrow-size);height:var(--tooltip-arrow-size);border:inherit;border-top:none;border-left:none;clip-path:polygon(0% 100%,100% 0%,100% 100%)}.ag-charts-tooltip--arrow:after{--tooltip-inner-size: calc(var(--tooltip-arrow-size) - 2px);content:"";position:absolute;top:100%;left:50%;margin:0 auto;transform:translate(-50%) translateY(calc(var(--tooltip-inner-size) * -.5)) rotate(45deg);display:block;width:var(--tooltip-inner-size);height:var(--tooltip-inner-size);border:inherit;border-color:transparent;background:inherit;clip-path:polygon(-10% 100%,100% -10%,100% 100%)}.ag-charts-tooltip--no-interaction{pointer-events:none;user-select:none;-webkit-user-select:none}.ag-charts-tooltip--wrap-always{overflow-wrap:break-word;word-break:break-word;hyphens:none}.ag-charts-tooltip--wrap-hyphenate{overflow-wrap:break-word;word-break:break-word;hyphens:auto}.ag-charts-tooltip--wrap-on-space{overflow-wrap:normal;word-break:normal}.ag-charts-tooltip--wrap-never{white-space:nowrap}.ag-charts-tooltip-heading,.ag-charts-tooltip-title,.ag-charts-tooltip-label,.ag-charts-tooltip-value{overflow:hidden;text-overflow:ellipsis}.ag-charts-tooltip-content{display:grid;grid:auto-flow minmax(1em,auto) / 1fr;padding:8px 12px;gap:8px}.ag-charts-tooltip-content:has(.ag-charts-tooltip-symbol){grid:auto-flow minmax(1em,auto) / auto 1fr}.ag-charts-tooltip-heading{grid-column:1 / -1}.ag-charts-tooltip-symbol{grid-column:1 / 2;align-self:center}.ag-charts-tooltip-symbol svg{display:block}.ag-charts-tooltip-title{grid-column:-2 / -1}.ag-charts-tooltip-row{grid-column:1 / -1;display:flex;gap:16px;align-items:baseline;justify-content:space-between;overflow:hidden}.ag-charts-tooltip-row--inline{grid-column:-2 / -1}.ag-charts-tooltip-label{flex:1;min-width:0}.ag-charts-tooltip-value{min-width:0}.ag-charts-popover{position:absolute;border:var(--ag-charts-border);border-radius:var(--ag-charts-border-radius);background:var(--ag-charts-chrome-background-color);color:var(--ag-charts-chrome-text-color);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size);font-weight:var(--ag-charts-chrome-font-weight);box-shadow:var(--ag-charts-shadow);z-index:var(--ag-charts-layer-ui-overlay)}.ag-charts-menu{--item-padding: 6px 12px;--icon-color: var(--ag-charts-chrome-text-color);display:grid;grid:auto-flow auto / 1fr;column-gap:12px;font-size:var(--ag-charts-chrome-font-size)}.ag-charts-menu:has(.ag-charts-menu__icon,.ag-charts-menu__row--stroke-width-visible){grid:auto-flow auto / auto 1fr}.ag-charts-menu__row--stroke-width-visible:before{content:"";height:var(--strokeWidth);width:12px;background:var(--icon-color)}.ag-charts-menu__row--stroke-width-visible[aria-disabled=true]:before{filter:grayscale(1);opacity:.5}.ag-charts-menu__row{display:grid;grid-column:1 / -1;grid-template-columns:subgrid;align-items:center;padding:var(--item-padding)}.ag-charts-menu__row:not(.ag-charts-menu__row--active){cursor:pointer}.ag-charts-menu__row:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.ag-charts-menu__row:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.ag-charts-menu__row:focus{background:var(--ag-charts-focus-color)}.ag-charts-menu__row:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:var(--ag-charts-layer-menu)}.ag-charts-menu__row--active{--icon-color: var(--ag-charts-accent-color);background:var(--ag-charts-focus-color);color:var(--ag-charts-accent-color)}.ag-charts-menu__label{grid-column:-1 / span 1}.ag-charts-toolbar{--toolbar-gap: calc(var(--ag-charts-spacing) * 2);--toolbar-size: 34px;--toolbar-button-padding: 6px;align-items:center;display:flex;flex-wrap:nowrap;position:absolute}.ag-charts-toolbar__button{align-items:center;background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-border);color:var(--ag-charts-chrome-text-color);cursor:pointer;display:flex;font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-medium);font-weight:var(--ag-charts-chrome-font-weight);justify-content:center;min-height:var(--toolbar-size);min-width:var(--toolbar-size);padding:var(--toolbar-button-padding);position:relative;transition:background-color .25s ease-in-out,border-color .25s ease-in-out,color .25s ease-in-out;white-space:nowrap}.ag-charts-toolbar__button:hover{background:var(--ag-charts-focus-color);z-index:1}.ag-charts-toolbar__button:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:calc(var(--ag-charts-layer-ui-overlay) + 1)}.ag-charts-toolbar__button--active{background:var(--ag-charts-focus-color);border-color:var(--ag-charts-accent-color);color:var(--ag-charts-accent-color);z-index:2}.ag-charts-toolbar__button[aria-disabled=true]{background:var(--ag-charts-button-disabled-background-color);color:var(--ag-charts-button-disabled-text-color);cursor:default}.ag-charts-toolbar--horizontal{flex-direction:row;.ag-charts-toolbar__button{margin:0 0 0 -1px}.ag-charts-toolbar__button--first{border-bottom-left-radius:var(--ag-charts-border-radius);border-top-left-radius:var(--ag-charts-border-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-right-radius:var(--ag-charts-border-radius);border-top-right-radius:var(--ag-charts-border-radius)}}.ag-charts-toolbar--vertical{flex-direction:column;.ag-charts-toolbar__button{margin:-1px 0 0;max-width:100%}.ag-charts-toolbar__button--first{border-top-left-radius:var(--ag-charts-border-radius);border-top-right-radius:var(--ag-charts-border-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-left-radius:var(--ag-charts-border-radius);border-bottom-right-radius:var(--ag-charts-border-radius)}}.ag-charts-toolbar__icon+.ag-charts-toolbar__label{margin-left:var(--toolbar-gap)}.ag-charts-toolbar__icon,.ag-charts-toolbar__label{pointer-events:none}.ag-charts-floating-toolbar{border:none;display:flex;.ag-charts-toolbar{align-items:unset;position:unset}}.ag-charts-floating-toolbar__drag-handle{align-items:center;background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-border);border-bottom-left-radius:var(--ag-charts-border-radius);border-top-left-radius:var(--ag-charts-border-radius);cursor:grab;display:flex;justify-content:center;min-width:24px;padding-left:0;padding-right:0}.ag-charts-floating-toolbar__drag-handle--dragging{cursor:grabbing}
`,La=class{constructor(){this.registeredListeners=new Map}addListener(t,e){const i={symbol:Symbol(t),handler:e};return this.registeredListeners.has(t)?this.registeredListeners.get(t).push(i):this.registeredListeners.set(t,[i]),()=>this.removeListener(i.symbol)}removeListener(t){for(const[e,i]of this.registeredListeners.entries()){const n=i.findIndex(s=>s.symbol===t);if(n>=0){i.splice(n,1),i.length===0&&this.registeredListeners.delete(e);break}}}dispatch(t,...e){for(const i of this.getListenersByType(t))try{i.handler(...e)}catch(n){ot.errorOnce(String(n))}}getListenersByType(t){return this.registeredListeners.get(t)??[]}destroy(){this.registeredListeners.clear()}},Dr=class{constructor(){this.listeners=new La,this.destroyFns=[]}addListener(t,e){return this.listeners.addListener(t,e)}destroy(){this.listeners.destroy(),this.destroyFns.forEach(t=>t())}},sj=class gf{constructor(e,i,n){this.element=e,this.topTabGuard=i,this.bottomTabGuard=n,this.destroyFns=[],this.guardTabIndex=0,this.hasFocus=!1,this.initTabGuard(this.topTabGuard,s=>this.onTab(s,!1)),this.initTabGuard(this.bottomTabGuard,s=>this.onTab(s,!0)),this.element.addEventListener("focus",()=>this.onFocus(),{capture:!0}),this.element.addEventListener("blur",s=>this.onBlur(s),{capture:!0})}set tabIndex(e){this.guardTabIndex=e,this.guardTabIndex===0?this.setGuardIndices(void 0):this.hasFocus||this.setGuardIndices(this.guardTabIndex)}destroy(){for(const e of this.destroyFns)e();this.destroyFns.length=0}initTabGuard(e,i){const n=()=>i(e);e.addEventListener("focus",n),this.destroyFns.push(()=>e.removeEventListener("focus",n))}setGuardIndices(e){const i=e;ae(this.topTabGuard,"tabindex",i),ae(this.bottomTabGuard,"tabindex",i)}onFocus(){this.hasFocus=!0,this.guardTabIndex!==0&&this.setGuardIndices(0)}onBlur({relatedTarget:e}){const{topTabGuard:i,bottomTabGuard:n}=this;this.hasFocus=!1,this.guardTabIndex!==0&&e!==i&&e!==n&&this.setGuardIndices(this.guardTabIndex)}onTab(e,i){if(this.guardTabIndex!==0){let n;e.tabIndex===0?(n=this.findExitTarget(!i),this.setGuardIndices(this.guardTabIndex)):n=this.findEnterTarget(i),n==null||n.focus()}}static queryFocusable(e,i){const n=pe();return Array.from(e.querySelectorAll(i)).filter(s=>{if(s instanceof HTMLElement){const r=n.getComputedStyle(s);return r.display!=="none"&&r.visibility!=="none"}return!1})}findEnterTarget(e){const i=gf.queryFocusable(this.element,'[tabindex="0"]'),n=e?i.length-1:0;return i[n]}findExitTarget(e){const i=gf.queryFocusable(ga(),"[tabindex]").filter(r=>r.tabIndex>0).sort((r,l)=>r.tabIndex-l.tabIndex),{before:n,after:s}=gf.findBeforeAndAfter(i,this.guardTabIndex);return e?n:s}static findBeforeAndAfter(e,i){let n=0,s=e.length-1,r,l;for(;n<=s;){const c=Math.floor((n+s)/2),h=e[c].tabIndex;if(h===i){r=e[c-1]||void 0,l=e[c+1]||void 0;break}else h<i?(r=e[c],n=c+1):(l=e[c],s=c-1)}return{before:r,after:l}}};function ds(t,e,i,n,s){e.addEventListener(i,n);const r=()=>e.removeEventListener(i,n,s);return t.push(r),r}function kI(t,e,i){ds(t,e,"keydown",n=>{n.key==="Escape"&&i(n)})}function aj(t,e,i){const n=ds(t,window,"mousedown",s=>{[0,2].includes(s.button)&&!wI(e,s)&&(i(),n())});return n}function rj(t,e,i){const n=ds(t,window,"touchstart",s=>{Array.from(s.targetTouches).some(l=>!wI(e,l))&&(i(),n())});return n}function wI(t,e){if(e.target instanceof Element){const{x:i,y:n,width:s,height:r}=t.getBoundingClientRect(),{clientX:l,clientY:c}=e;return l>=i&&c>=n&&l<=i+s&&c<=n+r}return!1}function Dp(t){return!(t.shiftKey||t.altKey||t.ctrlKey||t.metaKey)}function xb(t,e,...i){return Dp(t)&&(t.key===e||i.some(n=>t.key===n))}function MA(t,e,i,n){i&&ds(t,e,"keydown",s=>{xb(s,n)&&i.focus()})}function oj(t,e,i,n,s,r){MA(t,e,s,r),MA(t,e,i,n),ds(t,e,"keydown",l=>{xb(l,n,r)&&l.preventDefault()})}var El={horizontal:{nextKey:"ArrowRight",prevKey:"ArrowLeft"},vertical:{nextKey:"ArrowDown",prevKey:"ArrowUp"}};function OI(t){const{orientation:e,buttons:i,wrapAround:n=!1,onEscape:s,onFocus:r,onBlur:l}=t,{nextKey:c,prevKey:h}=El[e],d=b=>{b.target&&"tabIndex"in b.target&&(i.forEach(v=>v.tabIndex=-1),b.target.tabIndex=0)},[p,g]=n?[i.length,i.length]:[0,1/0],m=[];for(let b=0;b<i.length;b++){const v=i[(p+b-1)%g],S=i[b],A=i[(p+b+1)%g];ds(m,S,"focus",d),r&&ds(m,S,"focus",r),l&&ds(m,S,"blur",l),s&&kI(m,S,s),oj(m,S,A,c,v,h),S.tabIndex=b===0?0:-1}return m}var lj=class{constructor(t,e,i){this.lastFocus=e,this.closeCallback=i,this.destroyFns=[],this.destroyFns.push(aj(this.destroyFns,t,()=>this.close(!0))),this.destroyFns.push(rj(this.destroyFns,t,()=>this.close(!0)))}close(t){this.destroyFns.forEach(e=>e()),this.destroyFns.length=0,this.closeCallback(),this.finishClosing(t)}finishClosing(t){var e;this.destroyFns.forEach(i=>i()),this.destroyFns.length=0,ae(this.lastFocus,"aria-expanded",!1),t||(e=this.lastFocus)==null||e.focus({preventScroll:!0}),this.lastFocus=void 0}};function RI(t){var v;const{sourceEvent:e,orientation:i,menu:n,buttons:s,closeCallback:r,overrideFocusVisible:l,autoCloseOnBlur:c=!1}=t,{nextKey:h,prevKey:d}=El[i],p=Mb(e);ae(p,"aria-expanded",!0);const g=new lj(n,p,r),m=()=>g.close(),{destroyFns:b}=g;if(n.role="menu",n.ariaOrientation=i,b.push(...OI({orientation:i,buttons:s,onEscape:m,wrapAround:!0})),n.tabIndex=-1,kI(b,n,m),ds(b,n,"keydown",S=>{var A;S.target===n&&(S.key===h||S.key===d)&&(S.preventDefault(),(A=s[0])==null||A.focus())}),c){const S=A=>{!s.includes(A.relatedTarget)&&m()};for(const A of s)ds(b,A,"blur",S)}return(v=s[0])==null||v.focus({preventScroll:!0}),l!==void 0&&(s.forEach(A=>A.setAttribute("data-focus-visible-override",l.toString())),ds(b,n,"keydown",()=>{s.forEach(A=>A.setAttribute("data-focus-visible-override","true"))},{once:!0})),g}function cj(t,e){return i=>{if(t.ariaDisabled==="true")return i.preventDefault();e(i)}}function vb(t){return"button"in t?t.button===0:Dp(t)&&(t.code==="Space"||t.key==="Enter")}function Mb(t){if((t==null?void 0:t.target)instanceof HTMLElement&&"tabindex"in t.target.attributes)return t.target}function jI(t){const e=i=>{if(i.defaultPrevented)return;Mp(i.target,"data-preventdefault",!0)&&xb(i,"ArrowRight","ArrowLeft","ArrowDown","ArrowUp")&&i.preventDefault()};return t.addEventListener("keydown",e),()=>t.removeEventListener("keydown",e)}var uj=class{constructor(t){this.callback=t,this.devicePixelRatio=pe("devicePixelRatio")??1,this.devicePixelRatioMediaQuery=void 0,this.devicePixelRatioListener=e=>{e.matches||(this.devicePixelRatio=pe("devicePixelRatio")??1,this.unregisterDevicePixelRatioListener(),this.registerDevicePixelRatioListener(),this.callback(this.pixelRatio))}}get pixelRatio(){return this.devicePixelRatio}observe(){this.registerDevicePixelRatioListener()}disconnect(){this.unregisterDevicePixelRatioListener()}unregisterDevicePixelRatioListener(){var t;(t=this.devicePixelRatioMediaQuery)==null||t.removeEventListener("change",this.devicePixelRatioListener),this.devicePixelRatioMediaQuery=void 0}registerDevicePixelRatioListener(){var e;const t=(e=pe("matchMedia"))==null?void 0:e(`(resolution: ${this.pixelRatio}dppx)`);t==null||t.addEventListener("change",this.devicePixelRatioListener),this.devicePixelRatioMediaQuery=t}},hj=class{constructor(){var e;this.elements=new Map,this.documentReady=!1,this.queuedObserveRequests=[],this.onLoad=()=>{this.documentReady=!0,this.queuedObserveRequests.forEach(([i,n])=>this.observe(i,n)),this.queuedObserveRequests=[],this.observeWindow()},typeof ResizeObserver<"u"&&(this.resizeObserver=new ResizeObserver(i=>{for(const{target:n,contentRect:{width:s,height:r}}of i){const l=this.elements.get(n);this.checkSize(l,n,s,r)}}));let t;this.pixelRatioObserver=new uj(()=>{clearTimeout(t),t=setTimeout(()=>this.checkPixelRatio(),0)}),this.documentReady=ga("readyState")==="complete",this.documentReady?this.observeWindow():(e=pe())==null||e.addEventListener("load",this.onLoad)}destroy(){var t,e,i;(t=pe())==null||t.removeEventListener("load",this.onLoad),(e=this.resizeObserver)==null||e.disconnect(),this.resizeObserver=void 0,(i=this.pixelRatioObserver)==null||i.disconnect(),this.pixelRatioObserver=void 0}observeWindow(){var t;(t=this.pixelRatioObserver)==null||t.observe()}checkPixelRatio(){var e;const t=((e=this.pixelRatioObserver)==null?void 0:e.pixelRatio)??1;for(const[i,n]of this.elements)if(n.size!=null&&n.size.pixelRatio!==t){const{width:s,height:r}=n.size;n.size={width:s,height:r,pixelRatio:t},n.cb(n.size,i)}}checkSize(t,e,i,n){var s,r,l;if(t&&(i!==((s=t.size)==null?void 0:s.width)||n!==((r=t.size)==null?void 0:r.height))){const c=((l=this.pixelRatioObserver)==null?void 0:l.pixelRatio)??1;t.size={width:i,height:n,pixelRatio:c},t.cb(t.size,e)}}observe(t,e){var n;if(!this.documentReady){this.queuedObserveRequests.push([t,e]);return}this.elements.has(t)?this.removeFromQueue(t):(n=this.resizeObserver)==null||n.observe(t);const i={cb:e};this.elements.set(t,i)}unobserve(t){var e;(e=this.resizeObserver)==null||e.unobserve(t),this.elements.delete(t),this.removeFromQueue(t),this.elements.size||this.destroy()}removeFromQueue(t){this.queuedObserveRequests=this.queuedObserveRequests.filter(([e])=>e!==t)}},Bl=class extends Map{constructor(t,e){super(),this.defaultValue=t,this.defaultState=e}set(t,e){return this.delete(t),typeof e<"u"&&super.set(t,e),this}stateId(){return Array.from(this.keys()).pop()??this.defaultState}stateValue(){return Array.from(this.values()).pop()??this.defaultValue}},dj='<div role="presentation" class="ag-charts-wrapper ag-charts-styles" data-ag-charts><div role="presentation" class="ag-charts-canvas-center"><div role="presentation" class="ag-charts-canvas-container"><div role="presentation" class="ag-charts-canvas" aria-hidden="true"></div><div role="figure" class="ag-charts-canvas-proxy"><div role="presentation" class="ag-charts-series-area"></div></div><div role="presentation" class="ag-charts-canvas-overlay"></div></div></div></div>',fj=["styles","canvas","canvas-center","canvas-container","canvas-overlay","canvas-proxy","series-area"],SA={safeHorizontal:"ag-charts-wrapper--safe-horizontal",safeVertical:"ag-charts-wrapper--safe-vertical"},pj=new Map([["styles",{childElementType:"style"}],["canvas",{childElementType:"canvas"}],["canvas-proxy",{childElementType:"div"}],["canvas-overlay",{childElementType:"div"}],["canvas-center",{childElementType:"div"}],["series-area",{childElementType:"div"}]]);function gj(t,e){if(typeof IntersectionObserver>"u")return;const i=new IntersectionObserver(n=>{for(const s of n)s.target===t&&e(s.intersectionRatio)},{root:t});return i.observe(t),i}var _I={x:0,y:0,width:0,height:0,top:0,bottom:0,left:0,right:0,toJSON(){return _I}};function DA(t,e){const i=zt("div");return i.className="ag-charts-tab-guard",t.insertAdjacentElement(e,i),i}var zI=class extends Dr{constructor(t,e){super(),this.styles=new Map,this.container=void 0,this.containerSize=void 0,this.sizeMonitor=new hj,this.cursorState=new Bl("default"),this.minWidth=0,this.minHeight=0;const i=zt("div");i.innerHTML=dj,this.element=i.children.item(0),this.styleRootElement=e,this.rootElements=fj.reduce((c,h)=>{const d=`ag-charts-${h}`,p=this.element.classList.contains(d)?this.element:this.element.querySelector(`.${d}`);if(!p)throw new Error(`AG Charts - unable to find DOM element ${d}`);return c[h]={element:p,children:new Map,listeners:[]},c},{});let n=!1;this.observer=gj(this.element,c=>{c===0&&!n&&this.listeners.dispatch("hidden",{type:"hidden"}),n=c===0}),this.setSizeOptions(),this.updateContainerSize(),this.addStyles("ag-charts-community",nj),t&&this.setContainer(t),this.destroyFns.push(jI(this.element));const s=this.element.querySelector(".ag-charts-canvas-center");if(s==null)throw new Error("Error initializing tab guards");const r=DA(s,"beforebegin"),l=DA(s,"afterend");this.tabGuards=new sj(s,r,l)}destroy(){var t;super.destroy(),(t=this.observer)==null||t.unobserve(this.element),this.container&&this.sizeMonitor.unobserve(this.container),Object.values(this.rootElements).forEach(e=>{e.children.forEach(i=>i.remove()),e.element.remove()}),this.element.remove()}setSizeOptions(t=300,e=300,i,n){const{style:s}=this.element;s.width=`${i??t}px`,s.height=`${n??e}px`,this.minWidth=i??t,this.minHeight=n??e,this.updateContainerClassName()}updateContainerSize(){const{style:t}=this.rootElements["canvas-center"].element;t.visibility=this.containerSize==null?"hidden":"",this.containerSize?(t.width=`${this.containerSize.width??0}px`,t.height=`${this.containerSize.height??0}px`):(t.width="",t.height=""),this.updateContainerClassName()}setTabGuardIndex(t){this.tabGuards.tabIndex=t}setContainer(t){if(t===this.container)return;if(this.container&&(this.container.removeChild(this.element),this.sizeMonitor.unobserve(this.container)),!(this.getShadowDocumentRoot(t)!=null))for(const i of this.rootElements.styles.children.keys())this.removeChild("styles",i);this.container=t;for(const[i,n]of this.styles)this.addStyles(i,n);t.appendChild(this.element),this.sizeMonitor.observe(t,i=>{this.containerSize=i,this.updateContainerSize(),this.listeners.dispatch("resize",{type:"resize"})}),this.listeners.dispatch("container-changed",{type:"container-changed"})}setThemeClass(t){const e="ag-charts-theme-";this.element.classList.forEach(i=>{i.startsWith(e)&&i!==t&&this.element.classList.remove(i)}),this.element.classList.add(t)}setThemeParameters(t){const e={accentColor:"accent-color",axisColor:"axis-color",backgroundColor:"background-color",borderColor:"border-color",foregroundColor:"foreground-color",fontFamily:"font-family",fontSize:"font-size",fontWeight:"font-weight",gridLineColor:"grid-line-color",padding:"padding",subtleTextColor:"subtle-text-color",textColor:"text-color",chromeBackgroundColor:"chrome-background-color",chromeFontFamily:"chrome-font-family",chromeFontSize:"chrome-font-size",chromeFontWeight:"chrome-font-weight",chromeSubtleTextColor:"chrome-subtle-text-color",chromeTextColor:"chrome-text-color",inputBackgroundColor:"input-background-color",inputTextColor:"input-text-color",crosshairLabelBackgroundColor:"crosshair-label-background-color",crosshairLabelTextColor:"crosshair-label-text-color"},i=["fontSize","chromeFontSize"];for(const[n,s]of Object.entries(t)){let r=`${s}`;i.includes(n)&&(r=`${s}px`),this.element.style.setProperty(`--ag-charts-${e[n]}`,r)}}updateCanvasLabel(t){ae(this.rootElements["canvas-proxy"].element,"aria-label",t)}getEventElement(t,e){return["focus","blur","keydown","keyup"].includes(e)?this.rootElements["series-area"].element:t}addEventListener(t,e,i){this.getEventElement(this.element,t).addEventListener(t,e,i)}removeEventListener(t,e,i){this.getEventElement(this.element,t).removeEventListener(t,e,i)}getBoundingClientRect(){return this.rootElements.canvas.element.getBoundingClientRect()}getOverlayClientRect(){var n;const t=pe(),e=new bt(0,0,t.innerWidth,t.innerHeight),i=this.getRawOverlayClientRect();return((n=e.intersection(i))==null?void 0:n.toDOMRect())??_I}getRawOverlayClientRect(){var s,r;let t=this.element;for(;t!=null;){const l=(s=t.computedStyleMap)==null?void 0:s.call(t),c=(r=l==null?void 0:l.get("overflow-y"))==null?void 0:r.toString();if(c==="auto"||c==="scroll")return bt.fromDOMRect(t.getBoundingClientRect());t=t.parentElement}const e=this.getShadowDocumentRoot();if(e!=null)return bt.fromDOMRect(e.getBoundingClientRect());const{innerWidth:i,innerHeight:n}=pe();return new bt(0,0,i,n)}getShadowDocumentRoot(t=this.container){var i;const e=((i=t==null?void 0:t.ownerDocument)==null?void 0:i.body)??ga("body");for(;t!=null;){if(t===e)return;if(t.parentNode instanceof DocumentFragment)return t;t=t.parentNode}return this.container}getParent(t){return this.rootElements[t].element}getChildBoundingClientRect(t){const{children:e}=this.rootElements[t],i=[];for(const n of e.values())i.push(bt.fromDOMRect(n.getBoundingClientRect()));return bt.merge(i)}isManagedChildDOMElement(t,e,i){const{children:n}=this.rootElements[e],s=n==null?void 0:n.get(i);return s!=null&&t.contains(s)}contains(t,e){return e==null?this.element.contains(t):this.rootElements[e].element.contains(t)}addStyles(t,e){const i="data-ag-charts";if(this.styles.set(t,e),this.container==null)return;const n=l=>l.getAttribute(i)===t,s=l=>{const c=new Set(["TITLE","META"]);let h=!0,d;for(const g of l.children){if(h&&c.has(g.tagName)){d=g;continue}if(h=!1,n(g))return;g.hasAttribute(i)&&(d=g)}const p=zt("style");return d!=null?l.insertBefore(p,d.nextSibling):l.prepend(p),p};let r;this.styleRootElement?r=s(this.styleRootElement):this.getShadowDocumentRoot(this.container)!=null?r=this.addChild("styles",t):r=s(ga("head")),!(r==null||n(r))&&(r.setAttribute(i,t),r.innerHTML=e)}removeStyles(t){this.removeChild("styles",t)}updateCursor(t,e){this.cursorState.set(t,e),this.element.style.cursor=this.cursorState.stateValue()}getCursor(){return this.element.style.cursor}addChild(t,e,i,n){const{element:s,children:r,listeners:l}=this.rootElements[t];if(!r)throw new Error("AG Charts - unable to create DOM elements after destroy()");if(r.has(e))return r.get(e);const{childElementType:c="div"}=pj.get(t)??{};if(i&&i.tagName.toLowerCase()!==c.toLowerCase())throw new Error("AG Charts - mismatching DOM element type");const h=i??zt(c);for(const[d,p,g]of l)h.addEventListener(d,p,g);if(r.set(e,h),n){const d=s.querySelector(n.query);if(d==null)throw new Error(`AG Charts - addChild query failed ${n.query}`);d.insertAdjacentElement(n.where,h)}else s==null||s.appendChild(h);return h}removeChild(t,e){var n;const{children:i}=this.rootElements[t];i&&((n=i.get(e))==null||n.remove(),i.delete(e))}incrementDataCounter(t){const{dataset:e}=this.element;e[t]??(e[t]="0"),e[t]=String(Number(e[t])+1)}setDataBoolean(t,e){this.element.dataset[t]=String(e)}updateContainerClassName(){const{element:t,containerSize:e,minWidth:i,minHeight:n}=this;t.classList.toggle(SA.safeHorizontal,i>=((e==null?void 0:e.width)??1/0)),t.classList.toggle(SA.safeVertical,n>=((e==null?void 0:e.height)??1/0))}},mj=class extends zs{constructor(){super(zt("div")),this.textElement=Kn("text"),this.textElement.role="presentation",this.svgElement=Kn("svg"),this.svgElement.appendChild(this.textElement),this.svgElement.style.width="100%",this.svgElement.style.opacity="0",this.svgElement.role="presentation",this.elem.appendChild(this.svgElement),this.elem.role="presentation"}set textContent(t){var n;this.textElement.textContent=t;const e=this.textElement,i=(n=e.getBBox)==null?void 0:n.call(e);i&&this.svgElement.setAttribute("viewBox",`${i.x} ${i.y} ${i.width} ${i.height}`)}get textContent(){return this.textElement.textContent}destructor(){}},ph=class extends zs{constructor(){super(zt("button")),this.setEnabled(!0)}destructor(){}setEnabled(t){ae(this.elem,"aria-disabled",!t),hs(this.elem,"pointer-events",t?void 0:"none")}addListener(t,e){return super.addListener(t,(i,n)=>{(t==="click"||t==="dblclick")&&this.isDisabled()||e(i,n)})}},yj=class extends zs{constructor(){super(zt("div")),ae(this.elem,"role","group")}destructor(){}},PI=class extends zs{constructor(t,e){super(zt("div")),this.focusedChildIndex=0,this.onChildFocus=(i,n)=>{const s=this.children[this.focusedChildIndex];this.focusedChildIndex=n.index,s==null||s.setTabIndex(-1),n.setTabIndex(0)},this.onChildKeyDown=(i,n)=>{var h;const s=this.orientation,[r,l]=s==="both"?[El.horizontal,El.vertical]:[El[s],void 0];let c=-1;if(Dp(i.sourceEvent)){const d=i.sourceEvent.key;d===r.nextKey||d===(l==null?void 0:l.nextKey)?c=n.index+1:(d===r.prevKey||d===(l==null?void 0:l.prevKey))&&(c=n.index-1)}(h=this.children[c])==null||h.focus()},this.orientation=t,ae(this.elem,"role",e)}get orientation(){return Mp(this.elem,"aria-orientation")??"both"}set orientation(t){ae(this.elem,"aria-orientation",t!=="both"?t:void 0)}focus(){var t;(t=this.children[this.focusedChildIndex])==null||t.focus()}onChildAdded(t){t.addListener("focus",this.onChildFocus),t.addListener("keydown",this.onChildKeyDown),t.setTabIndex(this.children.length===1?0:-1)}onChildRemoved(t){t.removeListener("focus",this.onChildFocus),t.removeListener("keydown",this.onChildKeyDown)}},bj=class extends PI{constructor(){super("both","list"),this.setHidden(!0)}destructor(){this.children.forEach(t=>t.getElement().parentElement.remove())}addChildToDOM(t,e){const i=zt("div");ae(i,"role","listitem"),hs(i,"position","absolute"),zs.setElementContainer(t,i),this.appendOrInsert(i,e),this.setHidden(!1)}removeChildFromDOM(t){t.getElement().parentElement.remove(),this.setHidden(this.children.length===0)}setHidden(t){this.children.length===0&&(t=!0),super.setHidden(t)}},Fl=class extends zs{constructor(t){super(t)}destructor(){}},Sb=class vu extends zs{constructor(){super(zt("input")),this._step=vu.STEP_ONE,this.orientation="both"}get step(){return this._step}set step(e){this._step=e,this.getElement().step=e.attributeValue}get keyboardStep(){var e;return((e=this._keyboardStep)==null?void 0:e.step)??this._step}set keyboardStep(e){var i;if(e!==((i=this._keyboardStep)==null?void 0:i.step)&&(this._keyboardStep!==void 0&&(this.removeListener("keydown",this._keyboardStep.onKeyDown),this.removeListener("keyup",this._keyboardStep.onKeyUp),this.removeListener("blur",this._keyboardStep.onBlur),this._keyboardStep=void 0),e!==void 0)){const n=()=>this.getElement().step=e.attributeValue,s=()=>this.getElement().step=this._step.attributeValue;this._keyboardStep={step:e,onKeyDown:n,onKeyUp:s,onBlur:s},this.addListener("keydown",this._keyboardStep.onKeyDown),this.addListener("keyup",this._keyboardStep.onKeyUp),this.addListener("blur",this._keyboardStep.onBlur)}}get orientation(){return Mp(this.elem,"aria-orientation")??"both"}set orientation(e){ae(this.elem,"aria-orientation",e!=="both"?e:void 0),vu.registerDefaultPreventers(this,e)}destructor(){}clampValueRatio(e,i){const n=this.getValueRatio(),s=Et(e,n,i);return s!==n&&this.setValueRatio(s),s}setValueRatio(e,i){const{divider:n}=this.step,s=Math.round(e*1e4)/n,{ariaValueText:r=iI(s/n)}=i??{},l=this.getElement();l.value=`${s}`,l.ariaValueText=r}getValueRatio(){return parseFloat(this.getElement().value)/this.step.divider}static registerDefaultPreventers(e,i){i==="both"?e.removeListener("keydown",vu.onKeyDown):e.addListener("keydown",vu.onKeyDown)}static onKeyDown(e,i){let n=[];const{orientation:s}=i;s==="horizontal"?n=["ArrowUp","ArrowDown"]:s==="vertical"&&(n=["ArrowLeft","ArrowRight"]),n.includes(e.sourceEvent.code)&&e.sourceEvent.preventDefault()}};Sb.STEP_ONE={attributeValue:"1",divider:1};Sb.STEP_HUNDRETH={attributeValue:"0.01",divider:100};var Db=Sb,xj=class extends ph{constructor(){super(),ae(this.elem,"role","switch"),this.setChecked(!1)}setChecked(t){ae(this.elem,"aria-checked",t)}},Ap=class extends PI{constructor(t="horizontal"){super(t,"toolbar")}destructor(){}};function bl(t,e){var i;return((i=e.params)==null?void 0:i.type)===t}function vj(t){if(t==="button")return new ph;if(t==="slider")return new Db;if(t==="toolbar")return new Ap;if(t==="group")return new yj;if(t==="list")return new bj;if(t==="region")return new Fl(zt("div"));if(t==="text")return new mj;if(t==="listswitch")return new xj;throw Error("AG Charts - error allocating meta")}function AA(t){const e={params:t,result:void 0};return e.result=vj(e.params.type),e}var BI=class{constructor(t,e){this.localeManager=t,this.domManager=e,this.destroyFns=[]}destroy(){this.destroyFns.forEach(t=>t())}addLocalisation(t){t(),this.destroyFns.push(this.localeManager.addListener("locale-changed",t))}createProxyContainer(t){const e=AA(t),{params:i,result:n}=e,s=n.getElement();return this.domManager.addChild("canvas-proxy",i.domManagerId,s),s.classList.add(...i.classList,"ag-charts-proxy-container"),s.role=i.type,"ariaOrientation"in i&&(s.ariaOrientation=i.ariaOrientation),bl("toolbar",e)&&(e.result.orientation=e.params.orientation),this.addLocalisation(()=>{s.ariaLabel=this.localeManager.t(i.ariaLabel.id,i.ariaLabel.params)}),n}createProxyElement(t){const e=AA(t);if(bl("button",e)){const{params:i,result:n}=e,s=n.getElement();if(this.initInteract(i,n),typeof i.textContent=="string")s.textContent=i.textContent;else{const{textContent:r}=i;this.addLocalisation(()=>{s.textContent=this.localeManager.t(r.id,r.params)})}this.setParent(e.params,e.result)}if(bl("slider",e)){const{params:i,result:n}=e,s=n.getElement();this.initInteract(i,n),s.type="range",s.role="presentation",s.style.margin="0px",this.addLocalisation(()=>{s.ariaLabel=this.localeManager.t(i.ariaLabel.id,i.ariaLabel.params)}),this.setParent(e.params,e.result)}if(bl("text",e)){const{params:i,result:n}=e;this.initElement(i,n),this.setParent(e.params,e.result)}if(bl("listswitch",e)){const{params:i,result:n}=e;this.initInteract(i,n),n.setTextContent(i.textContent),n.setChecked(i.ariaChecked),n.setAriaDescribedBy(i.ariaDescribedBy),this.setParent(e.params,e.result)}if(bl("region",e)){const{params:i,result:n}=e,s=n.getElement();this.initInteract(i,n),s.role="region",this.setParent(e.params,e.result)}return e.result}initElement(t,e){const i=e.getElement();return ae(i,"id",t.id),hs(i,"cursor",t.cursor),i.classList.toggle("ag-charts-proxy-elem",!0),i}initInteract(t,e){const{tabIndex:i,domIndex:n}=t,s=this.initElement(t,e);i!==void 0&&(s.tabIndex=i),n!==void 0&&(e.domIndex=n)}setParent(t,e){var i;if("parent"in t)(i=t.parent)==null||i.addChild(e);else{const n={where:t.where,query:".ag-charts-series-area"};this.domManager.addChild("canvas-proxy",t.domManagerId,e.getElement(),n)}}},Mj={ariaAnnounceHoverDatum:"${datum}",ariaAnnounceChart:"chart, ${seriesCount}[number] series",ariaAnnounceHierarchyChart:"hierarchy chart, ${caption}",ariaAnnounceGaugeChart:"gauge chart, ${caption}",ariaAnnounceHierarchyDatum:"level ${level}[number], ${count}[number] children, ${description}",ariaAnnounceFlowProportionLink:"link ${index} of ${count}, from ${from} to ${to}, ${sizeName} ${size}",ariaAnnounceFlowProportionNode:"node ${index} of ${count}, ${description}",ariaDescriptionLegendItem:"Press Space or Enter to toggle visibility",ariaLabelAddHorizontalLine:"Add Horizontal Line",ariaLabelAnnotationOptionsToolbar:"Annotation Options",ariaLabelAnnotationSettingsDialog:"Annotation Settings",ariaLabelColorPicker:"Color picker",ariaLabelFinancialCharts:"Financial Charts",ariaLabelLegend:"Legend",ariaLabelLegendPagination:"Legend Pagination",ariaLabelLegendPagePrevious:"Previous Legend Page",ariaLabelLegendPageNext:"Next Legend Page",ariaLabelLegendItem:"${label}, Legend item ${index}[number] of ${count}[number]",ariaLabelLegendItemUnknown:"Unknown legend item",ariaLabelNavigator:"Navigator",ariaLabelNavigatorRange:"Range",ariaLabelNavigatorMinimum:"Minimum",ariaLabelNavigatorMaximum:"Maximum",ariaLabelRangesToolbar:"Ranges",ariaLabelSettingsTabBar:"Settings",ariaLabelZoomToolbar:"Zoom",ariaValuePanRange:"${min}[percent] to ${max}[percent]",iconAltTextLineStyleSolid:"Solid",iconAltTextLineStyleDashed:"Long-dashed",iconAltTextLineStyleDotted:"Short-dashed",iconAltTextPositionTop:"Top",iconAltTextPositionCenter:"Center",iconAltTextPositionBottom:"Bottom",iconAltTextAlignLeft:"Left",iconAltTextAlignCenter:"Center",iconAltTextAlignRight:"Right",iconAltTextClose:"Close",overlayLoadingData:"Loading data...",overlayNoData:"No data to display",overlayNoVisibleSeries:"No visible series",overlayUnsupportedBrowser:"Incompatible browser version. Please upgrade your browser.",seriesHistogramTooltipFrequency:"Frequency",seriesHistogramTooltipSum:"${yName} (sum)",seriesHistogramTooltipCount:"${yName} (count)",seriesHistogramTooltipMean:"${yName} (mean)",toolbarSeriesTypeDropdown:"Chart Type",toolbarSeriesTypeOHLC:"OHLC",toolbarSeriesTypeHLC:"HLC",toolbarSeriesTypeHighLow:"High Low",toolbarSeriesTypeCandles:"Candles",toolbarSeriesTypeHollowCandles:"Hollow Candles",toolbarSeriesTypeLine:"Line",toolbarSeriesTypeLineWithMarkers:"Line with Markers",toolbarSeriesTypeStepLine:"Step Line",toolbarAnnotationsTrendLine:"Trend Line",toolbarAnnotationsFibonacciRetracement:"Fib Retracement",toolbarAnnotationsFibonacciRetracementTrendBased:"Fib Trend Based",toolbarAnnotationsHorizontalLine:"Horizontal Line",toolbarAnnotationsVerticalLine:"Vertical Line",toolbarAnnotationsParallelChannel:"Parallel Channel",toolbarAnnotationsDisjointChannel:"Disjoint Channel",toolbarAnnotationsClearAll:"Clear All",toolbarAnnotationsFillColor:"Fill Color",toolbarAnnotationsLineColor:"Line Color",toolbarAnnotationsLineStyle:"Line Style",toolbarAnnotationsLineStrokeWidth:"Line Stroke Width",toolbarAnnotationsSettings:"Settings",toolbarAnnotationsTextColor:"Text Color",toolbarAnnotationsTextSize:"Text Size",toolbarAnnotationsLock:"Lock",toolbarAnnotationsUnlock:"Unlock",toolbarAnnotationsDelete:"Delete",toolbarAnnotationsDragHandle:"Drag Toolbar",toolbarAnnotationsLineAnnotations:"Trend Lines",toolbarAnnotationsFibonacciAnnotations:"Fibonacci",toolbarAnnotationsTextAnnotations:"Text Annotations",toolbarAnnotationsShapeAnnotations:"Arrows",toolbarAnnotationsMeasurerAnnotations:"Measurers",toolbarAnnotationsCallout:"Callout",toolbarAnnotationsComment:"Comment",toolbarAnnotationsNote:"Note",toolbarAnnotationsText:"Text",toolbarAnnotationsArrow:"Arrow",toolbarAnnotationsArrowUp:"Arrow Up",toolbarAnnotationsArrowDown:"Arrow Down",toolbarAnnotationsDateRange:"Date Range",toolbarAnnotationsPriceRange:"Price Range",toolbarAnnotationsDatePriceRange:"Date and Price",toolbarAnnotationsQuickDatePriceRange:"Measure",toolbarRange1Month:"1M",toolbarRange1MonthAria:"1 month",toolbarRange3Months:"3M",toolbarRange3MonthsAria:"3 months",toolbarRange6Months:"6M",toolbarRange6MonthsAria:"6 months",toolbarRangeYearToDate:"YTD",toolbarRangeYearToDateAria:"Year to date",toolbarRange1Year:"1Y",toolbarRange1YearAria:"1 year",toolbarRangeAll:"All",toolbarRangeAllAria:"All",toolbarZoomZoomOut:"Zoom out",toolbarZoomZoomIn:"Zoom in",toolbarZoomPanLeft:"Pan left",toolbarZoomPanRight:"Pan right",toolbarZoomPanStart:"Pan to the start",toolbarZoomPanEnd:"Pan to the end",toolbarZoomReset:"Reset the zoom",contextMenuDownload:"Download",contextMenuToggleSeriesVisibility:"Toggle Visibility",contextMenuToggleOtherSeries:"Toggle Other Series",contextMenuZoomToCursor:"Zoom to here",contextMenuPanToCursor:"Pan to here",dialogHeaderChannel:"Channel",dialogHeaderLine:"Line",dialogHeaderFibonacciRange:"Fib Retracement",dialogHeaderDateRange:"Date Range",dialogHeaderPriceRange:"Price Range",dialogHeaderDatePriceRange:"Date and Price",dialogHeaderText:"Text",dialogInputAlign:"Align",dialogInputColorPicker:"Color",dialogInputColorPickerAltText:"Text Color",dialogInputFillColorPicker:"Fill",dialogInputFillColorPickerAltText:"Fill Color",dialogInputExtendChannelStart:"Extend channel start",dialogInputExtendChannelEnd:"Extend channel end",dialogInputExtendLineStart:"Extend line start",dialogInputExtendLineEnd:"Extend line end",dialogInputExtendAbove:"Extend above",dialogInputExtendBelow:"Extend below",dialogInputExtendLeft:"Extend left",dialogInputExtendRight:"Extend right",dialogInputReverse:"Reverse",dialogInputShowFill:"Show Fill",dialogInputFontSize:"Size",dialogInputFontSizeAltText:"Font Size",dialogInputLineStyle:"Dash",dialogInputPosition:"Position",dialogInputStrokeWidth:"Weight",dialogInputStrokeWidthAltText:"Line Weight",dialogInputFibonacciBands:"Bands",dialogInputFibonacciBandsAltText:"Fibonacci Bands",inputTextareaPlaceholder:"Add Text",measurerDateRangeBars:"${value}[number] bars",measurerPriceRangeValue:"${value}[number]",measurerPriceRangePercent:"${value}[percent]",measurerVolume:"Vol ${value}"},Sj=/\$\{(\w+)}(?:\[(\w+)])?/gi,Ay={number:new Intl.NumberFormat("en-US"),percent:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}),date:new Intl.DateTimeFormat("en-US",{dateStyle:"full"}),time:new Intl.DateTimeFormat("en-US",{timeStyle:"full"}),datetime:new Intl.DateTimeFormat("en-US",{dateStyle:"full",timeStyle:"full"})},Dj=({defaultValue:t,variables:e})=>t==null?void 0:t.replaceAll(Sj,(i,n,s)=>{const r=e[n],l=s!=null?Ay[s]:null;return s!=null&&l==null&&ot.warnOnce(`Format style [${s}] is not supported`),l!=null?l.format(r):typeof r=="number"?Ay.number.format(r):r instanceof Date?Ay.datetime.format(r):String(r)}),Aj=class extends La{constructor(){super(...arguments),this.localeText=void 0,this.getLocaleText=void 0}setLocaleText(t){this.localeText!==t&&(this.localeText=t,this.dispatch("locale-changed"))}setLocaleTextFormatter(t){this.getLocaleText=t,this.getLocaleText!==t&&(this.getLocaleText=t,this.dispatch("locale-changed"))}t(t,e={}){const{localeText:i=Mj,getLocaleText:n}=this,s=i[t];return(n==null?void 0:n({key:t,defaultValue:s,variables:e}))??Dj({defaultValue:s,variables:e})??t}},Ab=class{constructor(t){this.enabled=!0,this.width=600,this.height=300;const{width:e,height:i,canvasElement:n,willReadFrequently:s=!1}=t;this.pixelRatio=t.pixelRatio??pe("devicePixelRatio")??1,this.element=n??zt("canvas"),this.element.style.display="block",this.element.style.width=(e??this.width)+"px",this.element.style.height=(i??this.height)+"px",this.element.width=Math.round((e??this.width)*this.pixelRatio),this.element.height=Math.round((i??this.height)*this.pixelRatio),this.context=this.element.getContext("2d",{willReadFrequently:s}),this.onEnabledChange(),this.resize(e??0,i??0,this.pixelRatio),wT(this.context)}drawImage(t,e=0,i=0){return t.drawImage(this.context.canvas,e,i)}toDataURL(t){return this.element.toDataURL(t)}resize(t,e,i){if(!(t>0&&e>0))return;const{element:n,context:s}=this;n.width=Math.round(t*i),n.height=Math.round(e*i),s.setTransform(i,0,0,i,0,0),n.style.width=t+"px",n.style.height=e+"px",this.width=t,this.height=e,this.pixelRatio=i}clear(){kT(this)}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}onEnabledChange(){this.element&&(this.element.style.display=this.enabled?"":"none")}};M([vr(t=>t.onEnabledChange())],Ab.prototype,"enabled",2);var Lj=class{constructor(t){this.canvas=t,this.debug=ce.create(!0,"scene"),this.layersMap=new Map,this.nextLayerId=0}get size(){return this.layersMap.size}resize(t,e,i){this.canvas.resize(t,e,i),this.layersMap.forEach(({canvas:n})=>n.resize(t,e,i))}addLayer(t){const{width:e,height:i,pixelRatio:n}=this.canvas,{name:s}=t,r=new OT({width:e,height:i,pixelRatio:n});return this.layersMap.set(r,{id:this.nextLayerId++,name:s,canvas:r}),this.debug("Scene.addLayer() - layers",this.layersMap),r}removeLayer(t){this.layersMap.has(t)&&(this.layersMap.delete(t),t.destroy(),this.debug("Scene.removeLayer() -  layers",this.layersMap))}clear(){for(const t of this.layersMap.values())t.canvas.destroy();this.layersMap.clear()}};function Tj(t){for(const e of["B","KB","MB","GB"]){if(t<1536)return`${t.toFixed(1)}${e}`;t/=1024}return`${t.toFixed(1)}TB}`}function Ij(){if(!("memory"in performance))return;const{totalJSHeapSize:t,usedJSHeapSize:e,jsHeapSizeLimit:i}=performance.memory,n=[];for(const s of[e,t,i])typeof s=="number"&&n.push(Tj(s));return`Heap ${n.join(" / ")}`}function LA(t,e,i,n,s={},r=bt.zero){if(!ce.check("scene:stats","scene:stats:verbose"))return;const{layersRendered:l=0,layersSkipped:c=0,nodesRendered:h=0,nodesSkipped:d=0,opsPerformed:p=0,opsSkipped:g=0}=n??{},m=performance.now(),{start:b,...v}=e,S=Object.entries(v).map(([B,q])=>TA(B,q)).filter(B=>B!=null).join(" + "),A=Object.entries(s).map(([B,q])=>`${B}: ${JSON.stringify(q)}`).join(" ; "),D=ce.check("scene:stats:verbose"),L=Ij(),C=[`${TA("",b,m)} (${S})`,`${A}`,`Layers: ${D?Ly(l,c):t.size}`,D?`Nodes: ${Ly(h,d)}`:null,D?`Ops: ${Ly(p,g)}`:null,D&&L?L:null].filter(rn),N=new tb(B=>i.measureText(B)),k=new Map(C.map(B=>[B,N.measureLines(B)])),O=Math.max(...Array.from(k.values(),B=>B.width)),_=Oj(k.values(),B=>B.height),j=2+r.x;i.save(),i.fillStyle="white",i.fillRect(j,0,O,_),i.fillStyle="black";let z=0;for(const[B,q]of k.entries())z+=q.height,i.fillText(B,j,z);i.restore()}function Nj(t){const e=Sf(pe("agChartsSceneDebug")),i=[];for(const n of e)n==="layout"?i.push("seriesRoot","legend","root",/.*Axis-\d+-axis.*/):i.push(n);t.debugNodeSearch=i}function Cj(t,e){t.save();for(const[i,n]of Object.entries(e)){const s=ke.toCanvas(n);if(!s){ot.log(`Scene.render() - no bbox for debugged node [${i}].`);continue}t.globalAlpha=.8,t.strokeStyle="red",t.lineWidth=1,t.strokeRect(s.x,s.y,s.width,s.height),t.fillStyle="red",t.strokeStyle="white",t.font="16px sans-serif",t.textBaseline="top",t.textAlign="left",t.lineWidth=2,t.strokeText(i,s.x,s.y,s.width),t.fillText(i,s.x,s.y,s.width)}t.restore()}var Ej=new Set,kj=new Set(["gradient","zIndex","clipRect","cachedBBox","childNodeCounts","path","__zIndex","name","__scalingCenterX","__scalingCenterY","__rotationCenterX","__rotationCenterY","_previousDatum","__fill","__lineDash","borderPath","borderClipPath","_clipPath"]);function wj(t){const{...e}=t;for(const i of Object.keys(e))kj.has(i)||typeof e[i]!="number"&&typeof e[i]!="string"&&typeof e[i]!="boolean"&&(Ej.add(i),delete e[i]);return e}function mf(t,e){if(!ce.check(!0,"scene"))return{};let i=0;return{node:e==="json"?wj(t):t,name:t.name??t.id,dirty:t.dirty,...Array.from(t.children(),n=>mf(n,e)).reduce((n,s)=>{let{name:r}=s;const{node:{visible:l,opacity:c,zIndex:h,translationX:d,translationY:p,rotation:g,scalingX:m,scalingY:b},node:v}=s;(!l||c<=0)&&(r=`(${r})`),Tt.is(v)&&v.renderToOffscreenCanvas&&(r=`*${r}*`);const S=Array.isArray(h)?`(${h.join(", ")})`:h,A=[`${(i++).toString().padStart(3,"0")}|`,`${r??"<unknown>"}`,`z: ${S}`,d&&`x: ${d}`,p&&`y: ${p}`,g&&`r: ${g}`,m!=null&&m!==1&&`sx: ${m}`,b!=null&&b!==1&&`sy: ${b}`].filter(C=>!!C).join(" ");let D=A,L=1;for(;n[D]!=null&&L<100;)D=`${A} (${L++})`;return n[D]=s,n},{})}}function FI(t){if(!t.dirty)return{dirtyTree:{},paths:[]};const e=Array.from(t.children(),s=>FI(s)).filter(s=>s.paths.length>0),i=Tt.is(t)?t.name??t.id:t.id,n=e.length?e.flatMap(s=>s.paths).map(s=>`${i}.${s}`):[i];return{dirtyTree:{name:i,node:t,dirty:t.dirty,...e.map(s=>s.dirtyTree).filter(s=>s.dirty!=null).reduce((s,r)=>(s[r.name??"<unknown>"]=r,s),{})},paths:n}}function Ly(t,e){const i=t+e;return`${t} / ${i} (${Math.round(100*t/i)}%)`}function TA(t,e,i){const n=i!=null?i-e:e;return`${t}: ${Math.round(n*100)/100}ms`}function Oj(t,e){let i=0;for(const n of t)i+=e(n);return i}var Lp=class{constructor(t){this.debug=ce.create(!0,"scene"),this.id=qn(this),this.root=null,this.pendingSize=null,this.isDirty=!1,this.canvas=new Ab(t),this.layersManager=new Lj(this.canvas)}get width(){var t;return((t=this.pendingSize)==null?void 0:t[0])??this.canvas.width}get height(){var t;return((t=this.pendingSize)==null?void 0:t[1])??this.canvas.height}get pixelRatio(){var t;return((t=this.pendingSize)==null?void 0:t[2])??this.canvas.pixelRatio}setContainer(t){var i;const{element:e}=this.canvas;return(i=e.parentElement)==null||i.removeChild(e),t.appendChild(e),this}setRoot(t){var e;return this.root===t?this:(this.isDirty=!0,(e=this.root)==null||e._setLayerManager(),this.root=t,t&&(t.visible=!0,t._setLayerManager(this.layersManager)),this)}clear(){this.canvas.clear()}attachNode(t){return this.appendChild(t),()=>this.removeChild(t)}appendChild(t){var e;return(e=this.root)==null||e.appendChild(t),this}removeChild(t){var e;return(e=this.root)==null||e.removeChild(t),this}download(t,e){XL(this.canvas.toDataURL(e),(t==null?void 0:t.trim())??"image")}getDataURL(t){return this.canvas.toDataURL(t)}resize(t,e,i){return t=Math.round(t),e=Math.round(e),i??(i=this.pixelRatio),t>0&&e>0&&(t!==this.width||e!==this.height||i!==this.pixelRatio)?(this.pendingSize=[t,e,i],this.isDirty=!0,!0):!1}render(t){var v;const{debugSplitTimes:e={start:performance.now()},extraDebugStats:i,seriesRect:n}=t??{},{canvas:s,canvas:{context:r}={},root:l,pendingSize:c,width:h,height:d,pixelRatio:p}=this;if(!r)return;const g=performance.now();if(c&&(this.layersManager.resize(...c),this.pendingSize=null),l&&!l.visible){this.isDirty=!1;return}if((l==null?void 0:l.dirty)===!1&&!this.isDirty){this.debug.check()&&this.debug("Scene.render() - no-op",{tree:mf(l,"console")}),LA(this.layersManager,e,r,void 0,i,n);return}const m={ctx:r,width:h,height:d,devicePixelRatio:p,debugNodes:{}};ce.check("scene:stats:verbose")&&(m.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0,opsPerformed:0,opsSkipped:0}),Nj(m);let b=!1;if((l==null?void 0:l.dirty)!==!1&&(b=!0,s.clear()),l&&ce.check("scene:dirtyTree")){const{dirtyTree:S,paths:A}=FI(l);ce.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:S,paths:A})}if(l&&b){if(l.visible&&l.preRender(m),this.debug.check()){const S=mf(l,"console");this.debug("Scene.render() - before",{canvasCleared:b,tree:S})}l.visible&&(r.save(),l.render(m),r.restore())}e[""]=performance.now()-g,(v=r.verifyDepthZero)==null||v.call(r),this.isDirty=!1,LA(this.layersManager,e,r,m.stats,i,n),Cj(r,m.debugNodes),l&&this.debug.check()&&this.debug("Scene.render() - after",{tree:mf(l,"console"),canvasCleared:b})}toSVG(){const{root:t,width:e,height:i}=this;if(t!=null)return yr.toSVG(t,e,i)}strip(){const{context:t,pixelRatio:e}=this.canvas;t.setTransform(e,0,0,e,0,0),this.layersManager.clear(),this.setRoot(null),this.isDirty=!1}destroy(){this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0})}};Lp.className="Scene";var Rj=class{constructor(){this.cache=new WeakMap}call(t,...e){let i,n=this.cache.get(t);try{i=JSON.stringify(e)}catch{return this.invoke(t,e,n)}return n==null&&(n=new Map,this.cache.set(t,n)),n.has(i)?n.get(i):this.invoke(t,e,n,i)}invoke(t,e,i,n){try{const s=t(...e);return i&&n!=null&&i.set(n,s),s}catch(s){ot.warnOnce("User callback errored, ignoring",s);return}}invalidateCache(){this.cache=new WeakMap}},jj=class extends Dr{constructor(t){super(),this.annotationRoot=t,this.mementoOriginatorKey="annotations",this.annotations=[]}createMemento(){return this.annotations}guardMemento(t){return t==null||ge(t)}restoreMemento(t,e,i){this.annotations=this.cleanData(i??[]).map(n=>{const s=this.getAnnotationTypeStyles(n.type);return Rt(n,s)}),this.listeners.dispatch("restore-annotations",{type:"restore-annotations",annotations:this.annotations})}updateData(t){this.annotations=this.cleanData(t??[])}attachNode(t){return this.annotationRoot.append(t),()=>{var e;return(e=this.annotationRoot)==null||e.removeChild(t),this}}setAnnotationStyles(t){this.styles=t}getAnnotationTypeStyles(t){var e;return(e=this.styles)==null?void 0:e[t]}cleanData(t){for(const e of t)"textAlign"in e&&delete e.textAlign;return t}},_j=class{constructor(t){this.sceneRoot=t,this.axes=new Map,this.axisGridGroup=new Tt({name:"Axes-Grids",zIndex:1}),this.axisGroup=new Tt({name:"Axes",zIndex:2}),this.axisLabelGroup=new Tt({name:"Axes-Labels",zIndex:13}),this.axisCrosslineRangeGroup=new Tt({name:"Axes-Crosslines-Range",zIndex:4}),this.axisCrosslineLineGroup=new Tt({name:"Axes-Crosslines-Line",zIndex:8}),this.axisCrosslineLabelGroup=new Tt({name:"Axes-Crosslines-Label",zIndex:13}),this.sceneRoot.appendChild(this.axisGroup),this.sceneRoot.appendChild(this.axisGridGroup),this.sceneRoot.appendChild(this.axisLabelGroup),this.sceneRoot.appendChild(this.axisCrosslineRangeGroup),this.sceneRoot.appendChild(this.axisCrosslineLineGroup),this.sceneRoot.appendChild(this.axisCrosslineLabelGroup)}updateAxes(t,e){var n;const i={axisNode:this.axisGroup,gridNode:this.axisGridGroup,labelNode:this.axisLabelGroup,crossLineRangeNode:this.axisCrosslineRangeGroup,crossLineLineNode:this.axisCrosslineLineGroup,crossLineLabelNode:this.axisCrosslineLabelGroup};for(const s of t)e.includes(s)||(s.detachAxis(i),s.destroy());for(const s of e)t!=null&&t.includes(s)||s.attachAxis(i);this.axes.clear();for(const s of e){const r=s.createAxisContext();this.axes.has(r.direction)?(n=this.axes.get(r.direction))==null||n.push(r):this.axes.set(r.direction,[r])}}getAxisContext(t){return this.axes.get(t)??[]}destroy(){this.axes.clear(),this.sceneRoot.removeChild(this.axisGroup),this.sceneRoot.removeChild(this.axisGridGroup)}},Tp=class extends La{constructor(t){super(),this.animationManager=t,this.dispatchOnlyLatest=!0,this.dispatchThrottle=0,this.requestThrottle=300,this.isLoadingInitialData=!1,this.isLoadingData=!1,this.freshRequests=[],this.requestCounter=0,this.debug=ce.create(!0,"data-model","data-source"),this.throttledFetch=this.createThrottledFetch(this.requestThrottle),this.throttledDispatch=this.createThrottledDispatch(this.dispatchThrottle)}updateCallback(t){typeof t=="function"&&(this.debug("DataService - updated data source callback"),this.dataSourceCallback=t,this.isLoadingInitialData=!0,this.animationManager.skip(),this.dispatch("data-source-change"))}clearCallback(){this.dataSourceCallback=void 0}load(t){this.isLoadingData=!0,this.throttledFetch(t)}isLazy(){return this.dataSourceCallback!=null}isLoading(){return this.isLazy()&&(this.isLoadingInitialData||this.isLoadingData)}createThrottledFetch(t){return VD(e=>this.fetch(e).catch(i=>ot.error("callback failed",i)),t,{leading:!1,trailing:!0})}createThrottledDispatch(t){return VD((e,i)=>{this.debug(`DataService - dispatching 'data-load' | ${e}`),this.dispatch("data-load",{type:"data-load",data:i})},t,{leading:!0,trailing:!0})}async fetch(t){if(!this.dataSourceCallback)throw new Error("DataService - [dataSource.getData] callback not initialised");const e=performance.now(),i=this.requestCounter++;this.debug(`DataService - requesting | ${i}`),this.freshRequests.push(i);let n;try{n=await this.dataSourceCallback(t),this.debug(`DataService - response | ${performance.now()-e}ms | ${i}`)}catch(r){this.debug(`DataService - request failed | ${i}`),ot.errorOnce(`DataService - request failed | [${r}]`)}this.isLoadingInitialData=!1;const s=this.freshRequests.findIndex(r=>r===i);if(s===-1||this.dispatchOnlyLatest&&s!==this.freshRequests.length-1){this.debug(`DataService - discarding stale request | ${i}`);return}this.freshRequests=this.freshRequests.slice(s+1),this.freshRequests.length===0&&(this.isLoadingData=!1),Array.isArray(n)?this.throttledDispatch(i,n):this.dispatch("data-error")}};M([ln({newValue(t){this.throttledDispatch=this.createThrottledDispatch(t)}})],Tp.prototype,"dispatchThrottle",2);M([ln({newValue(t){this.throttledFetch=this.createThrottledFetch(t)}})],Tp.prototype,"requestThrottle",2);var IA=class{constructor(t){this.maxAnimationTime=t,this.debug=ce.create(!0,"animation"),this.controllers=new Map,this.stoppedCbs=new Set,this.currentPhase=0,this.phases=new Map(Sl.map(e=>[e,[]])),this.skipAnimations=!1,this.animationTimeConsumed=0,this.isReady=!1}get size(){return this.controllers.size}get consumedTimeMs(){return this.animationTimeConsumed}isActive(){return this.controllers.size>0}getActiveControllers(){return this.phases.get(Sl[this.currentPhase])??[]}checkOverlappingId(t){t!=null&&this.controllers.has(t)&&(this.controllers.get(t).stop(),this.debug(`Skipping animation batch due to update of existing animation: ${t}`),this.skip())}addAnimation(t){var i;if(t.isComplete)return;if(Sl.indexOf(t.phase)<this.currentPhase){this.debug("Skipping animation due to being for an earlier phase",t.id),t.stop();return}this.controllers.set(t.id,t),(i=this.phases.get(t.phase))==null||i.push(t)}removeAnimation(t){this.controllers.delete(t.id);const e=this.phases.get(t.phase),i=e==null?void 0:e.indexOf(t);i!=null&&i>=0&&(e==null||e.splice(i,1))}progress(t){if(!this.isReady)return;let e=t===0?.01:t;const i=()=>{const d=Sl[this.currentPhase];return{phaseControllers:[...this.getActiveControllers()],phase:d,phaseMeta:zu[d]}};let{phase:n,phaseControllers:s,phaseMeta:r}=i();const l=()=>Sl[this.currentPhase]==null,c=()=>{for({phase:n,phaseControllers:s,phaseMeta:r}=i();!l()&&s.length===0;)this.currentPhase++,{phase:n,phaseControllers:s,phaseMeta:r}=i(),this.debug(`AnimationBatch - phase changing to ${n}`,{unusedTime:e},s)},h=this.controllers.size;this.debug(`AnimationBatch - ${t}ms; phase ${n} with ${s==null?void 0:s.length} of ${h}`);do{const d=e,p=r.skipIfNoEarlierAnimations&&this.animationTimeConsumed===0;let g=0;for(const m of s)p?m.stop():e=Math.min(m.update(d),e),m.isComplete&&(g++,this.removeAnimation(m));this.animationTimeConsumed+=d-e,this.debug(`AnimationBatch - updated ${s.length} controllers; ${g} completed`),this.debug(`AnimationBatch - animationTimeConsumed: ${this.animationTimeConsumed}`),c()}while(e>0&&!l());this.animationTimeConsumed>this.maxAnimationTime&&(this.debug("Animation batch exceeded max animation time, skipping",[...this.controllers]),this.stop())}ready(){if(this.isReady)return;this.isReady=!0,this.debug(`AnimationBatch - ready; skipped: ${this.skipAnimations}`,[...this.controllers]);let t=!0;for(const[,e]of this.controllers)if(e.duration>0&&zu[e.phase].skipIfNoEarlierAnimations!==!0){t=!1;break}if(!t)for(const[,e]of this.controllers)e.autoplay&&e.play(!0)}skip(t=!0){if(this.skipAnimations===!1&&t===!0){for(const e of this.controllers.values())e.stop();this.controllers.clear()}this.skipAnimations=t}play(){for(const t of this.controllers.values())t.play()}stop(){for(const t of this.controllers.values())try{t.stop(),this.removeAnimation(t)}catch(e){ot.error("Error during animation stop",e)}this.dispatchStopped()}stopByAnimationId(t){if(t!=null&&this.controllers.has(t)){const e=this.controllers.get(t);e&&(e.stop(),this.removeAnimation(e))}}stopByAnimationGroupId(t){for(const e of this.controllers.values())e.groupId===t&&this.stopByAnimationId(e.id)}dispatchStopped(){this.stoppedCbs.forEach(t=>t()),this.stoppedCbs.clear()}isSkipped(){return this.skipAnimations}destroy(){this.stop(),this.controllers.clear()}},GI=(t=>(t[t.Default=32]="Default",t[t.ZoomDrag=16]="ZoomDrag",t[t.Annotations=8]="Annotations",t[t.ContextMenu=4]="ContextMenu",t[t.Animation=2]="Animation",t[t.AnnotationsSelected=1]="AnnotationsSelected",t[t.Clickable=41]="Clickable",t[t.Focusable=34]="Focusable",t[t.Keyable=43]="Keyable",t[t.ContextMenuable=36]="ContextMenuable",t[t.AnnotationsMoveable=9]="AnnotationsMoveable",t[t.AnnotationsDraggable=57]="AnnotationsDraggable",t[t.ZoomDraggable=50]="ZoomDraggable",t[t.ZoomClickable=34]="ZoomClickable",t[t.ZoomWheelable=59]="ZoomWheelable",t[t.All=63]="All",t))(GI||{}),UI=class{constructor(){this.stateQueue=34}pushState(t){this.stateQueue|=t}popState(t){this.stateQueue&=~t}isState(t){return!!(this.stateQueue&-this.stateQueue&t)}};function NA(t){return t==null?!0:!isNaN(t)&&t>=0&&t<=2}var YI=class{constructor(t,e){this.interactionManager=t,this.chartUpdateMutex=e,this.defaultDuration=1e3,this.batch=new IA(this.defaultDuration*1.5),this.debug=ce.create(!0,"animation"),this.events=new R0,this.rafAvailable=typeof requestAnimationFrame<"u",this.isPlaying=!0,this.requestId=null,this.skipAnimations=!0,this.currentAnonymousAnimationId=0}addListener(t,e){return this.events.on(t,e)}animate(t){const e=this.batch;try{e.checkOverlappingId(t.id)}catch(c){this.failsafeOnError(c);return}let{id:i}=t;i==null&&(i=`__${this.currentAnonymousAnimationId}`,this.currentAnonymousAnimationId+=1);const n=this.isSkipped()||t.phase==="none";n&&this.debug("AnimationManager - skipping animation");const{delay:s,duration:r}=t;if(!NA(s))throw new Error(`Animation delay of ${s} is unsupported (${i})`);if(!NA(r))throw new Error(`Animation duration of ${r} is unsupported (${i})`);const l=new lT({...t,id:i,skip:n,autoplay:this.isPlaying?t.autoplay:!1,phase:t.phase,defaultDuration:this.defaultDuration});if(!this.forceTimeJump(l,this.defaultDuration))return this.batch.addAnimation(l),l}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");try{this.batch.play()}catch(t){this.failsafeOnError(t)}this.requestAnimation()}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()"),this.batch.stop()}stopByAnimationId(t){try{this.batch.stopByAnimationId(t)}catch(e){this.failsafeOnError(e)}}stopByAnimationGroupId(t){try{this.batch.stopByAnimationGroupId(t)}catch(e){this.failsafeOnError(e)}}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(t=!0){this.skipAnimations=t}isSkipped(){return!this.rafAvailable||this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}skipCurrentBatch(){this.debug.check()&&this.debug("AnimationManager - skipCurrentBatch()",{stack:new Error().stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(t){this.requestId=pe().requestAnimationFrame(e=>{t(e).catch(i=>ot.error(i))})}forceTimeJump(t,e){return!1}requestAnimation(){if(!this.rafAvailable||!this.batch.isActive()||this.requestId!==null)return;let t;const e=async i=>{const n=()=>{const s=i-(t??i);t=i,this.debug("AnimationManager - onAnimationFrame()",{controllersCount:this.batch.size,deltaTime:s}),this.interactionManager.pushState(2);try{this.batch.progress(s)}catch(r){this.failsafeOnError(r)}this.events.emit("animation-frame",{type:"animation-frame",deltaMs:s})};this.isSkippingFrames()?await this.chartUpdateMutex.acquireImmediately(n):await this.chartUpdateMutex.acquire(n),this.batch.isActive()?this.scheduleAnimationFrame(e):(this.batch.stop(),this.events.emit("animation-stop",{type:"animation-stop",deltaMs:this.batch.consumedTimeMs}))};this.events.emit("animation-start",{type:"animation-start",deltaMs:0}),this.scheduleAnimationFrame(e)}cancelAnimation(){this.requestId!==null&&(cancelAnimationFrame(this.requestId),this.requestId=null,this.startBatch())}failsafeOnError(t,e=!0){ot.error("Error during animation, skipping animations",t),e&&this.cancelAnimation()}startBatch(t){this.debug(`AnimationManager - startBatch() with skipAnimations=${t}.`),this.reset(),this.batch.destroy(),this.batch=new IA(this.defaultDuration*1.5),t===!0&&this.batch.skip()}endBatch(){this.batch.isActive()?(this.batch.ready(),this.requestAnimation()):(this.interactionManager.popState(2),this.batch.isSkipped()&&this.batch.skip(!1))}onBatchStop(t){this.batch.stoppedCbs.add(t)}destroy(){this.stop(),this.events.clear()}},VI=class extends Dr{seriesEvent(t){this.listeners.dispatch(t,{type:t})}seriesKeyNavZoom(t,e){const i={type:"series-keynav-zoom",delta:t,widgetEvent:e};this.listeners.dispatch("series-keynav-zoom",i)}legendItemClick(t,e,i,n,s){const r={type:"legend-item-click",legendType:t,series:e,itemId:i,enabled:n,legendItemName:s};this.listeners.dispatch("legend-item-click",r)}legendItemDoubleClick(t,e,i,n,s,r){const l={type:"legend-item-double-click",legendType:t,series:e,itemId:i,enabled:n,legendItemName:r,numVisibleItems:s};this.listeners.dispatch("legend-item-double-click",l)}},HI=class{constructor(){this.defaultActions=[],this.disabledActions=new Set,this.hiddenActions=new Set,this.listeners=new La}static check(t,e){return e.type===t}static checkCallback(t,e,i){return t===e}dispatchContext(t,e,i,n){const{sourceEvent:s}=e,r=(n==null?void 0:n.x)??e.canvasX,l=(n==null?void 0:n.y)??e.canvasY;s.stopPropagation();const c={type:t,x:r,y:l,context:i,sourceEvent:s};this.listeners.dispatch("",c)}addListener(t){return this.listeners.addListener("",t)}filterActions(t){return this.defaultActions.filter(e=>e.id!=null&&!this.hiddenActions.has(e.id)&&["all",t].includes(e.type))}registerDefaultAction(t){const e=t.id!=null&&!this.defaultActions.some(({id:i})=>i===t.id);return e&&this.defaultActions.push(t),()=>{const i=e?this.defaultActions.findIndex(({id:n})=>n===t.id):-1;i!==-1&&this.defaultActions.splice(i,1)}}enableAction(t){this.disabledActions.delete(t)}disableAction(t){this.disabledActions.add(t)}showAction(t){this.hiddenActions.add(t)}hideAction(t){this.hiddenActions.delete(t)}isDisabled(t){return this.disabledActions.has(t)}},WI=class extends Dr{constructor(){super(...arguments),this.highlightStates=new Bl}updateHighlight(t,e){const{activeHighlight:i}=this;this.highlightStates.set(t,e),this.activeHighlight=this.highlightStates.stateValue(),this.isEqual(this.activeHighlight,i)||this.listeners.dispatch("highlight-change",{type:"highlight-change",currentHighlight:this.activeHighlight,previousHighlight:i,callerId:t})}getActiveHighlight(){return this.activeHighlight}isEqual(t,e){return t===e||t!=null&&e!=null&&(t==null?void 0:t.series)===(e==null?void 0:e.series)&&(t==null?void 0:t.itemId)===(e==null?void 0:e.itemId)&&(t==null?void 0:t.datum)===(e==null?void 0:e.datum)}};function CA(t,e){if(t==null||e.length===0)return[!1,!1];const i=t.valueOf(),n=e[0],s=e[e.length-1];if(typeof n=="string")return[i===n,i===s];let r=n.valueOf(),l=s.valueOf();return r>l&&([r,l]=[l,r]),[i===r,i===l]}function pr(t,e,i,n,s){const{xValue:r,yValue:l}=t,[c,h]=CA(l,s),[d,p]=CA(r,n);return{datum:t,xKey:e,yKey:i,xValue:r,yValue:l,first:d,last:p,min:c,max:h}}function KI(t,[e,i],n){const s=VL(0,t-1,l=>{var h;const c=((h=n(l))==null?void 0:h[1])??NaN;return!Number.isFinite(c)||c>e})??0;let r=YL(0,t-1,l=>{var h;const c=((h=n(l))==null?void 0:h[0])??NaN;return!Number.isFinite(c)||c<i})??t-1;return r=Math.min(r+1,t),[s,r]}function Lb(t,e){var n,s;const i=((n=e.yBar)==null?void 0:n.upperPoint)??e.midPoint??((s=t.datumMidPoint)==null?void 0:s.call(t,e));if(i){const{x:r,y:l}=ke.toCanvasPoint(t.contentGroup,i.x,i.y);return{canvasX:Math.round(r),canvasY:Math.round(l)}}}function ZI(t,e,i,n,s){let r=-1,l=0,c=0,h=!1;for(;l<n&&r<=e-t;){r+=1;const d=i+c;if(h||(c*=-1),c>=0&&(c+=1),h&&c<0&&(c-=1),d<t||d>e){h=!0;continue}s(d)&&(l+=1)}return l}var jf=class{constructor(t,e){this.domManager=t,this.tooltip=e,this.stateTracker=new Bl,this.suppressState=new Bl(!1),this.appliedState=null,e.setup(t),t.addListener("hidden",()=>this.tooltip.hide())}updateTooltip(t,e,i){var n;this.tooltip.enabled&&(i??(i=(n=this.stateTracker.get(t))==null?void 0:n.content),this.stateTracker.set(t,{content:i,meta:e}),this.applyStates())}removeTooltip(t){this.tooltip.enabled&&(this.stateTracker.delete(t),this.applyStates())}suppressTooltip(t){this.suppressState.set(t,!0)}unsuppressTooltip(t){this.suppressState.delete(t)}destroy(){this.domManager.removeStyles("tooltip")}applyStates(){var s;const t=this.stateTracker.stateId(),e=t?this.stateTracker.get(t):null;if(this.suppressState.stateValue()||(e==null?void 0:e.meta)==null||(e==null?void 0:e.content)==null){this.appliedState=null,this.tooltip.hide();return}const i=this.domManager.getBoundingClientRect(),n=this.tooltip.bounds==="extended"?this.domManager.getOverlayClientRect():i;if(((s=this.appliedState)==null?void 0:s.content)===(e==null?void 0:e.content)){const r=this.tooltip.isVisible();this.tooltip.show(n,i,e==null?void 0:e.meta,null,r)}else this.tooltip.show(n,i,e==null?void 0:e.meta,e==null?void 0:e.content);this.appliedState=e}static makeTooltipMeta(t,e,i){var h;const{canvasX:n,canvasY:s}=t,r=e.properties.tooltip,l={canvasX:n,canvasY:s,enableInteraction:((h=r.interaction)==null?void 0:h.enabled)??!1,lastPointerEvent:{type:t.type,canvasX:n,canvasY:s},showArrow:r.showArrow,position:{type:r.position.type,xOffset:r.position.xOffset,yOffset:r.position.yOffset}},c=Lb(e,i);return(r.position.type==="node"||r.position.type==="sparkline")&&c?{...l,canvasX:c.canvasX,canvasY:c.canvasY}:l}isEnteringInteractiveTooltip(t){const{tooltip:e}=this,i=t.sourceEvent.relatedTarget;return e.interactive&&e.enabled&&e.isVisible()&&e.contains(i)}},EA=3,zj=505;function Ty(t,e,i){const{offsetX:n,offsetY:s,clientX:r,clientY:l,currentX:c,currentY:h,sourceEvent:d}=i;return{type:e,device:t,offsetX:n,offsetY:s,clientX:r,clientY:l,currentX:c,currentY:h,sourceEvent:d}}function kA(t,e){const i=t*t+e*e,n=EA*EA;return i>=n}var XI=class{constructor(t){this.destroyFns=[],this.listeners=new La,this.isDragging=!1,this.touch={distanceTravelledX:0,distanceTravelledY:0,clientX:0,clientY:0},this.destroyFns.push(t.addListener("touchstart",this.onTouchStart.bind(this)),t.addListener("touchmove",this.onTouchMove.bind(this)),t.addListener("touchend",this.onTouchEnd.bind(this)),t.addListener("mousemove",this.onMouseMove.bind(this)),t.addListener("dblclick",this.onDblClick.bind(this)),t.addListener("drag-start",this.onDragStart.bind(this)),t.addListener("drag-move",this.onDragMove.bind(this)),t.addListener("drag-end",this.onDragEnd.bind(this)))}destroy(){this.destroyFns.forEach(t=>t()),this.listeners.destroy()}addListener(t,e){return this.listeners.addListener(t,e)}dispatch(t){this.listeners.dispatch(t.type,t)}onTouchStart(t){const{clientX:e,clientY:i}=t.sourceEvent.targetTouches.item(0)??{clientX:1/0,clientY:1/0};this.touch.distanceTravelledX=0,this.touch.distanceTravelledY=0,this.touch.clientX=e,this.touch.clientY=i}onTouchMove(t){const{clientX:e,clientY:i}=t.sourceEvent.targetTouches.item(0)??{clientX:1/0,clientY:1/0};this.touch.distanceTravelledX+=Math.abs(this.touch.clientX-e),this.touch.distanceTravelledY+=Math.abs(this.touch.clientY-i),this.touch.clientX=e,this.touch.clientY=i}onTouchEnd(t){t.sourceEvent.preventDefault()}onMouseMove(t){this.dispatch(t)}onDblClick(t){this.dispatch({device:"mouse",...t})}onDragStart(t){this.dragStartEvent=t}onDragMove(t){this.dragStartEvent!=null&&kA(t.originDeltaX,t.originDeltaY)&&(this.dispatch(this.dragStartEvent),this.dispatch({...this.dragStartEvent,type:"drag-move"}),this.dragStartEvent=void 0,this.isDragging=!0),this.isDragging&&this.dispatch(t)}onDragEnd(t){if(this.isDragging){this.dispatch(t),this.isDragging=!1;return}if(t.device==="mouse"){const e=Ty("mouse","click",t);this.dispatch(e)}else if(t.sourceEvent.type==="touchend"){if(kA(this.touch.distanceTravelledX,this.touch.distanceTravelledY))return;const e=Ty("touch","click",t);this.dispatch(e);const i=Date.now();if(this.lastClickTime!==void 0&&i-this.lastClickTime<=zj){const n=Ty(t.device,"dblclick",t);this.dispatch(n),this.lastClickTime=void 0}else this.lastClickTime=i}}},Iy=class extends Fl{constructor(t){super(t)}addChildToDOM(){}removeChildFromDOM(){}},Pj=class{constructor(t){this.seriesWidget=new Iy(t.getParent("series-area")),this.chartWidget=new Iy(t.getParent("canvas-proxy")),this.containerWidget=new Iy(t.getParent("canvas-container")),this.containerWidget.addChild(this.chartWidget),this.chartWidget.addChild(this.seriesWidget),this.seriesDragInterpreter=new XI(this.seriesWidget)}destroy(){this.seriesDragInterpreter.destroy(),this.seriesWidget.destroy(),this.chartWidget.destroy(),this.containerWidget.destroy()}},h0={bottomCenter:Yj,center:Uj,clone:Kj,collides:Zj,end:Fj,from:Xj,height:Hj,round:Wj,start:Bj,topCenter:Gj,origin:$j,width:Vj};function Bj(t){return{x:t.x1,y:t.y1}}function Fj(t){return{x:t.x2,y:t.y2}}function Gj(t){return{x:(t.x1+t.x2)/2,y:Math.min(t.y1,t.y2)}}function Uj(t){return{x:(t.x1+t.x2)/2,y:(t.y1+t.y2)/2}}function Yj(t){return{x:(t.x1+t.x2)/2,y:Math.max(t.y1,t.y2)}}function Vj(t){return Math.abs(t.x2-t.x1)}function Hj(t){return Math.abs(t.y2-t.y1)}function Wj(t){return{x1:Math.round(t.x1),y1:Math.round(t.y1),x2:Math.round(t.x2),y2:Math.round(t.y2)}}function Kj(t){return{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}}function Zj(t,e){const i=wA(t),n=wA(e);return i.x1<=n.x2&&i.x2>=n.x1&&i.y1<=n.y2&&i.y2>=n.y1}function wA(t){return{x1:Math.min(t.x1,t.x2),x2:Math.max(t.x1,t.x2),y1:Math.min(t.y1,t.y2),y2:Math.max(t.y1,t.y2)}}function Xj(t,e,i,n){if(typeof t=="number")return{x1:t,y1:e,x2:i,y2:n};if("width"in t)return{x1:t.x,y1:t.y,x2:t.x+t.width,y2:t.y+t.height};throw new Error(`Values can not be converted into a vector4: [${JSON.stringify(t)}] [${e}] [${i}] [${n}]`)}function $j(){return{x1:0,y1:0,x2:0,y2:0}}function tf(t,e,i,n,s){return e+(n-e)*((s-t)/(i-t))}function OA(t,e,i,n,s){return t+(s-e)*((i-t)/(n-e))}function RA(t,e,i){return[OA(t,i.min,e,i.max,0),OA(t,i.min,e,i.max,1)]}function qj(t,e,i){const[n,s]=RA(t.x1,t.x2,e),[r,l]=RA(t.y1,t.y2,i);return{x1:n,x2:s,y1:r,y2:l}}function jA(t,e,i,n,s,r){if(i<=s&&r<=n)return i;const l=s-i,c=r-n,h=Math.abs(l)<Math.abs(c)?l:c;return Et(t,i+h,e)}function Qj(t,e,i){const{x:n={min:0,max:1},y:s={min:0,max:1}}=e,r=h0.from(i),l=h0.from(t),c=qj(l,n,s),h=jA(c.x1,c.x2,l.x1,l.x2,r.x1,r.x2),d=jA(c.y1,c.y2,l.y1,l.y2,r.y1,r.y2);return{x:{min:tf(l.x1,n.min,l.x2,n.max,h),max:tf(l.x1,n.min,l.x2,n.max,h+t.width)},y:{min:tf(l.y1,s.min,l.y2,s.max,d),max:tf(l.y1,s.min,l.y2,s.max,d+t.height)}}}var Jj=["rangeX","rangeY","ratioX","ratioY","autoScaledAxes"],t_=class{constructor(){this.enabled=!1,this.padding=0,this.manuallyAdjusted=!1}},_A=t=>Oi((e,i)=>!te.is(t==null?void 0:t.scale)&&!Es.is(t==null?void 0:t.scale)||e==null||i.end==null?!0:e<=i.end,"to be less than end"),$I=class extends Dr{constructor(t,e){super(),this.fireChartEvent=t,this.mementoOriginatorKey="zoom",this.axisZoomManagers=new Map,this.state=new Bl(void 0,"initial"),this.axes=[],this.didLayoutAxes=!1,this.autoScaleYAxis=new t_,this.lastRestoredState=void 0,this.independentAxes=!1,this.navigatorModule=!1,this.zoomModule=!1,this.pendingMemento=void 0,this.destroyFns.push(e.addListener("layout:complete",()=>{const{pendingMemento:i}=this,n=!this.didLayoutAxes;this.didLayoutAxes=!0,i?this.restoreMemento(i.version,i.mementoVersion,i.memento):n&&this.autoScaleYZoom("zoom-manager")}))}createMemento(){return this.getMementoRanges()}guardMemento(t,e){if(t==null)return!0;if(!pi(t))return!1;for(const l of Object.keys(t))if(!Jj.includes(l))return!1;const i=this.getPrimaryAxis("x"),n=this.getPrimaryAxis("y"),s={rangeX:{start:Wd(po(la,Kd),_A(i)),end:po(la,Kd)},rangeY:{start:Wd(po(la,Kd),_A(n)),end:po(la,Kd)},ratioX:{start:Wd(Zd,KD("end")),end:Zd},ratioY:{start:Wd(Zd,KD("end")),end:Zd},autoScaledAxes:Zy(tO("y"))},r=qf(t,s);return r.errors.length>0?(e.push(...r.errors.map(l=>l.message)),!1):!0}restoreMemento(t,e,i){var c;const{independentAxes:n}=this;if(!this.axes||!this.didLayoutAxes){this.pendingMemento={version:t,mementoVersion:e,memento:i};return}this.pendingMemento=void 0;const s=this.getDefinedZoom();if(i!=null&&i.rangeX?s.x=this.rangeToRatio(i.rangeX,"x")??{min:0,max:1}:i!=null&&i.ratioX?s.x={min:i.ratioX.start??0,max:i.ratioX.end??1}:s.x={min:0,max:1},!this.navigatorModule||this.zoomModule){let h=(c=i==null?void 0:i.autoScaledAxes)==null?void 0:c.includes("y");i!=null&&i.rangeY?(s.y=this.rangeToRatio(i.rangeY,"y")??{min:0,max:1},h??(h=!1)):i!=null&&i.ratioY?(s.y={min:i.ratioY.start??0,max:i.ratioY.end??1},h??(h=!1)):(s.y={min:0,max:1},h??(h=!0)),s.autoScaleYAxis=h}if(this.lastRestoredState=s,n!==!0){this.updateZoom("zoom-manager",s);return}const r=this.getPrimaryAxis("x"),l=this.getPrimaryAxis("y");for(const h of[r,l])h&&this.updateAxisZoom("zoom-manager",h.id,s[h.direction])}updateAxes(t){this.axes=t;const e=new Map(t.map(i=>[i.id,this.axisZoomManagers.get(i.id)]));this.axisZoomManagers.clear();for(const i of t)this.axisZoomManagers.set(i.id,e.get(i.id)??new e_(i));this.state.size>0&&t.length>0&&this.updateZoom(this.state.stateId(),this.state.stateValue())}setIndependentAxes(t=!0){this.independentAxes=t}setAutoScaleYAxis(t,e){this.autoScaleYAxis.enabled=t,this.autoScaleYAxis.padding=e}setNavigatorEnabled(t=!0){this.navigatorModule=t}setZoomModuleEnabled(t=!0){this.zoomModule=t}isZoomEnabled(){return this.zoomModule}updateZoom(t,e){if(e!=null&&e.x&&(e.x.min<0||e.x.max>1)&&(ot.warnOnce(`Attempted to update x-axis zoom to an invalid ratio of [{ min: ${e.x.min}, max: ${e.x.max} }], expecting a ratio of 0 to 1, ignoring.`),e.x=void 0),e!=null&&e.y&&(e.y.min<0||e.y.max>1)&&(ot.warnOnce(`Attempted to update y-axis zoom to an invalid ratio of [{ min: ${e.y.min}, max: ${e.y.max} }], expecting a ratio of 0 to 1, ignoring.`),e.y=void 0),this.axisZoomManagers.size===0){const n=this.state.stateId();(n==="initial"||n===t)&&this.state.set(t,e);return}this.state.set(t,e);const i=e==null?void 0:e.autoScaleYAxis;i!=null&&(this.autoScaleYAxis.manuallyAdjusted=!i),this.axisZoomManagers.forEach(n=>{n.updateZoom(t,e==null?void 0:e[n.getDirection()])}),this.applyChanges(t)}updateAxisZoom(t,e,i){var n;(n=this.axisZoomManagers.get(e))==null||n.updateZoom(t,i),this.applyChanges(t)}resetZoom(t){var i,n,s,r;this.autoScaleYAxis.manuallyAdjusted=!1;const e=this.getRestoredZoom();this.updateZoom(t,{x:{min:((i=e==null?void 0:e.x)==null?void 0:i.min)??0,max:((n=e==null?void 0:e.x)==null?void 0:n.max)??1},y:{min:((s=e==null?void 0:e.y)==null?void 0:s.min)??0,max:((r=e==null?void 0:e.y)==null?void 0:r.max)??1},autoScaleYAxis:(e==null?void 0:e.autoScaleYAxis)??!0})}resetAxisZoom(t,e){const i=this.axisZoomManagers.get(e),n=i==null?void 0:i.getDirection();if(n==null)return;const s=this.getRestoredZoom();if(n==="y"){const r=(s==null?void 0:s.autoScaleYAxis)??!0;this.autoScaleYAxis.manuallyAdjusted=!r}this.updateAxisZoom(t,e,(s==null?void 0:s[n])??{min:0,max:1})}setAxisManuallyAdjusted(t,e){var n;((n=this.axisZoomManagers.get(e))==null?void 0:n.getDirection())==="y"&&(this.autoScaleYAxis.manuallyAdjusted=!0)}updatePrimaryAxisZoom(t,e,i){const n=this.getPrimaryAxis(e);n&&this.updateAxisZoom(t,n.id,i)}panToBBox(t,e,i){if(!this.isZoomEnabled())return!1;const n=this.getZoom();if(n===void 0||!n.x&&!n.y)return!1;if(!(e.width>0&&e.height>0&&Math.abs(i.width)<=Math.abs(e.width)&&Math.abs(i.height)<=Math.abs(e.height)))return ot.warnOnce("cannot pan to target BBox - chart too small?"),!1;const r=Qj(e,n,i);return this.independentAxes?(this.updatePrimaryAxisZoom(t,"x",r.x),this.updatePrimaryAxisZoom(t,"y",r.y)):this.updateZoom(t,r),!0}fireZoomPanStartEvent(t){this.listeners.dispatch("zoom-pan-start",{type:"zoom-pan-start",callerId:t})}extendToEnd(t,e,i){return this.extendWith(t,e,n=>Number(n)-i)}extendWith(t,e,i){const n=this.getPrimaryAxis(e);if(!n)return;const s=this.getDomainExtents(n);if(!s)return;const[,r]=s,l=i(r),c=this.rangeToRatio({start:l,end:r},e);c&&this.updateZoom(t,{[e]:c})}updateWith(t,e,i){const n=this.getPrimaryAxis(e);if(!n)return;const s=this.getDomainExtents(n);if(!s)return;let[r,l]=s;[r,l]=i(r,l);const c=this.rangeToRatio({start:r,end:l},e);c&&this.updateZoom(t,{[e]:c})}getZoom(){let t,e;if(this.axisZoomManagers.forEach(i=>{i.getDirection()==="x"?t??(t=i.getZoom()):i.getDirection()==="y"&&(e??(e=i.getZoom()))}),t||e)return{x:t,y:e}}getAxisZoom(t){var e;return((e=this.axisZoomManagers.get(t))==null?void 0:e.getZoom())??{min:0,max:1}}getAxisZooms(){const t={};for(const[e,i]of this.axisZoomManagers.entries())t[e]={direction:i.getDirection(),zoom:i.getZoom()};return t}getRestoredZoom(){return this.lastRestoredState}getPrimaryAxisId(t){var e;return(e=this.getPrimaryAxis(t))==null?void 0:e.id}isVisibleItemsCountAtLeast(t,e){const i=this.getPrimaryAxis("x"),n=this.getPrimaryAxis("y"),s=new Set;let r=0;const l=[t.x.min,t.x.max],c=[t.y.min,t.y.max];for(const h of(i==null?void 0:i.boundSeries)??[]){s.add(h.id);const d=e-(r??0),p=h.getVisibleItems(l,c,d);if(r+=p,r>=e)return!0}for(const h of(n==null?void 0:n.boundSeries)??[]){if(s.has(h.id))continue;const d=e-(r??0),p=h.getVisibleItems(l,c,d);if(r+=p,r>=e)return!0}return s.size===0}getMementoRanges(){const t=this.getDefinedZoom();let e;return this.autoScaleYAxis.enabled&&(e=this.autoScaleYAxis.manuallyAdjusted?[]:["y"]),{rangeX:this.getRangeDirection(t.x,"x"),rangeY:this.getRangeDirection(t.y,"y"),ratioX:{start:t.x.min,end:t.x.max},ratioY:{start:t.y.min,end:t.y.max},autoScaledAxes:e}}autoScaleYZoom(t,e=!0){var c,h;if(!this.isZoomEnabled())return;const{independentAxes:i,autoScaleYAxis:n}=this,s=this.getZoom();if((s==null?void 0:s.x)==null||!n.enabled||n.manuallyAdjusted)return;const{padding:r}=n;let l;if(((c=s.x)==null?void 0:c.min)===0&&((h=s.x)==null?void 0:h.max)===1?l={min:0,max:1}:i?l=this.primaryAxisZoom("y",s.x,{padding:r}):l=this.combinedAxisZoom("y",s.x,{padding:r}),l!=null){if(i){const d=this.getPrimaryAxis("y"),p=d==null?void 0:this.axisZoomManagers.get(d.id);p==null||p.updateZoom("zoom-manager",l)}else for(const d of this.axisZoomManagers.values())d.getDirection()==="y"&&d.updateZoom("zoom-manager",l);e&&this.applyChanges(t)}}applyChanges(t){if(this.autoScaleYZoom(t,!1),!Array.from(this.axisZoomManagers.values(),n=>n.applyChanges()).includes(!0))return;const i={};for(const[n,s]of this.axisZoomManagers.entries())i[n]=s.getZoom();this.listeners.dispatch("zoom-change",{type:"zoom-change",...this.getZoom(),axes:i,callerId:t}),this.fireChartEvent({type:"zoom",...this.getMementoRanges()})}getRangeDirection(t,e){const i=this.getPrimaryAxis(e);if(!i||!te.is(i.scale)&&!Es.is(i.scale))return;const n=this.getDomainPixelExtents(i);if(!n)return;const[s,r]=n;let l,c;return s<=r?(l=i.scale.invert(0),c=i.scale.invert(s+(r-s)*t.max)):(l=i.scale.invert(s-(s-r)*t.min),c=i.scale.invert(0)),{start:l,end:c}}rangeToRatio(t,e){var b,v,S,A,D,L,C,N,k,O,_,j;const i=this.getPrimaryAxis(e);if(!i)return;const n=this.getDomainPixelExtents(i);if(!n)return;const[s,r]=n;let l=t.start==null?s:(v=(b=i.scale).convert)==null?void 0:v.call(b,t.start),c=t.end==null?r:(A=(S=i.scale).convert)==null?void 0:A.call(S,t.end);if(!Wt(l)||!Wt(c))return;const[h,d]=[Math.min(s,r),Math.max(s,r)];if(l<h||l>d){ot.warnOnce(`Invalid range start [${t.start}], expecting a value between [${(L=(D=i.scale).invert)==null?void 0:L.call(D,s)}] and [${(N=(C=i.scale).invert)==null?void 0:N.call(C,r)}], ignoring.`);return}if(c<h||c>d){ot.warnOnce(`Invalid range end [${t.end}], expecting a value between [${(O=(k=i.scale).invert)==null?void 0:O.call(k,s)}] and [${(j=(_=i.scale).invert)==null?void 0:j.call(_,r)}], ignoring.`);return}l=Math.min(d,Math.max(h,l)),c=Math.min(d,Math.max(h,c));const p=r-s,g=Math.abs((l-s)/p),m=Math.abs((c-s)/p);return{min:g,max:m}}getPrimaryAxis(t){var e;return(e=this.axes)==null?void 0:e.find(i=>i.direction===t)}getDomainExtents(t){const{domain:e}=t.scale,i=e.at(0),n=e.at(-1);if(!(i==null||n==null))return[i,n]}getDomainPixelExtents(t){var s,r,l,c;const{domain:e}=t.scale,i=(r=(s=t.scale).convert)==null?void 0:r.call(s,e.at(0)),n=(c=(l=t.scale).convert)==null?void 0:c.call(l,e.at(-1));if(!(!Wt(i)||!Wt(n)))return[i,n]}getDefinedZoom(){var e,i,n,s;const t=this.getZoom();return{x:{min:((e=t==null?void 0:t.x)==null?void 0:e.min)??0,max:((i=t==null?void 0:t.x)==null?void 0:i.max)??1},y:{min:((n=t==null?void 0:t.y)==null?void 0:n.min)??0,max:((s=t==null?void 0:t.y)==null?void 0:s.max)??1}}}zoomBounds(t,e,i,n){const s=t.scale,r=s.range;s.range=[0,1];const l=e.scale,c=l.range;l.range=[0,1];let h=1,d=!1,p=0,g=!1;for(const v of e.boundSeries){const{connectsToYAxis:S}=v,A=v.getRange("y",[i.min,i.max]);for(const D of A){const L=l.convert(D);Number.isFinite(L)&&(L<h&&(h=L,d=!S||D<0),L>p&&(p=L,g=!S||D>0))}}if(Wt(e.min)&&(h=0),Wt(e.max)&&(p=1),s.range=r,l.range=c,h>=p)return;const m=(d?n:0)+(g?n:0),b=Math.min((p-h)*(1+m),1);if(!(b<=0)){if(d&&g){const v=(p+h)/2;h=v-b/2,p=v+b/2}else!d&&g?p=h+b:d&&!g&&(h=p-b);return h<0?(p+=-h,h=0):p>1&&(h-=p-1,p=1),{min:h,max:p}}}primaryAxisZoom(t,e,{padding:i=0}={}){const n=t==="x"?"y":"x",s=this.getPrimaryAxis(n),r=this.getPrimaryAxis(t);if(!(s==null||r==null))return this.zoomBounds(s,r,e,i)}combinedAxisZoom(t,e,{padding:i=0}={}){const n=t==="x"?"y":"x",s=new Map;for(const h of this.axes)if(h.direction===n)for(const d of h.boundSeries)s.set(d,h);let r=1,l=0;for(const h of this.axes)if(h.direction===t)for(const d of h.boundSeries){const p=s.get(d);if(p==null)continue;const g=this.zoomBounds(p,h,e,i);if(g==null)return;r=Math.min(r,g.min),l=Math.max(l,g.max)}const c=1e-6;if(r<c&&(r=0),l>1-c&&(l=1),!(r>l))return{min:r,max:l}}},e_=class{constructor(t){this.axis=t;const[e=0,i=1]=t.visibleRange;this.state=new Bl({min:e,max:i}),this.currentZoom=this.state.stateValue()}getDirection(){return this.axis.direction}updateZoom(t,e){this.state.set(t,e)}getZoom(){return Xe(this.state.stateValue())}hasChanges(){const t=this.currentZoom,e=this.state.stateValue();return t.min!==e.min||t.max!==e.max}applyChanges(){const t=this.hasChanges();return this.currentZoom=this.state.stateValue(),t}},i_=class{constructor(){this.labelData=new Map}updateLabels(t,e,i=bt.zero){var l;const n={x:-e.left,y:-e.top,width:i.width+e.left+e.right,height:i.height+e.top+e.bottom},s=new Set(t.map(c=>c.id));for(const c of this.labelData.keys())s.has(c)||this.labelData.delete(c);for(const c of t){const h=c.getLabelData();h.every(v2)&&this.labelData.set(c.id,h)}const r=S2(this.labelData,n,5);for(const c of t)(l=c.updatePlacedLabelData)==null||l.call(c,r.get(c.id)??[])}},n_=class extends Dr{constructor(){super(...arguments),this.mementoOriginatorKey="legend",this.legendDataMap=new Map}createMemento(){return this.getData().filter(({hideInLegend:t,isFixed:e})=>!t&&!e).map(({enabled:t,seriesId:e,itemId:i,legendItemName:n})=>({visible:t,seriesId:e,itemId:i,legendItemName:n}))}guardMemento(t){return t==null||ge(t)}restoreMemento(t,e,i){i==null||i.forEach(n=>{const{seriesId:s,data:r}=this.getRestoredData(n)??{};!s||!r||this.updateData(s,r)}),this.update()}getRestoredData(t){const{seriesId:e,itemId:i,legendItemName:n,visible:s}=t;if(e){const l=(this.legendDataMap.get(e)??[]).map(c=>{const h=c.seriesId===e&&(!i||c.itemId===i);return h&&c.isFixed&&this.warnFixed(c.seriesId,c.itemId),!c.isFixed&&h?{...c,enabled:s}:c});return{seriesId:e,data:l}}if(!(i==null&&n==null))for(const r of this.getData()){if(i!=null&&r.itemId!==i||n!=null&&r.legendItemName!==n)continue;if(r.isFixed){this.warnFixed(r.seriesId,i);return}const l=(this.legendDataMap.get(r.seriesId)??[]).map(c=>c.itemId===i||c.legendItemName===n?{...c,enabled:s}:c);return{seriesId:r.seriesId,data:l}}}warnFixed(t,e){ot.warnOnce(`The legend item with seriesId [${t}] and itemId [${e}] is not configurable, this series item cannot be toggled through the legend.`)}update(t){this.listeners.dispatch("legend-change",{type:"legend-change",legendData:t??this.getData()})}updateData(t,e=[]){this.legendDataMap.set(t,e)}clearData(){this.legendDataMap.clear()}toggleItem({enabled:t,seriesId:e,itemId:i,legendItemName:n}){if(n){this.getData().forEach(c=>{const h=(this.legendDataMap.get(c.seriesId)??[]).map(d=>d.legendItemName===n?{...d,enabled:t}:d);this.updateData(c.seriesId,h)});return}const s=this.getData(e),r=s.length===1,l=s.map(c=>i==null&&r||c.itemId===i?{...c,enabled:t}:c);this.updateData(e,l)}getData(t){return t?this.legendDataMap.get(t)??[]:[...this.legendDataMap].reduce((e,[i,n])=>e.concat(n),[])}getDatum({seriesId:t,itemId:e}={}){return this.getData(t).find(i=>i.itemId===e)}getSeriesEnabled(t){const e=this.getData(t);if(e.length>0)return e.some(i=>i.enabled)}getItemEnabled({seriesId:t,itemId:e}={}){var i;return((i=this.getDatum({seriesId:t,itemId:e}))==null?void 0:i.enabled)??!0}},s_=class{constructor(){this.groups={}}registerSeries({internalId:t,seriesGrouping:e,visible:i,type:n}){var s;e&&((s=this.groups)[n]??(s[n]={}),this.groups[n][t]={grouping:e,visible:i})}updateSeries({internalId:t,seriesGrouping:e,visible:i,type:n}){var r;if(!e)return;const s=(r=this.groups[n])==null?void 0:r[t];s&&(s.grouping=e,s.visible=i)}deregisterSeries({internalId:t,type:e}){this.groups[e]&&delete this.groups[e][t],this.groups[e]&&Object.keys(this.groups[e]).length===0&&delete this.groups[e]}getVisiblePeerGroupIndex({type:t,seriesGrouping:e,visible:i}){if(!e)return{visibleGroupCount:i?1:0,visibleSameStackCount:i?1:0,index:0};const n=new Set,s=new Set;for(const l of Object.values(this.groups[t]??{}))l.visible&&(n.add(l.grouping.groupIndex),l.grouping.groupIndex===e.groupIndex&&s.add(l.grouping.stackIndex));const r=Array.from(n);return r.sort((l,c)=>l-c),{visibleGroupCount:r.length,visibleSameStackCount:s.size,index:r.indexOf(e.groupIndex)}}},Cu=(t=>(t[t.FULL=0]="FULL",t[t.UPDATE_DATA=1]="UPDATE_DATA",t[t.PROCESS_DATA=2]="PROCESS_DATA",t[t.PERFORM_LAYOUT=3]="PERFORM_LAYOUT",t[t.SERIES_UPDATE=4]="SERIES_UPDATE",t[t.PRE_SCENE_RENDER=5]="PRE_SCENE_RENDER",t[t.SCENE_RENDER=6]="SCENE_RENDER",t[t.NONE=7]="NONE",t))(Cu||{}),qI=class{constructor(t){this.updateCallback=t,this.events=new R0}addListener(t,e){return this.events.on(t,e)}removeListener(t,e){return this.events.on(t,e)}destroy(){this.events.clear()}update(t=0,e){this.updateCallback(t,e)}dispatchUpdateComplete(){this.events.emit("update-complete",{type:"update-complete"})}dispatchPreDomUpdate(){this.events.emit("pre-dom-update",{type:"pre-dom-update"})}dispatchPreSceneRender(){this.events.emit("pre-scene-render",{type:"pre-scene-render"})}dispatchProcessData({series:t}){this.events.emit("process-data",{type:"process-data",series:t})}},a_=class{constructor(t,e){this.callbackCache=new Rj,this.chartEventManager=new VI,this.highlightManager=new WI,this.layoutManager=new NI,this.localeManager=new Aj,this.seriesStateManager=new s_,this.stateManager=new ij,this.seriesLabelLayoutManager=new i_,this.contextModules=[];const{scene:i,root:n,syncManager:s,container:r,fireEvent:l,updateCallback:c,updateMutex:h,styleContainer:d,chartType:p}=e;this.chartService=t,this.syncManager=s,this.domManager=new zI(r,d),this.widgets=new Pj(this.domManager);const g=this.domManager.addChild("canvas","scene-canvas",i==null?void 0:i.canvas.element);this.scene=i??new Lp({canvasElement:g}),this.scene.setRoot(n),this.axisManager=new _j(n),this.legendManager=new n_,this.annotationManager=new jj(t.annotationRoot),this.chartTypeOriginator=new tj(t),this.interactionManager=new UI,this.contextMenuRegistry=new HI,this.updateService=new qI(c),this.proxyInteractionService=new BI(this.localeManager,this.domManager),this.historyManager=new ej(this.chartEventManager),this.animationManager=new YI(this.interactionManager,h),this.dataService=new Tp(this.animationManager),this.tooltipManager=new jf(this.domManager,t.tooltip),this.zoomManager=new $I(l,this.layoutManager);for(const m of ks.byType("context")){if(!m.chartTypes.includes(p))continue;const b=m.moduleFactory(this);this.contextModules.push(b),this[m.contextKey]=b}}destroy(){this.animationManager.destroy(),this.highlightManager.destroy(),this.axisManager.destroy(),this.callbackCache.invalidateCache(),this.chartEventManager.destroy(),this.domManager.destroy(),this.highlightManager.destroy(),this.proxyInteractionService.destroy(),this.syncManager.destroy(),this.tooltipManager.destroy(),this.zoomManager.destroy(),this.widgets.destroy(),this.contextModules.forEach(t=>t.destroy())}},QI=class extends Ct{constructor(){super(...arguments),this.range="tooltip"}};M([T(ue(["tooltip","node"],"a range"))],QI.prototype,"range",2);function r_(t,e){if(t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0}function o_(t,e){if(t==null||e==null)return t===e;if(t.size!==e.size)return!1;for(const[i,n]of t){const s=e.get(i);if(s==null||!r_(n,s))return!1}return!0}function l_(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i+=1){const{type:n,idsMap:s,scopes:r,data:l,...c}=t[i],{type:h,idsMap:d,scopes:p,data:g,...m}=e[i];if(n!==h||r&&p&&!Cs(r,p)||l&&g&&l!==g||!vo(c,m)||!o_(s,d))return!1}return!0}function c_(t,e){const{props:i,...n}=t,{props:s,...r}=e;return vo(n,r)&&l_(i,s)}function u_(t,e,i,n){return e===t.data&&Cs(i,t.ids)&&c_(n,t.opts)}var zA=class JI{constructor(){this.domain=new Set}static is(e){return e instanceof JI}extend(e){this.domain.add(e)}getDomain(){return Array.from(this.domain)}},sr=class tN{constructor(){this.domain=[1/0,-1/0]}static is(e){return e instanceof tN}static extendDomain(e,i=[1/0,-1/0]){for(const n of e)typeof n=="number"&&(i[0]>n&&(i[0]=n),i[1]<n&&(i[1]=n));return i}extend(e){this.domain[0]>e&&(this.domain[0]=e),this.domain[1]<e&&(this.domain[1]=e)}getDomain(){return[...this.domain]}},xl=0,vl=1,As=2,h_=class{constructor(t){const e=t.reduce((r,l)=>Math.max(r,l.length),0);let n=1<<32-Math.clz32(e);e===n/2&&(n=n>>>1),this.maxLevelSize=n;const s=new Float64Array((n*2-1)*2).fill(NaN);for(const r of t)for(let l=0;l<r.length;l+=1){const c=Number(r[l]),h=n+l-1,d=(h*As|0)+xl,p=(h*As|0)+vl,g=s[d],m=s[p];(!Number.isFinite(g)||c<g)&&(s[d]=c),(!Number.isFinite(m)||c>m)&&(s[p]=c)}for(let r=n/2|0;r>=1;r=r/2|0){const l=r-1|0,c=l+r|0;for(let h=0;h<r;h+=1){const d=l+h,p=c+h*2,g=p+1,m=s[(p*As|0)+xl],b=s[(g*As|0)+xl];s[(d*As|0)+xl]=!Number.isFinite(b)||m<b?m:b;const v=s[(p*As|0)+vl],S=s[(g*As|0)+vl];s[(d*As|0)+vl]=!Number.isFinite(S)||v>S?v:S}}this.buffer=s}computeRangeInto(t,e,i,n,s,r,l){const c=s+r-1;if(c<e||s>=i)return l;if(s>=e&&c<i){const h=t[(n*As|0)+xl],d=t[(n*As|0)+vl];Number.isFinite(h)&&(l[0]=Math.min(l[0],h)),Number.isFinite(d)&&(l[1]=Math.max(l[1],d))}else r>1&&(n=n*2|0,r=r/2|0,this.computeRangeInto(t,e,i,n+1|0,s,r,l),this.computeRangeInto(t,e,i,n+2|0,s+r,r,l));return l}rangeBetween(t,e){if(t>e)return[NaN,NaN];const{maxLevelSize:i,buffer:n}=this,s=[1/0,-1/0];return this.computeRangeInto(n,t,e,0,0,i,s),s}get range(){const{buffer:t}=this;return[t[xl],t[vl]]}},PA=Symbol("domain-ranges");function d_(t){return t.map(e=>pi(e)?JSON.stringify(e):e).join("-")}function BA(t){return Number.isInteger(t)?t:Math.abs(t)>1e4?Math.trunc(t):Math.round(t*1e4)/1e4}function on(t){const e=t==null?void 0:t.map(Number);return e!=null&&e.every(Number.isFinite)?e:[]}function Tb(t,e){return(e==null?void 0:e.get(t.id))??0}function f_(t){return"scopes"in t&&Array.isArray(t.scopes)}var ef=Symbol("invalid");function Ny(t,e){const i=[];for(let n=0;n<t;n+=1)i[n]=e;return i}function _f(t,e,i){var s;const n=[];for(const r of t){const l=(s=r.get(e))==null?void 0:s[i];if(l==null)return;n.push(l)}return n}function eN(t){const e=[];let i=0,n;const s=new RegExp(`((?:(?:^|\\.)\\s*\\w+|\\[\\s*(?:'(?:[^']|(?<!\\\\)\\\\')*'|"(?:[^"]|(?<!\\\\)\\\\")*"|-?\\d+)\\s*\\])\\s*)`,"g");for(;n=s.exec(t);){if(n.index!==i)return;i=n.index+n[0].length;const r=n[1].trim();if(r.startsWith("."))e.push(r.slice(1).trim());else if(r.startsWith("[")){const l=r.slice(1,-1).trim();l.startsWith("'")?e.push(l.slice(1,-1).replace(new RegExp("(?<!\\\\)\\\\'","g"),"'")):l.startsWith('"')?e.push(l.slice(1,-1).replace(new RegExp('(?<!\\\\)\\\\"',"g"),'"')):e.push(l)}else e.push(r)}if(i===t.length)return e}function p_(t){return e=>{let i=e;for(const n of t)i=i[n];return i}}var iN=class{constructor(t,e="standalone",i=!1){var c;this.opts=t,this.mode=e,this.suppressFieldDotNotation=i,this.debug=ce.create(!0,"data-model"),this.scopeCache=new Map,this.keys=[],this.values=[],this.aggregates=[],this.groupProcessors=[],this.propertyProcessors=[],this.reducers=[],this.processors=[],this.markScopeDatumInvalid=function(h,d,p,g){for(const m of h)g.has(m)||g.set(m,Ny(d.length,!1)),g.get(m)[p]=!0};let n=!0;for(const h of t.props){if(h.type==="key"&&!n)throw new Error("AG Charts - internal config error: keys must come before values.");h.type==="value"&&n&&(n=!1)}const s=({matchGroupIds:h=[]})=>{for(const d of h)if(this.values.every(p=>p.groupId!==d))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${d}).`)},r=new Set,l=new Set;for(const h of t.props){const d=h.type==="key"?r:l;switch(f_(h)&&((c=h.scopes)==null||c.forEach(p=>d.add(p))),h.type){case"key":this.keys.push({...h,index:this.keys.length,missing:new Map});break;case"value":if(h.property==null)throw new Error(`AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(h)}`);this.values.push({...h,index:this.values.length,missing:new Map});break;case"aggregate":s(h),this.aggregates.push({...h,index:this.aggregates.length});break;case"group-value-processor":s(h),this.groupProcessors.push({...h,index:this.groupProcessors.length});break;case"property-value-processor":this.propertyProcessors.push({...h,index:this.propertyProcessors.length});break;case"reducer":this.reducers.push({...h,index:this.reducers.length});break;case"processor":this.processors.push({...h,index:this.processors.length});break}}if(this.opts.groupByKeys||this.opts.groupByFn!=null){const h=new Set(l.values());if(r.forEach(d=>h.delete(d)),h.size>0)throw new Error(`AG Charts - scopes missing key for grouping, illegal configuration: ${[...h.values()]}`)}}resolveProcessedDataDefById(t,e){var n;const i=(n=this.scopeCache.get(t.id))==null?void 0:n.get(e);if(!i)throw new Error(`AG Charts - didn't find property definition for [${e}, ${t.id}]`);return{index:i.index,def:i}}resolveProcessedDataIndexById(t,e){return this.resolveProcessedDataDefById(t,e).index}resolveKeysById(t,e,i){const n=this.resolveProcessedDataIndexById(t,e),s=i.keys[n];if(s==null)throw new Error(`AG Charts - didn't find keys for [${e}, ${t.id}]`);return s.get(t.id)}hasColumnById(t,e){var i;return((i=this.scopeCache.get(t.id))==null?void 0:i.get(e))!=null}resolveColumnById(t,e,i){var r;const n=this.resolveProcessedDataIndexById(t,e),s=(r=i.columns)==null?void 0:r[n];if(s==null)throw new Error(`AG Charts - didn't find column for [${e}, ${t.id}]`);return s}*forEachDatum(t,e,i){const n=e.columnScopes.findIndex(s=>s.has(t.id));for(const s of i.datumIndices[n]??[])yield e.columns[n][s]}*forEachGroupDatum(t,e){const i=e.columnScopes.findIndex(r=>r.has(t.id)),n={groupIndex:0,columnIndex:i},s=[];for(const r of e.groups){n.group=r;let l=0;for(const c of r.datumIndices[i]??s)n.datumIndex=c,n.valueIndex=l++,yield n;n.groupIndex++}}*forEachGroupDatumTuple(t,e){const n={columnIndex:e.columnScopes.findIndex(s=>s.has(t.id)),datumIndexes:[void 0,void 0,void 0]};for(const s of this.forEachGroupDatum(t,e))n.group=n.nextGroup,n.groupIndex=n.nextGroupIndex,n.nextGroup=s.group,n.nextGroupIndex=s.groupIndex,n.datumIndexes[0]=n.datumIndexes[1],n.datumIndexes[1]=n.datumIndexes[2],n.datumIndexes[2]=s.datumIndex,n.group!=null&&n.datumIndexes[1]!=null&&(yield n);n.group=n.nextGroup,n.groupIndex=n.nextGroupIndex,n.nextGroup=void 0,n.nextGroupIndex=void 0,n.datumIndexes[0]=n.datumIndexes[1],n.datumIndexes[1]=n.datumIndexes[2],n.datumIndexes[2]=void 0,n.group!=null&&n.datumIndexes[1]!=null&&(yield n)}getDomain(t,e,i,n){const s=this.getDomainsByType(i??"value",n);return(s==null?void 0:s[this.resolveProcessedDataIndexById(t,e)])??[]}getDomainBetweenRange(t,e,[i,n],s){const r=e.map(d=>this.resolveProcessedDataIndexById(t,d)),l=r.join(":"),c=s[PA];let h=c.get(l);if(h==null){const d=r.map(p=>s.columns[p]);h=new h_(d),c.set(l,h)}return h.rangeBetween(i,n)}getDomainsByType(t,e){switch(t){case"key":return e.domain.keys;case"value":return e.domain.values;case"aggregate":return e.domain.aggValues;case"group-value-processor":return e.domain.groups;default:return null}}processData(t){const{opts:{groupByKeys:e,groupByFn:i},aggregates:n,groupProcessors:s,reducers:r,processors:l,propertyProcessors:c}=this,h=performance.now();if(e&&this.keys.length===0)return;let d=this.extractData(t);e?d=this.groupData(d):i&&(d=this.groupData(d,i(d))),s.length>0&&d.type==="grouped"&&this.postProcessGroups(d),n.length>0&&d.type==="ungrouped"?this.aggregateUngroupedData(d):n.length>0&&d.type==="grouped"&&this.aggregateGroupedData(d),c.length>0&&this.postProcessProperties(d),r.length>0&&this.reduceData(d),l.length>0&&this.postProcessData(d),this.warnDataMissingProperties(t);const p=performance.now();return d.time=p-h,this.debug.check()&&g_(d),this.processScopeCache(),d}warnDataMissingProperties(t){var e;if(t.size!==0)for(const i of fo(this.keys,this.values))for(const[n,s]of i.missing){if(s<(((e=t.get(n))==null?void 0:e.length)??1/0))continue;const r=n==null?"":` for ${n}`;ot.warnOnce(`the key '${i.property}' was not found in any data element${r}.`)}}processScopeCache(){var t;this.scopeCache.clear();for(const e of fo(this.keys,this.values,this.aggregates))if(e.idsMap)for(const[i,n]of e.idsMap)for(const s of n)if(!this.scopeCache.has(i))this.scopeCache.set(i,new Map([[s,e]]));else{if((t=this.scopeCache.get(i))!=null&&t.has(s))throw new Error("duplicate definition ids on the same scope are not allowed.");this.scopeCache.get(i).set(s,e)}}valueGroupIdxLookup({matchGroupIds:t}){const e=[];for(const[i,n]of this.values.entries())(!t||n.groupId&&t.includes(n.groupId))&&e.push(i);return e}valueIdxLookup(t,e){const i=t==null||t.length===0,n=typeof e=="string"?e:e.id,s=l=>{if(l.idsMap){for(const[c,h]of l.idsMap)if(t!=null&&t.includes(c)&&h.has(n))return!0}return!1},r=this.values.reduce((l,c,h)=>((c.scopes==null||i&&!c.scopes.length||c.scopes.some(p=>t==null?void 0:t.includes(p)))&&(c.property===n||c.id===n||s(c))&&l.push(h),l),[]);if(r.length===0)throw new Error(`AG Charts - configuration error, unknown property ${JSON.stringify(e)} in scope(s) ${JSON.stringify(t)}`);return r}extractData(t){const{dataDomain:e,processValue:i,allScopesHaveSameDefs:n}=this.initDataDomainProcessor(),{keys:s,values:r}=this,{invalidData:l,invalidKeys:c,allKeyMappings:h}=this.extractKeys(s,t,i),{columns:d,columnScopes:p,partialValidDataCount:g,maxDataLength:m}=this.extractValues(l,r,t,c,i),b=v=>{const S=e.get(v),A=S.getDomain();return sr.is(S)&&A[0]>A[1]?[]:A};return{type:"ungrouped",input:{count:m},scopes:new Set(t.keys()),dataSources:t,aggregation:void 0,keys:[...h.values()],columns:d,columnScopes:p,invalidKeys:c,invalidData:l,domain:{keys:s.map(b),values:r.map(b)},defs:{allScopesHaveSameDefs:n,keys:s,values:r},partialValidDataCount:g,time:0,[PA]:new Map}}extractKeys(t,e,i){const n=new Map,s=new Map,r=new Map;let l,c;const h=(d,p)=>{const g=c.get(d);l.set(p,l.get(g)),n.has(g)&&(n.set(p,n.get(g)),s.set(p,s.get(g)))};for(const d of t){const{invalidValue:p,scopes:g}=d;l=new Map,c=new Map,r.set(d,l);for(const m of g??[]){const b=e.get(m)??[];if(c.has(b)){h(b,m);continue}const v=[];l.set(m,v),c.set(b,m);let S,A;for(let D=0;D<b.length;D++){const L=i(d,b[D],D,m);if(L!==ef){v.push(L);continue}v.push(p),S??(S=Ny(b.length,!1)),A??(A=Ny(b.length,!1)),S[D]=!0,A[D]=!0}S&&A&&(n.set(m,S),s.set(m,A))}}return{invalidData:s,invalidKeys:n,allKeyMappings:r}}extractValues(t,e,i,n,s){let r=0;const l=[],c=[];let h=0;for(const d of e){const{invalidValue:p}=d;if(new Set(d.scopes.map(A=>i.get(A))).size>1)throw new Error(`AG Charts - more than one data source for: ${JSON.stringify(d)}`);const m=new Set(d.scopes),b=cu(d.scopes),v=i.get(b),S=v.map((A,D)=>{var N;const L=(N=n.get(b))==null?void 0:N[D];let C=s(d,A,D,d.scopes);return(L||C===ef)&&this.markScopeDatumInvalid(d.scopes,v,D,t),L?C=p:C===ef&&(r+=1,C=p),C});l.push(S),c.push(m),h=Math.max(h,S.length)}return{columns:l,columnScopes:c,partialValidDataCount:r,maxDataLength:h}}groupData(t,e){var i;const n=new Map,{keys:s,columns:r,columnScopes:l,invalidKeys:c,invalidData:h}=t,d=t.scopes,p=new Set;for(const b of d){const v=r.map((N,k)=>k).filter(N=>!p.has(N)&&l[N].has(b));if(v.length===0)continue;for(const N of v)p.add(N);const S=new Set;for(const N of v)for(const k of l[N])S.add(k);const A=s.map(N=>N.get(b)).filter(N=>N!=null),D=r[cu(v)],L=h==null?void 0:h.get(b),C=c==null?void 0:c.get(b);for(let N=0;N<D.length;N++){if((C==null?void 0:C[N])===!0)continue;const k=A.map(z=>z[N]);if(k==null||k.length===0)throw new Error("AG Charts - no keys found for scope: "+b);const O=(e==null?void 0:e(k))??k,_=d_(O),j=n.get(_)??{keys:O,datumIndices:[],validScopes:d};if(n.has(_)||n.set(_,j),(L==null?void 0:L[N])===!0){j.validScopes===d&&(j.validScopes=new Set(d.values()));for(const z of S)j.validScopes.delete(z)}if(j.validScopes.size!==0)for(const z of v)(i=j.datumIndices)[z]??(i[z]=[]),j.datumIndices[z].push(N)}}const g=[],m=[];for(const{keys:b,datumIndices:v,validScopes:S}of n.values())(S==null?void 0:S.size)!==0&&(g.push(b),m.push({datumIndices:v,keys:b,aggregation:[],validScopes:S}));return{...t,type:"grouped",domain:{...t.domain,groups:g},groups:m}}aggregateUngroupedData(t){const e=this.aggregates.map(()=>[1/0,-1/0]);t.domain.aggValues=e;const{keys:i,columns:n,dataSources:s}=t,r=cu(s.keys()),l=s.get(r);t.aggregation=l==null?void 0:l.map((c,h)=>{var p,g,m;const d=[];for(const[b,v]of this.aggregates.entries()){const S=this.valueGroupIdxLookup(v);let A=((p=v.groupAggregateFunction)==null?void 0:p.call(v))??[1/0,-1/0];const D=S.map(k=>n[k][h]),L=_f(i,r,h),C=L!=null?v.aggregateFunction(D,L):void 0;C&&(A=((g=v.groupAggregateFunction)==null?void 0:g.call(v,C,A))??sr.extendDomain(C,A));const N=((m=v.finalFunction)==null?void 0:m.call(v,A))??A;if(v.round===!0)for(const k in N)N[k]=BA(N[k]);d[b]=N,sr.extendDomain(N,e[b])}return d})}aggregateGroupedData(t){var n,s,r,l;const e=this.aggregates.map(()=>[1/0,-1/0]);t.domain.aggValues=e;const{columns:i}=t;for(const[c,h]of this.aggregates.entries()){const d=this.valueGroupIdxLookup(h);for(const p of t.groups){if(p.aggregation??(p.aggregation=[]),((n=p.validScopes)==null?void 0:n.size)===0)continue;const g=p.keys;let m=((s=h.groupAggregateFunction)==null?void 0:s.call(h))??[1/0,-1/0];const b=Math.max(...d.map(S=>{var A;return((A=p.datumIndices[S])==null?void 0:A.length)??0}));for(let S=0;S<b;S++){const A=d.map(L=>{var C;return i[L][(C=p.datumIndices[L])==null?void 0:C[S]]}),D=h.aggregateFunction(A,g);D&&(m=((r=h.groupAggregateFunction)==null?void 0:r.call(h,D,m))??sr.extendDomain(D,m))}const v=((l=h.finalFunction)==null?void 0:l.call(h,m))??m;if(h.round===!0)for(const S in v)v[S]=BA(v[S]);p.aggregation[c]=v,sr.extendDomain(v,e[c])}}}postProcessGroups(t){const{groupProcessors:e}=this,{columnScopes:i,columns:n,invalidData:s,scopes:r}=t;for(const l of e){const c=this.valueGroupIdxLookup(l),h=l.adjust()();for(const d of t.groups)d.validScopes===r&&h(n,c,d);for(const d of c){const g=this.values[d].valueType==="category",m=n[d],b=cu(i[d]),v=s==null?void 0:s.get(b),S=g?new zA:new sr;for(let A=0;A<m.length;A+=1)(v==null?void 0:v[A])!==!0&&S.extend(m[A]);t.domain.values[d]=S.getDomain()}}}postProcessProperties(t){for(const{adjust:e,property:i,scopes:n}of this.propertyProcessors)for(const s of this.valueIdxLookup(n,i))e()(t,s)}reduceData(t){var n;t.reduced??(t.reduced={});const{dataSources:e,keys:i}=t;for(const s of this.reducers){const r=s.reducer();let l=s.initialValue;if(t.type==="grouped")for(const c of t.groups)l=r(l,c.keys);else{const c=cu(e.keys()),h=i.map(g=>g.get(c)).filter(g=>g!=null),d=h.map(()=>{}),p=e.get(c);for(let g=0;g<p.length;g+=1){for(let m=0;m<d.length;m++)d[m]=(n=h[m])==null?void 0:n[g];l=r(l,d)}}t.reduced[s.property]=l}}postProcessData(t){t.reduced??(t.reduced={});for(const e of this.processors)t.reduced[e.property]=e.calculate(t,t.reduced[e.property])}initDataDomainProcessor(){const{keys:t,values:e}=this,i=new Set;for(const d of e)if(d.scopes)for(const p of d.scopes)i.add(p);const n=new Map,s=new Map;let r=!0;const l=()=>{for(const d of fo(t,e))d.valueType==="category"?n.set(d,new zA):(n.set(d,new sr),r&&(r=(d.scopes??[]).length===i.size))};l();const c=this.buildAccessors(fo(t,e));return{dataDomain:n,processValue:(d,p,g,m)=>{var A,D,L;let b,v;if(c.has(d.property)){try{v=c.get(d.property)(p)}catch{}b=v!=null}else b=d.property in p,v=b?p[d.property]:d.missingValue;d.forceValue!=null&&(v=b&&ep(v)?-1*d.forceValue:d.forceValue,b=!0);const S="missingValue"in d;if(!b&&!S)if(typeof m=="string"){const C=d.missing.get(m)??0;d.missing.set(m,C+1)}else for(const C of m){const N=d.missing.get(C)??0;d.missing.set(C,N+1)}if(n.has(d)||l(),b&&((A=d.validation)==null?void 0:A.call(d,v,p,g))===!1)if("invalidValue"in d)v=d.invalidValue;else return this.mode!=="integrated"&&ot.warnOnce(`invalid value of type [${typeof v}] for [${d.scopes} / ${d.id}] ignored:`,`[${v}]`),ef;return d.processor&&(s.has(d)||s.set(d,d.processor()),v=(D=s.get(d))==null?void 0:D(v)),(L=n.get(d))==null||L.extend(v),v},initDataDomain:l,scopes:i,allScopesHaveSameDefs:r}}buildAccessors(t){const e=new Map;if(this.suppressFieldDotNotation)return e;for(const i of t){if(!(i.property.includes(".")||i.property.includes("[")))continue;const s=eN(i.property);if(s==null){ot.warnOnce("Invalid property path [%s]",i.property);continue}const r=p_(s);e.set(i.property,r)}return e}};function g_(t){const e=(i,n)=>{n.length>0&&(ot.log(`DataModel.processData() - ${i}`),ot.table(n))};ot.log("DataModel.processData() - processedData",t),e("Key Domains",t.domain.keys),e("Group Domains",t.domain.groups??[]),e("Value Domains",t.domain.values),e("Aggregate Domains",t.domain.aggValues??[])}var nN=class ra{constructor(e,i){this.mode=e,this.suppressFieldDotNotation=i,this.debug=ce.create(!0,"data-model"),this.requested=[],this.status="setup"}async request(e,i,n){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");return new Promise((s,r)=>{this.requested.push({id:e,opts:n,data:i,resolve:s,reject:r})})}execute(e){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);const i=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",i);const n=this.mergeRequested(i);this.debug("DataController.execute() - merged",n),this.debug.check()&&(pe().processedData=[]);const s=[];for(const{data:r,ids:l,opts:c,resolves:h,rejects:d}of n){const p=e==null?void 0:e.find(b=>u_(b,r,l,c));let g,m;if(p==null)try{g=new iN(c,this.mode,this.suppressFieldDotNotation);const b=new Map(i.map(v=>[v.id,v.data]));m=g.processData(b)}catch(b){d.forEach(v=>v(b));continue}else({dataModel:g,processedData:m}=p);s.push({opts:c,data:r,ids:l,dataModel:g,processedData:m}),this.debug.check()&&pe("processedData").push(m),(m==null?void 0:m.partialValidDataCount)===0?h.forEach(b=>b({dataModel:g,processedData:m})):m?this.splitResult(g,m,l,h):d.forEach(b=>b(new Error("AG Charts - no processed data generated")))}return s}validateRequests(e){const i=[];for(const[n,s]of e.entries())n>0&&s.data.length!==e[0].data.length&&s.opts.groupByData===!1&&s.opts.groupByKeys===!1?s.reject(new Error("all series[].data arrays must be of the same length and have matching keys.")):i.push(s);return i}mergeRequested(e){const i=[];for(const n of e){const s=i.find(ra.groupMatch(n));s?s.push(n):i.push([n])}return i.map(ra.mergeRequests)}splitResult(e,i,n,s){for(let r=0;r<n.length;r++){const l=s[r];l({dataModel:e,processedData:i})}}static groupMatch({data:e,opts:i}){function n(d){return d.filter(p=>p.type==="key").map(p=>p.property).join(";")}const{groupByData:s,groupByKeys:r=!1,groupByFn:l,props:c}=i,h=n(c);return([d])=>(s===!1||d.data===e)&&(d.opts.groupByKeys??!1)===r&&d.opts.groupByFn===l&&n(d.opts.props)===h}static mergeRequests(e){const i=new Set(["key","group-value-processor"]);return e.reduce((n,{id:s,data:r,resolve:l,reject:c,opts:{props:h,...d}})=>{var p;n.ids.push(s),n.rejects.push(c),n.resolves.push(l),n.data??(n.data=r),n.opts??(n.opts={...d,props:[]});for(const g of h){const m={...g,scopes:[s],data:r};ra.createIdsMap(s,m);const b=n.opts.props.find(v=>v.type===m.type&&(i.has(v.type)||v.data===m.data)&&ra.deepEqual(v,m));if(!b){n.opts.props.push(m);continue}b.scopes??(b.scopes=[]),b.scopes.push(...m.scopes??[]),(b.type==="key"||b.type==="value")&&((p=m.idsMap)!=null&&p.size)&&ra.mergeIdsMap(m.idsMap,b.idsMap)}return n},{ids:[],rejects:[],resolves:[],data:null,opts:null})}static mergeIdsMap(e,i){for(const[n,s]of e){const r=i.get(n);if(r==null)i.set(n,new Set(s));else for(const l of s)r.add(l)}}static createIdsMap(e,i){i.id!=null&&(i.idsMap??(i.idsMap=new Map),i.idsMap.has(e)?i.idsMap.get(e).add(i.id):i.idsMap.set(e,new Set([i.id])))}static deepEqual(e,i){if(e===i)return!0;if(e&&i&&typeof e=="object"&&typeof i=="object"){if(e.constructor!==i.constructor)return!1;let n,s;if(Array.isArray(e)){if(s=e.length,s!==i.length)return!1;for(n=s-1;n>=0;n--)if(!ra.deepEqual(e[n],i[n]))return!1;return!0}const r=Object.keys(e);if(s=r.length,s!==Object.keys(i).length)return!1;for(n=s-1;n>=0;n--){const l=r[n];if(!ra.skipKeys.has(l)&&(!Object.hasOwn(i,l)||!ra.deepEqual(e[l],i[l])))return!1}return!0}return!1}};nN.skipKeys=new Set(["id","idsMap","type","scopes","data"]);var sN=nN,m_=class{constructor(){this.axesMap=new Map,this.themeTemplates=new Map}register(t,e){this.axesMap.set(t,e.moduleFactory),e.themeTemplate&&this.setThemeTemplate(t,e.themeTemplate)}create(t,e){const i=this.axesMap.get(t);if(i)return i(e);throw new Error(`AG Charts - unknown axis type: ${t}`)}has(t){return this.axesMap.has(t)}keys(){return this.axesMap.keys()}setThemeTemplate(t,e){return this.themeTemplates.set(t,e),this}getThemeTemplate(t){return this.themeTemplates.get(t)}},fa=new m_,Xl=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"annotations",chartTypes:["cartesian"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],optionsInnerKey:"image"},{type:"root",optionsKey:"foreground",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],optionsInnerKey:"image"},{type:"root",optionsKey:"chartToolbar",chartTypes:["cartesian"]},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"statusBar",chartTypes:["cartesian"],identifier:"status-bar"},{type:"root",optionsKey:"dataSource",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"sync",chartTypes:["cartesian"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian","topology"]},{type:"root",optionsKey:"ranges",chartTypes:["cartesian"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],identifier:"gradient"},{type:"root",optionsKey:"navigator",chartTypes:["cartesian"]},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"bar",community:!0},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"line",community:!0},{type:"axis",optionsKey:"axes[]",chartTypes:["cartesian"],identifier:"ordinal-time"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"candlestick"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"cone-funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"ohlc"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-marker"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape-background"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line-background"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"chord"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"sankey"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"pyramid"},{type:"series",optionsKey:"series[]",chartTypes:["gauge"],identifier:"linear-gauge"},{type:"series",optionsKey:"series[]",chartTypes:["gauge"],identifier:"radial-gauge"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"},{type:"context",contextKey:"sharedToolbar",chartTypes:["cartesian"]}];function y_(t){return Xl.some(e=>e.type==="series"&&e.identifier===t)}function Co(t){var e;return(e=Xl.find(i=>i.type==="series"&&i.identifier===t))==null?void 0:e.chartTypes}function b_(t){var i;return((i=Co(t))==null?void 0:i.find(n=>n==="cartesian"))==="cartesian"}function x_(t){var i;return((i=Co(t))==null?void 0:i.find(n=>n==="polar"))==="polar"}function v_(t){var i;return((i=Co(t))==null?void 0:i.find(n=>n==="hierarchy"))==="hierarchy"}function M_(t){var i;return((i=Co(t))==null?void 0:i.find(n=>n==="topology"))==="topology"}function S_(t){var i;return((i=Co(t))==null?void 0:i.find(n=>n==="flow-proportion"))==="flow-proportion"}function D_(t){var i;return((i=Co(t))==null?void 0:i.find(n=>n==="standalone"))==="standalone"}function A_(t){var i;return((i=Co(t))==null?void 0:i.find(n=>n==="gauge"))==="gauge"}function L_(t){return t.packageType==="enterprise"}function T_(t){if(!L_(t))throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");const e=Xl.find(i=>i.type===t.type&&("optionsKey"in i&&"optionsKey"in t?i.optionsKey===t.optionsKey:!0)&&("contextKey"in i&&"contextKey"in t?i.contextKey===t.contextKey:!0)&&i.identifier===t.identifier&&t.chartTypes.every(n=>i.chartTypes.includes(n)));return e&&(e.useCount??(e.useCount=0),e.useCount++),e!=null}function I_(){return Xl.filter(({useCount:t})=>t==null||t===0)}var N_=class{constructor(){this.legendMap=new Map,this.themeTemplates=new Map}register(t,{optionsKey:e,moduleFactory:i,themeTemplate:n}){this.legendMap.set(t,{optionsKey:e,moduleFactory:i}),this.themeTemplates.set(e,n)}create(t,e){var n;const i=(n=this.legendMap.get(t))==null?void 0:n.moduleFactory;if(i)return i(e);throw new Error(`AG Charts - unknown legend type: ${t}`)}getThemeTemplates(){return Object.fromEntries(this.themeTemplates)}getKeys(){return Array.from(this.legendMap.entries()).reduce((t,[e,i])=>(t[e]=i.optionsKey,t),{})}},Ib=new N_,aN=class extends Map{get(t){return super.get(t)??"unknown"}isCartesian(t){return this.get(t)==="cartesian"}isPolar(t){return this.get(t)==="polar"}isHierarchy(t){return this.get(t)==="hierarchy"}isTopology(t){return this.get(t)==="topology"}isFlowProportion(t){return this.get(t)==="flow-proportion"}isStandalone(t){return this.get(t)==="standalone"}isGauge(t){return this.get(t)==="gauge"}get seriesTypes(){return Array.from(this.keys())}get cartesianTypes(){return this.seriesTypes.filter(t=>this.isCartesian(t))}get polarTypes(){return this.seriesTypes.filter(t=>this.isPolar(t))}get hierarchyTypes(){return this.seriesTypes.filter(t=>this.isHierarchy(t))}get topologyTypes(){return this.seriesTypes.filter(t=>this.isTopology(t))}get flowProportionTypes(){return this.seriesTypes.filter(t=>this.isFlowProportion(t))}get standaloneTypes(){return this.seriesTypes.filter(t=>this.isStandalone(t))}get gaugeTypes(){return this.seriesTypes.filter(t=>this.isGauge(t))}},C_=class extends Map{set(t,e){return super.set(t,Rt(e,this.get(t)))}},De=new aN,rN=new aN,d0=new C_,E_=class{constructor(){this.seriesMap=new Map,this.themeTemplates=new Map}register(t,{chartTypes:[e],moduleFactory:i,tooltipDefaults:n,defaultAxes:s,themeTemplate:r,paletteFactory:l,solo:c,stackable:h,groupable:d,stackedByDefault:p,hidden:g}){this.setThemeTemplate(t,r),this.seriesMap.set(t,{moduleFactory:i,tooltipDefaults:n,defaultAxes:s,paletteFactory:l,solo:c,stackable:h,groupable:d,stackedByDefault:p}),De.set(t,e),g||rN.set(t,e)}create(t,e){var n;const i=(n=this.seriesMap.get(t))==null?void 0:n.moduleFactory;if(i)return i(e);throw new Error(`AG Charts - unknown series type: ${t}`)}cloneDefaultAxes(t,e){var s;const i=(s=this.seriesMap.get(t))==null?void 0:s.defaultAxes;if(i==null)return null;const n=typeof i=="function"?i(e):i;return{axes:Xe(n)}}isDerivedDefaultAxes(t){var e;return typeof((e=this.seriesMap.get(t))==null?void 0:e.defaultAxes)=="function"}setThemeTemplate(t,e){const i=this.themeTemplates.get(t);this.themeTemplates.set(t,Rt(e,i))}getThemeTemplate(t){return this.themeTemplates.get(t)}getPaletteFactory(t){var e;return(e=this.seriesMap.get(t))==null?void 0:e.paletteFactory}getTooltipDefauls(t){var e;return(e=this.seriesMap.get(t))==null?void 0:e.tooltipDefaults}isSolo(t){var e;return((e=this.seriesMap.get(t))==null?void 0:e.solo)??!1}isGroupable(t){var e;return((e=this.seriesMap.get(t))==null?void 0:e.groupable)??!1}isStackable(t){var e;return((e=this.seriesMap.get(t))==null?void 0:e.stackable)??!1}isStackedByDefault(t){var e;return((e=this.seriesMap.get(t))==null?void 0:e.stackedByDefault)??!1}},an=new E_,Nb=class co extends Dr{constructor(e){super(),this.chart=e}subscribe(e=co.DEFAULT_GROUP){let i=this.get(e);return i||(i=new Set,co.chartsGroups.set(e,i)),i.add(this.chart),this}unsubscribe(e=co.DEFAULT_GROUP){var i;return(i=this.get(e))==null||i.delete(this.chart),this}getChart(){return this.chart}getGroup(e=co.DEFAULT_GROUP){const i=this.get(e);return i?Array.from(i):[]}getGroupSiblings(e=co.DEFAULT_GROUP){return this.getGroup(e).filter(i=>i!==this.chart)}get(e){return co.chartsGroups.get(e)}};Nb.chartsGroups=new Map;Nb.DEFAULT_GROUP=Symbol("sync-group-default");var k_=Nb,Cb=class extends Ct{constructor(){super(...arguments),this.enabled=!1}};M([T(At)],Cb.prototype,"enabled",2);M([T(Ut)],Cb.prototype,"tabIndex",2);var oN=["top","right","bottom","left"];function w_(t){return typeof t=="string"&&oN.includes(t)}function O_(t){const e=[],i=[],n=[...oN];for(const s of t)s instanceof fh&&(w_(s.position)?i.push(s.position):e.push(s));for(const s of e){let r;do r=n.pop();while(r&&i.includes(r));if(r==null)break;s.position=r}}var R_=["direction","xKey","yKey","sizeKey","angleKey","radiusKey","normalizedTo"];function j_(t,e,i){var d,p;const n=(g,m,b)=>{const v=[g];for(const S of R_)S in m&&m[S]!=null&&v.push(`${S}=${m[S]}`);return b!=null&&b.seriesGrouping&&v.push(`seriesGrouping.groupId=${b==null?void 0:b.seriesGrouping.groupId}`),v.join(";")},s=new Map;let r=0;for(const g of t){const m=n(g.type,g.properties,i==null?void 0:i[r]);s.has(m)||s.set(m,[]),(d=s.get(m))==null||d.push([g,r++])}const l=new Map;r=0;for(const g of e){const m=n(g.type,g,g);l.has(m)||l.set(m,[]),(p=l.get(m))==null||p.push([g,r++])}if(![...s.keys()].some(g=>l.has(g)))return{status:"no-overlap",oldKeys:s.keys(),newKeys:l.keys()};const h=[];for(const[g,m]of l.entries())for(const[b,v]of m){const S=s.get(g);if(S==null||S.length<1){h.push({opts:b,targetIdx:v,idx:v,status:"add"}),s.delete(g);continue}const[A,D]=S.shift(),L=(i==null?void 0:i[D])??{},C=ba(L,b??{}),{groupIndex:N,stackIndex:k}=(C==null?void 0:C.seriesGrouping)??{};N!=null||k!=null?h.push({opts:b,series:A,diff:C,targetIdx:v,idx:D,status:"series-grouping"}):C?h.push({opts:b,series:A,diff:C,targetIdx:v,idx:D,status:"update"}):h.push({opts:b,series:A,targetIdx:v,idx:D,status:"no-op"}),S.length===0&&s.delete(g)}for(const g of s.values())for(const[m,b]of g)h.push({series:m,idx:b,targetIdx:-1,status:"remove"});return{status:"overlap",changes:h}}function Ta(t){var i;const{series:e}=t;if(e)return((i=e[0])==null?void 0:i.type)??"line"}function Eb(t){const e=Ta(t);return e==null?!1:De.isCartesian(e)||b_(e)}function lN(t){const e=Ta(t);return e==null?!1:De.isPolar(e)||x_(e)}function __(t){const e=Ta(t);return e==null?!1:De.isHierarchy(e)||v_(e)}function z_(t){const e=Ta(t);return e==null?!1:De.isTopology(e)||M_(e)}function P_(t){const e=Ta(t);return e==null?!1:De.isFlowProportion(e)||S_(e)}function cN(t){const e=Ta(t);return e==null?!1:De.isStandalone(e)||D_(e)}function uN(t){const e=Ta(t);return e==null?!1:De.isGauge(e)||A_(e)}function B_(t){const e=Ta(t);return lN(t)&&e!=="pie"&&e!=="donut"}function F_(t){return t==null?!1:De.has(t)}function G_(t){return t==null?!1:fa.has(t)}var U_=class extends sb{applyOptions(t){for(const e of this.moduleMap.values())e.module.optionsKey in t&&Os(e.moduleInstance)&&e.moduleInstance.set(t[e.module.optionsKey])}*legends(){for(const{module:t,moduleInstance:e}of this.moduleMap.values())t.type==="legend"&&(yield{legendType:t.identifier,legend:e})}},f0="ag-charts-overlay",FA="ag-charts-dark-overlay",go=class extends Ct{constructor(t,e){super(),this.className=t,this.defaultMessageId=e,this.enabled=!0}getText(t){return t.t(this.text??this.defaultMessageId)}getElement(t,e,i){var n;if((n=this.content)==null||n.remove(),this.focusBox=i,this.renderer){const s=this.renderer();if(s instanceof HTMLElement)this.content=s;else{const r=zt("div");r.innerHTML=s,this.content=r.firstElementChild}}else{const s=zt("div",{display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:"100%",margin:"8px",fontFamily:"var(--ag-charts-font-family)",fontSize:"var(--ag-charts-font-size)",fontWeight:"var(--ag-charts-font-weight)"});s.innerText=this.getText(e),this.content=s,t==null||t.animate({from:0,to:1,id:"overlay",phase:"add",groupId:"opacity",onUpdate(r){s.style.opacity=String(r)},onStop(){s.style.opacity="1"}})}return this.content}removeElement(t=()=>{var i;return(i=this.content)==null?void 0:i.remove()},e){if(this.content){if(e){const{content:i}=this;e.animate({from:1,to:0,phase:"remove",id:"overlay",groupId:"opacity",onUpdate(n){i.style.opacity=String(n)},onStop(){t==null||t()}})}else t==null||t();this.content=void 0,this.focusBox=void 0}}};M([T(At)],go.prototype,"enabled",2);M([T(rt,{optional:!0})],go.prototype,"text",2);M([T($i,{optional:!0})],go.prototype,"renderer",2);var $l=class extends Ct{constructor(){super(...arguments),this.darkTheme=!1,this.loading=new go("ag-charts-loading-overlay","overlayLoadingData"),this.noData=new go("ag-charts-no-data-overlay","overlayNoData"),this.noVisibleSeries=new go("ag-charts-no-visible-series","overlayNoVisibleSeries"),this.unsupportedBrowser=new go("ag-charts-unsupported-browser","overlayUnsupportedBrowser")}getFocusInfo(t){for(const e of[this.loading,this.noData,this.noVisibleSeries,this.unsupportedBrowser])if(e.focusBox!==void 0)return{text:e.getText(t),rect:e.focusBox}}destroy(){this.loading.removeElement(),this.noData.removeElement(),this.noVisibleSeries.removeElement(),this.unsupportedBrowser.removeElement()}};M([T(At)],$l.prototype,"darkTheme",2);M([T(mt)],$l.prototype,"loading",2);M([T(mt)],$l.prototype,"noData",2);M([T(mt)],$l.prototype,"noVisibleSeries",2);M([T(mt)],$l.prototype,"unsupportedBrowser",2);function Y_(t,e){const{animationDuration:i}=zu.add,n=i*e,s=zt("div",`${f0}--loading`,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",height:"100%",boxSizing:"border-box",font:"13px Verdana, sans-serif",userSelect:"none",animation:`ag-charts-loading ${n}ms linear 50ms both`}),r=zt("span",{width:"45px",height:"40px",backgroundImage:["linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)"].join(""),backgroundSize:"10px 400%",backgroundRepeat:"no-repeat",animation:"ag-charts-loading-matrix 1s infinite linear"}),l=zt("p",{marginTop:"1em"});l.innerText=t;const c=zt("div",`${f0}__loading-background`,{position:"absolute",inset:"0",opacity:"0.5",zIndex:"-1"}),h=zt("style");return h.innerText=["@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }","@keyframes ag-charts-loading-matrix {","0% { background-position: 0% 0%, 50% 0%, 100% 0%; }","100% { background-position: 0% 100%, 50% 100%, 100% 100%; }","}"].join(" "),s.replaceChildren(h,r,l,c),s}var hN=(t=>(t[t.BACKGROUND=0]="BACKGROUND",t[t.ANY_CONTENT=1]="ANY_CONTENT",t))(hN||{}),dN=(t=>(t[t.FOREGROUND=0]="FOREGROUND",t[t.HIGHLIGHT=1]="HIGHLIGHT",t[t.LABEL=2]="LABEL",t))(dN||{}),fN=(t=>(t[t.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",t[t.NEAREST_NODE=1]="NEAREST_NODE",t[t.AXIS_ALIGNED=2]="AXIS_ALIGNED",t))(fN||{}),V_=.25,H_=.125,gh=class{constructor(t,e,{datum:i},n){this.type=t,this.event=e,this.datum=i,this.seriesId=n.id}},kb=class{constructor(t,e,i){this.series=t,this.seriesGrouping=e,this.oldGrouping=i,this.type="groupingChanged"}},Ip=class extends TI{constructor(t){super(),this.destroyFns=[],this.usesPlacedLabels=!1,this.seriesGrouping=void 0,this.NodeEvent=gh,this.internalId=qn(this),this.contentGroup=new Xi({name:`${this.internalId}-content`,zIndex:1}),this.highlightGroup=new Xi({name:`${this.internalId}-highlight`,zIndex:1}),this.annotationGroup=new Xi({name:`${this.internalId}-annotation`}),this.labelGroup=new Xi({name:`${this.internalId}-series-labels`}),this.axes={x:void 0,y:void 0},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new sb,this.datumCallbackCache=new Map,this.connectsToYAxis=!1,this._declarationOrder=-1,this.seriesListeners=new La,this._pickNodeCache=new J0;const{moduleCtx:e,pickModes:i,directionKeys:n={},directionNames:s={},canHaveAxes:r=!1,usesPlacedLabels:l=!1}=t;this.ctx=e,this.directionKeys=n,this.directionNames=s,this.canHaveAxes=r,this.usesPlacedLabels=l,this.highlightGroup=new Xi({name:`${this.internalId}-highlight`}),this.highlightNode=this.highlightGroup.appendChild(new Tt({name:"highlightNode",zIndex:0})),this.highlightLabel=this.highlightGroup.appendChild(new Tt({name:"highlightLabel",zIndex:10})),this.pickModes=i}get pickModeAxis(){return"main"}get id(){var t;return((t=this.properties)==null?void 0:t.id)??this.internalId}get type(){return this.constructor.type??""}get focusable(){return!0}get data(){return this._data??this._chartData}set visible(t){this.properties.visible=t,this.ctx.legendManager.toggleItem({enabled:t,seriesId:this.id}),this.ctx.legendManager.update(),this.visibleMaybeChanged()}get visible(){return this.ctx.legendManager.getSeriesEnabled(this.id)??this.properties.visible}get hasData(){return this.data!=null&&this.data.length>0}get tooltipEnabled(){var t;return((t=this.properties.tooltip)==null?void 0:t.enabled)??!1}onDataChange(){this.nodeDataRefresh=!0,this._pickNodeCache.clear()}setOptionsData(t){this._data=t,this.onDataChange()}setChartData(t){this._chartData=t,this.data===t&&this.onDataChange()}onSeriesGroupingChange(t,e){const{internalId:i,type:n,visible:s}=this;t&&this.ctx.seriesStateManager.deregisterSeries(this),e&&this.ctx.seriesStateManager.registerSeries({internalId:i,type:n,visible:s,seriesGrouping:e}),this.fireEvent(new kb(this,e,t))}getBandScalePadding(){return{inner:1,outer:0}}attachSeries(t,e,i){t.appendChild(this.contentGroup),e.appendChild(this.highlightGroup),e.appendChild(this.labelGroup),i==null||i.appendChild(this.annotationGroup)}detachSeries(t,e,i){t==null||t.removeChild(this.contentGroup),e.removeChild(this.highlightGroup),e.removeChild(this.labelGroup),i==null||i.removeChild(this.annotationGroup)}setSeriesIndex(t){return t===this._declarationOrder?!1:(this._declarationOrder=t,this.contentGroup.zIndex=[1,t,0],this.highlightGroup.zIndex=[1,t,1],this.labelGroup.zIndex=[1,t,2],this.annotationGroup.zIndex=t,!0)}renderToOffscreenCanvas(){return!1}addEventListener(t,e){return super.addEventListener(t,e)}addListener(t,e){return this.seriesListeners.addListener(t,e)}dispatch(t,e){this.seriesListeners.dispatch(t,e)}addChartEventListeners(){}destroy(){this.destroyFns.forEach(t=>t()),this.destroyFns=[],this.resetDatumCallbackCache(),this.ctx.seriesStateManager.deregisterSeries(this)}getDirectionValues(t,e){const i=this.resolveKeyDirection(t),n=e==null?void 0:e[i],s=[];if(!n)return s;const r=(...l)=>{for(const c of l)Array.isArray(c)?r(...c):typeof c=="object"?r(...Object.values(c)):s.push(c)};return r(...n.map(l=>this.properties[l])),s}getKeys(t){return this.getDirectionValues(t,this.directionKeys)}getKeyProperties(t){return this.directionKeys[this.resolveKeyDirection(t)]??[]}getNames(t){return this.getDirectionValues(t,this.directionNames)}resolveKeyDirection(t){return t}getDomain(t){const e=this.getSeriesDomain(t),i=this.moduleMap.mapModules(n=>n.getDomain(t)).flat();return i.length!==0?e.concat(i):e}getRange(t,e){return this.getSeriesRange(t,e)}getVisibleItems(t,e,i){return 1/0}getGradientFillOptions({bounds:t},e){const{axes:i}=this,n=i.x,s=i.y,r=(n==null?void 0:n.range)??[0,1],l=(s==null?void 0:s.range)??[0,1],[c,h]=gi(r),[d,p]=gi(l),g=h-c,m=p-d;let b=[0,1];return t==="series"?b=this.getSeriesDomain("y"):t==="axes"&&(b=(s==null?void 0:s.scale.domain)??[0,1]),{bbox:new bt(c,d,g,m),domain:b,defaultColorRange:e}}markNodeDataDirty(){this.nodeDataRefresh=!0,this._pickNodeCache.clear(),this.visibleMaybeChanged()}visibleMaybeChanged(){this.ctx.seriesStateManager.updateSeries(this)}getOpacity(){const{dimOpacity:e=1,enabled:i=!0}=this.properties.highlightStyle.series;if(!i||e===1)return 1;switch(this.isItemIdHighlighted()){case 0:case 1:return 1;case 2:default:return e}}getStrokeWidth(t){const{strokeWidth:e,enabled:i=!0}=this.properties.highlightStyle.series;if(!i||e===void 0)return t;switch(this.isItemIdHighlighted()){case 1:return e;case 0:case 2:return t}}isItemIdHighlighted(){var e,i;const t=(i=(e=this.ctx.highlightManager)==null?void 0:e.getActiveHighlight())==null?void 0:i.series;return t==null?0:t!==this?2:1}getModuleTooltipParams(){return this.moduleMap.mapModules(t=>t.getTooltipParams()).reduce((t,e)=>Object.assign(t,e),{})}pickNode(t,e,i=!1){const{pickModes:n,pickModeAxis:s,visible:r,contentGroup:l}=this;if(!r||!l.visible||e==="highlight"&&!this.properties.highlight.enabled||e==="highlight-tooltip"&&!this.properties.highlight.enabled)return;let c=1/0;if(e==="tooltip"||e==="highlight-tooltip"){const{tooltip:m}=this.properties;c=typeof m.range=="number"?m.range:1/0,i||(i=m.range==="exact")}else if(e==="event"||e==="context-menu"){const{nodeClickRange:m}=this.properties;c=typeof m=="number"?m:1/0,i||(i=m==="exact")}const h=n.filter(m=>!i||m===0),{x:d,y:p}=t,g=JSON.stringify({x:d,y:p,maxDistance:c,selectedPickModes:h});if(this._pickNodeCache.has(g))return this._pickNodeCache.get(g);for(const m of h){let b;switch(m){case 0:b=this.pickNodeExactShape(t);break;case 1:b=this.pickNodeClosestDatum(t);break;case 2:b=s!=null?this.pickNodeMainAxisFirst(t,s==="main-category"):void 0;break}if(b&&b.distance<=c)return this._pickNodeCache.set(g,{pickMode:m,match:b.datum,distance:b.distance})}return this._pickNodeCache.set(g,void 0)}pickNodeExactShape(t){const e=this.contentGroup.pickNode(t.x,t.y);if(e&&e.datum.missing!==!0)return{datum:e.datum,distance:0}}pickNodeClosestDatum(t){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeNearestDistantObject(t,e){const i=tp(t.x,t.y,e);if(i.nearest!==void 0&&i.nearest.datum.missing!==!0)return{datum:i.nearest.datum,distance:Math.sqrt(i.distanceSquared)}}pickNodeMainAxisFirst(t,e){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}getLabelData(){return[]}updatePlacedLabelData(t){}fireNodeClickEvent(t,e){this.fireEvent(new this.NodeEvent("nodeClick",t,e,this))}fireNodeDoubleClickEvent(t,e){this.fireEvent(new this.NodeEvent("nodeDoubleClick",t,e,this))}createNodeContextMenuActionEvent(t,e){return new this.NodeEvent("nodeContextMenuAction",t,e,this)}onLegendInitialState(t,e){const{visible:i=!0,itemId:n,legendItemName:s}=e??{};this.toggleSeriesItem(i,t,n,s)}onLegendItemClick(t){const{enabled:e,itemId:i,series:n,legendType:s}=t,r="legendItemName"in this.properties?this.properties.legendItemName:void 0,l="legendItemKey"in this.properties?this.properties.legendItemKey:void 0,c=r!=null&&r===t.legendItemName;(n.id===this.id||c||l!=null)&&this.toggleSeriesItem(e,s,i,r,t)}onLegendItemDoubleClick(t){const{enabled:e,itemId:i,series:n,numVisibleItems:s,legendType:r}=t,l="legendItemName"in this.properties?this.properties.legendItemName:void 0,c="legendItemKey"in this.properties?this.properties.legendItemKey:void 0,h=l!=null&&l===t.legendItemName;n.id===this.id||h||c!=null?this.toggleSeriesItem(!0,r,i,l,t):e&&s===1?this.toggleSeriesItem(!0,r,void 0,l):this.toggleSeriesItem(!1,r,void 0,l)}toggleSeriesItem(t,e,i,n,s){const r=this.id;(t||e!=="category")&&(this.visible=t),this.nodeDataRefresh=!0,this._pickNodeCache.clear();const l={type:"seriesVisibilityChange",seriesId:r,itemId:i,legendItemName:(s==null?void 0:s.legendItemName)??n,visible:t};this.fireEvent(l),this.ctx.legendManager.toggleItem({enabled:t,seriesId:r,itemId:i,legendItemName:n})}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return{...this.ctx,series:this}}getLabelText(t,e,i=ya){return t.formatter?this.ctx.callbackCache.call(t.formatter,{seriesId:this.id,...e})??i(e.value):i(e.value)}getMarkerStyle(t,e,i=t.getStyle()){var r;const n={size:((r=e.datum.point)==null?void 0:r.size)??0},s=Rt(n,i);if(t.itemStyler){const l=this.ctx.callbackCache.call(t.itemStyler,{seriesId:this.id,...s,...e,datum:e.datum.datum});return Rt(l,s)}return s}updateMarkerStyle(t,e,i,n=e.getStyle(),{applyTranslation:s=!0,selected:r=!0}={}){const{point:l}=i.datum,c=this.getMarkerStyle(e,i,n),h=this.visible&&c.size>0&&l&&!isNaN(l.x)&&!isNaN(l.y);if(s?t.setProperties({visible:h,...c,translationX:l==null?void 0:l.x,translationY:l==null?void 0:l.y}):t.setProperties({visible:h,...c}),r||(t.fillOpacity*=V_,t.strokeOpacity*=H_),typeof e.shape=="function"&&!t.dirtyPath){t.path.clear(!0),t.updatePath(),t.checkPathDirty();const d=t.getBBox();if(l!==void 0&&d.isFinite()){const p=d.computeCenter(),[g,m]=["x","y"].map(b=>(c.strokeWidth??0)+Math.abs(p[b]-l[b]));l.focusSize=Math.max(d.width+g,d.height+m)}}}get nodeDataDependencies(){return this._nodeDataDependencies??{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(t){const{width:e,height:i}=t??{width:NaN,height:NaN},n=t?{seriesRectWidth:e,seriesRectHeight:i}:void 0,s=ba(this.nodeDataDependencies,n)!=null;return s&&(this._nodeDataDependencies=n,this.markNodeDataDirty()),s}pickFocus(t){}resetDatumCallbackCache(){this.datumCallbackCache.clear()}cachedDatumCallback(t,e){const{datumCallbackCache:i}=this,n=i.get(t);if(n!=null)return n;const s=e();return i.set(t,s),s}};M([ln({changeValue:function(t,e){this.onSeriesGroupingChange(e,t)}})],Ip.prototype,"seriesGrouping",2);function W_(t,e){const i=-e/t;return t!==0&&i>=0&&i<=1?[i]:[]}function K_(t,e,i){if(t===0)return W_(e,i);const n=e*e-4*t*i,s=[];if(n===0){const r=-e/(2*t);r>=0&&r<=1&&s.push(r)}else if(n>0){const r=Math.sqrt(n),l=(-e-r)/(2*t),c=(-e+r)/(2*t);l>=0&&l<=1&&s.push(l),c>=0&&c<=1&&s.push(c)}return s}function Z_(t,e,i,n){if(t===0)return K_(e,i,n);const s=e/t,r=i/t,l=n/t,c=(3*r-s*s)/9,h=(9*s*r-27*l-2*s*s*s)/54,d=c*c*c+h*h,p=1/3,g=[];if(d>=0){const m=Math.sqrt(d),b=Math.sign(h+m)*Math.pow(Math.abs(h+m),p),v=Math.sign(h-m)*Math.pow(Math.abs(h-m),p),S=Math.abs(Math.sqrt(3)*(b-v)/2),A=-.3333333333333333*s+(b+v);if(A>=0&&A<=1&&g.push(A),S===0){const D=-.3333333333333333*s-(b+v)/2;D>=0&&D<=1&&g.push(D)}}else{const m=Math.acos(h/Math.sqrt(-c*c*c)),b=p*s,v=2*Math.sqrt(-c),S=v*Math.cos(p*m)-b,A=v*Math.cos(p*(m+2*Math.PI))-b,D=v*Math.cos(p*(m+4*Math.PI))-b;S>=0&&S<=1&&g.push(S),A>=0&&A<=1&&g.push(A),D>=0&&D<=1&&g.push(D)}return g}function Nl(t,e,i,n,s,r,l,c){const h=(i-t)*(c-r)-(n-e)*(l-s);if(h===0)return 0;const d=((l-s)*(e-r)-(t-s)*(c-r))/h,p=((i-t)*(e-r)-(n-e)*(t-s))/h;return d>=0&&d<=1&&p>=0&&p<=1?1:0}function X_(t,e,i,n,s,r,l,c,h,d,p,g){let m=0;const b=d-g,v=p-h,S=h*(g-d)-d*(p-h),A=GA(t,i,s,l),D=GA(e,n,r,c),L=b*A[0]+v*D[0],C=b*A[1]+v*D[1],N=b*A[2]+v*D[2],k=b*A[3]+v*D[3]+S,O=Z_(L,C,N,k);for(const _ of O){const j=_*_,z=_*j,B=A[0]*z+A[1]*j+A[2]*_+A[3],q=D[0]*z+D[1]*j+D[2]*_+D[3];let at;h===p?at=(q-d)/(g-d):at=(B-h)/(p-h),at>=0&&at<=1&&m++}return m}function GA(t,e,i,n){return[-t+3*e-3*i+n,3*t-6*e+3*i,-3*t+3*e,t]}function pN(t,e,i,n,s,r,l,c,h,d){if(isNaN(t)||isNaN(e))return 0;r&&([s,n]=[n,s]);const p=(d-c)/(h-l),g=c-p*l,m=Math.pow(p,2)+1,b=2*(p*(g-e)-t),v=Math.pow(t,2)+Math.pow(g-e,2)-Math.pow(i,2),S=Math.pow(b,2)-4*m*v;if(S<0)return 0;const A=(-b+Math.sqrt(S))/2/m,D=(-b-Math.sqrt(S))/2/m;let L=0;return[A,D].forEach(C=>{if(!(C>=Math.min(l,h)&&C<=Math.max(l,h)))return;const k=p*C+g,O=C-t,_=k-e,j=Math.atan2(_,O);lr(j,n,s)&&L++}),L}function zf(t,e,i,n,s){return(1-s)**3*t+3*(1-s)**2*s*e+3*(1-s)*s**2*i+s**3*n}function Pf(t,e,i,n,s){if(s<=Math.min(t,n))return t<n?0:1;if(s>=Math.max(t,n))return t<n?1:0;let r=0,l=1,c=NaN;for(let h=0;h<12;h+=1)c=(r+l)/2,zf(t,e,i,n,c)<s?r=c:l=c;return c}function Bf(t,e,i,n,s,r,l,c,h){const d=(1-h)*t+h*i,p=(1-h)*e+h*n,g=(1-h)*i+h*s,m=(1-h)*n+h*r,b=(1-h)*s+h*l,v=(1-h)*r+h*c,S=(1-h)*d+h*g,A=(1-h)*p+h*m,D=(1-h)*g+h*b,L=(1-h)*m+h*v,C=(1-h)*S+h*D,N=(1-h)*A+h*L;return[[{x:t,y:e},{x:d,y:p},{x:S,y:A},{x:C,y:N}],[{x:C,y:N},{x:D,y:L},{x:b,y:v},{x:l,y:c}]]}function p0(t,e,i,n){const s=-t+3*e-3*i+n,r=3*t-6*e+3*i,l=-3*t+3*e;if(s===0){if(r!==0){const h=-l/r;if(h>0&&h<1)return[h]}return[]}const c=r*r-4*s*l;if(c>=0){const h=Math.sqrt(c),d=(-r+h)/(2*s),p=(-r-h)/(2*s);return[d,p].filter(g=>g>0&&g<1)}return[]}function gN(t,e,i,n,s,r,l,c){const h=p0(t,i,s,l),d=p0(e,n,r,c);return[...h,...d]}var Uu=class{constructor(){this.path2d=new Path2D,this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this.openedPath=!1,this.closedPath=!1}isEmpty(){return this.commands.length===0}isDirty(){return this.closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length||this.previousCommands.toString()!==this.commands.toString()||this.previousParams.toString()!==this.params.toString()}getPath2D(){return this.path2d}moveTo(t,e){this.openedPath=!0,this.path2d.moveTo(t,e),this.commands.push(0),this.params.push(t,e)}lineTo(t,e){this.openedPath?(this.path2d.lineTo(t,e),this.commands.push(1),this.params.push(t,e)):this.moveTo(t,e)}rect(t,e,i,n){this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+n),this.lineTo(t,e+n),this.closePath()}roundRect(t,e,i,n,s){s=Math.min(s,i/2,n/2),this.moveTo(t,e+s),this.arc(t+s,e+s,s,Math.PI,1.5*Math.PI),this.lineTo(t+s,e),this.lineTo(t+i-s,e),this.arc(t+i-s,e+s,s,1.5*Math.PI,2*Math.PI),this.lineTo(t+i,e+s),this.lineTo(t+i,e+n-s),this.arc(t+i-s,e+n-s,s,0,Math.PI/2),this.lineTo(t+i-s,e+n),this.lineTo(t+s,e+n),this.arc(t+ +s,e+n-s,s,Math.PI/2,Math.PI),this.lineTo(t,e+n-s),this.closePath()}arc(t,e,i,n,s,r){this.openedPath=!0,this.path2d.arc(t,e,i,n,s,r),this.commands.push(2),this.params.push(t,e,i,n,s,r?1:0)}cubicCurveTo(t,e,i,n,s,r){this.openedPath||this.moveTo(t,e),this.path2d.bezierCurveTo(t,e,i,n,s,r),this.commands.push(3),this.params.push(t,e,i,n,s,r)}closePath(){this.openedPath&&(this.path2d.closePath(),this.commands.push(4),this.openedPath=!1,this.closedPath=!0)}clear(t){t&&(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this.closedPath),this.path2d=new Path2D,this.openedPath=!1,this.closedPath=!1,this.commands=[],this.params=[]}isPointInPath(t,e){const i=this.commands,n=this.params,s=i.length,r=-1e4,l=-1e4;let c=NaN,h=NaN,d=0,p=0,g=0;for(let m=0,b=0;m<s;m++)switch(i[m]){case 0:g+=Nl(c,h,d,p,r,l,t,e),d=n[b++],c=d,p=n[b++],h=p;break;case 1:g+=Nl(d,p,n[b++],n[b++],r,l,t,e),d=n[b-2],p=n[b-1];break;case 3:g+=X_(d,p,n[b++],n[b++],n[b++],n[b++],n[b++],n[b++],r,l,t,e),d=n[b-2],p=n[b-1];break;case 2:{const v=n[b++],S=n[b++],A=n[b++],D=n[b++],L=n[b++],C=!!n[b++];if(g+=pN(v,S,A,D,L,C,r,l,t,e),!isNaN(c)){const N=v+Math.cos(D)*A,k=S+Math.sin(D)*A;g+=Nl(d,p,N,k,r,l,t,e)}d=v+Math.cos(L)*A,p=S+Math.sin(L)*A;break}case 4:g+=Nl(c,h,d,p,r,l,t,e);break}return g%2===1}distanceSquared(t,e){let i=1/0;const n=this.commands,s=this.params,r=n.length;let l=NaN,c=NaN,h=0,d=0;for(let p=0,g=0;p<r;p++)switch(n[p]){case 0:h=l=s[g++],d=c=s[g++];break;case 1:{const m=s[g++],b=s[g++];i=Iu(t,e,h,d,m,b,i);break}case 3:ot.error("Command.Curve distanceSquare not implemented");break;case 2:{const m=s[g++],b=s[g++],v=s[g++],S=s[g++],A=s[g++],D=m+Math.cos(S)*v,L=b+Math.sin(S)*v,C=!!s[g++];i=Iu(t,e,h,d,D,L,i),i=i2(t,e,m,b,v,S,A,C,i),h=m+Math.cos(A)*v,d=b+Math.sin(A)*v;break}case 4:i=Iu(t,e,h,d,l,c,i);break}return i}toSVG(t=(e,i)=>({x:e,y:i})){const e=[],{commands:i,params:n}=this,s=(l,...c)=>{e.push(l);for(let h=0;h<c.length;h+=2){const{x:d,y:p}=t(c[h],c[h+1]);e.push(d,p)}};let r=0;for(const l of i)switch(l){case 0:s("M",n[r++],n[r++]);break;case 1:s("L",n[r++],n[r++]);break;case 3:s("C",n[r++],n[r++],n[r++],n[r++],n[r++],n[r++]);break;case 2:{const c=n[r++],h=n[r++],d=n[r++],p=n[r++],g=n[r++],m=n[r++];let b=m?p-g:g-p;b<0&&(b+=Math.ceil(-b/(2*Math.PI))*2*Math.PI),m&&(b=-b);const v=Math.max(Math.ceil(Math.abs(b)/(Math.PI/2)),1),S=b/v,A=4/3*Math.tan(S/4),D=e.length===0?"M":"L";s(D,c+Math.cos(p)*d,h+Math.sin(p)*d);for(let L=0;L<v;L+=1){const C=p+S*(L+0),N=p+S*(L+1),k=d*Math.sin(C),O=d*Math.cos(C),_=d*Math.sin(N),j=d*Math.cos(N);s("C",c+O-A*k,h+k+A*O,c+j+A*_,h+_-A*j,c+j,h+_)}break}case 4:e.push("Z");break}return e.join(" ")}computeBBox(){const{commands:t,params:e}=this;let[i,n,s,r]=[1/0,1/0,-1/0,-1/0],[l,c]=[NaN,NaN],[h,d]=[NaN,NaN];const p=(m,b,v)=>{i=Math.min(b,i),n=Math.min(m,n),s=Math.max(m,s),r=Math.max(b,r),v&&([l,c]=[m,b])};let g=0;for(const m of t)switch(m){case 0:p(e[g++],e[g++],!0),[h,d]=[l,c];break;case 1:p(e[g++],e[g++],!0);break;case 3:{const b=e[g++],v=e[g++],S=e[g++],A=e[g++],D=e[g++],L=e[g++];p(D,L,!0),gN(l,c,b,v,S,A,D,L).forEach(N=>{const k=zf(l,b,S,D,N),O=zf(c,v,A,L,N);p(k,O)});break}case 2:{const b=e[g++],v=e[g++],S=e[g++];let A=fe(e[g++]),D=fe(e[g++]);e[g++]&&([A,D]=[D,A]);const C=(k,O)=>{const _=b+S*Math.cos(k),j=v+S*Math.sin(k);p(_,j,O)};C(A),C(D,!0);const N=[0,Math.PI/2,Math.PI,3*Math.PI/2];for(const k of N)(A<D&&A<=k&&k<=D||A>D&&(A<=k||k<=D))&&C(k);break}case 4:[l,c]=[h,d];break}return new bt(n,i,s-n,r-i)}};function Nt(t){const{changeCb:e,convertor:i}=t??{};return yt({type:"path",convertor:i,changeCb:e})}var Qi=class extends Xn{constructor(){super(...arguments),this.path=new Uu,this._clipX=NaN,this._clipY=NaN,this.clip=!1,this._dirtyPath=!0,this.lastPixelRatio=NaN}set clipX(t){this._clipX=t,this.dirtyPath=!0}set clipY(t){this._clipY=t,this.dirtyPath=!0}set dirtyPath(t){this._dirtyPath!==t&&(this._dirtyPath=t,t&&this.markDirty())}get dirtyPath(){return this._dirtyPath}checkPathDirty(){var t,e;this._dirtyPath||(this.dirtyPath=this.path.isDirty()||(((t=this.fillShadow)==null?void 0:t.isDirty())??!1)||(((e=this._clipPath)==null?void 0:e.isDirty())??!1))}isPointInPath(t,e){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(t,e)}distanceSquared(t,e){return this.distanceSquaredTransformedPoint(t,e)}svgPathData(t){return this.updatePathIfDirty(),this.path.toSVG(t)}distanceSquaredTransformedPoint(t,e){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(t,e)?0:this.path.distanceSquared(t,e)}isDirtyPath(){return!1}updatePath(){}updatePathIfDirty(){(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1)}preRender(t){return t.devicePixelRatio!==this.lastPixelRatio&&(this.dirtyPath=!0),this.lastPixelRatio=t.devicePixelRatio,this.updatePathIfDirty(),super.preRender(t,this.path.commands.length)}render(t){var i,n;const{ctx:e}=t;if(this.clip&&!isNaN(this._clipX)&&!isNaN(this._clipY)){e.save();const s=this.strokeWidth/2;this._clipPath??(this._clipPath=new Uu),this._clipPath.clear(),this._clipPath.rect(-s,-s,this._clipX+s,this._clipY+s+s),e.clip((i=this._clipPath)==null?void 0:i.getPath2D()),this._clipX>0&&this._clipY>0&&this.drawPath(e),e.restore()}else this._clipPath=void 0,this.drawPath(e);(n=this.fillShadow)==null||n.markClean(),super.render(t)}drawPath(t){this.fillStroke(t,this.path.getPath2D())}toSVG(){if(!this.visible)return;const t=Kn("path");return t.setAttribute("d",this.svgPathData()),this.applySvgFillAttributes(t),this.applySvgStrokeAttributes(t),{elements:[t]}}};Qi.className="Path";M([Nt()],Qi.prototype,"clip",2);M([Nt()],Qi.prototype,"clipX",1);M([Nt()],Qi.prototype,"clipY",1);var $_=class{constructor(t){this.swapChain=t,this.div=zt("div"),this.svg=Kn("svg"),this.outerPath=Kn("path"),this.innerPath=Kn("path"),this.svg.append(this.outerPath),this.svg.append(this.innerPath),this.outerPath.classList.add("ag-charts-focus-svg-outer-path"),this.innerPath.classList.add("ag-charts-focus-svg-inner-path"),this.element=zt("div","ag-charts-focus-indicator"),this.element.ariaHidden="true",this.element.append(this.svg),this.swapChain.addListener("swap",e=>this.onSwap(e))}clear(){}update(t,e,i){if(e!=null)if(t instanceof Qi){const n=(r,l)=>{let{x:c,y:h}=ke.toCanvasPoint(t,r,l);return c-=e.x??0,h-=e.y??0,{x:c,y:h}},s=t.svgPathData(n);this.outerPath.setAttribute("d",s),this.innerPath.setAttribute("d",s),this.show(this.svg)}else{let n;if(i){const s=Math.max(t.x-e.x,0),r=Math.max(t.y-e.y,0),l=Math.min(t.x+t.width-e.x,e.width),c=Math.min(t.y+t.height-e.y,e.height);n=new bt(s,r,l-s,c-r)}else n=new bt(t.x-e.x,t.y-e.y,t.width,t.height);Of(this.div,n),this.show(this.div)}}onSwap(t){t!==this.element.parentElement&&(this.element.remove(),t.appendChild(this.element),this.overrideFocusVisible(this.focusVisible))}show(t){this.element.innerHTML="",this.element.append(t)}overrideFocusVisible(t){this.focusVisible=t;const e={true:"1",false:"0",undefined:""},i=this.element.parentElement;i==null||i.style.setProperty("opacity",e[`${t}`])}isFocusVisible(){const t=this.element.parentElement;return t!=null&&pe().getComputedStyle(t).opacity==="1"}},q_=class{constructor(t,e,i,n){this.label1=t,this.label2=e,this.hasFocus=!1,this.skipDispatch=!1,this.listeners={blur:[],focus:[],swap:[]},this.onBlur=s=>(hs(s.target,"pointer-events",void 0),!this.skipDispatch&&this.dispatch("blur",s)),this.onFocus=s=>(hs(s.target,"pointer-events","auto"),!this.skipDispatch&&this.dispatch("focus",s)),ae(this.label1,"id",`${i}-label1`),ae(this.label2,"id",`${i}-label2`),hs(this.label1,"display","none"),hs(this.label2,"display","none"),this.activeAnnouncer=this.createAnnouncer(n),this.inactiveAnnouncer=this.createAnnouncer(n),ae(this.activeAnnouncer,"tabindex",0),this.label2.insertAdjacentElement("afterend",this.activeAnnouncer),this.label2.insertAdjacentElement("afterend",this.inactiveAnnouncer),this.swap("")}createAnnouncer(t){const e=zt("div");return e.role=t,e.className="ag-charts-swapchain",e.addEventListener("blur",this.onBlur),e.addEventListener("focus",this.onFocus),e}destroy(){for(const t of[this.activeAnnouncer,this.inactiveAnnouncer])t.removeEventListener("blur",this.onBlur),t.removeEventListener("focus",this.onFocus),t.remove()}focus(t){this.focusOptions=t,this.activeAnnouncer.focus(t),this.focusOptions=void 0}update(t){this.skipDispatch=!0,this.swap(t),this.hasFocus&&this.activeAnnouncer.focus(this.focusOptions),this.skipDispatch=!1}addListener(t,e){this.listeners[t].push(e),t==="swap"&&e(this.activeAnnouncer)}dispatch(t,e){t==="focus"?this.hasFocus=!0:t==="blur"&&(this.hasFocus=!1),this.listeners[t].forEach(i=>i(e))}swap(t){const e=this.activeAnnouncer.tabIndex;this.label2.textContent=t,[this.inactiveAnnouncer,this.activeAnnouncer]=[this.activeAnnouncer,this.inactiveAnnouncer],[this.label1,this.label2]=[this.label2,this.label1],Mo(this.inactiveAnnouncer,{"aria-labelledby":this.label1.id,"aria-hidden":!0,tabindex:void 0}),Mo(this.activeAnnouncer,{"aria-labelledby":this.label1.id,"aria-hidden":!1,tabindex:e}),this.dispatch("swap",this.activeAnnouncer)}},Q_={arrowdown:{bindings:[{code:"ArrowDown"}]},arrowleft:{bindings:[{code:"ArrowLeft"}]},arrowright:{bindings:[{code:"ArrowRight"}]},arrowup:{bindings:[{code:"ArrowUp"}]},delete:{bindings:[{key:"Backspace"},{key:"Delete"}],activatesFocusIndicator:!1},redo:{bindings:[{key:"y",ctrlOrMeta:!0},{key:"z",ctrlOrMeta:!0,shift:!0}],activatesFocusIndicator:!1},undo:{bindings:[{key:"z",ctrlOrMeta:!0}],activatesFocusIndicator:!1},submit:{bindings:[{key:"Enter"},{code:"Enter"},{code:"Space"}]},zoomin:{bindings:[{key:"+"},{code:"ZoomIn"},{code:"Add"}],activatesFocusIndicator:!1},zoomout:{bindings:[{key:"-"},{code:"ZoomOut"},{code:"Substract"}],activatesFocusIndicator:!1}};function J_(t,e){for(const i of e)if("code"in i){if(i.code===t.code)return!0}else if(i.key===t.key&&(i.shift===void 0||i.shift===t.shiftKey)&&(i.ctrlOrMeta===void 0||i.ctrlOrMeta===t.ctrlKey||i.ctrlOrMeta===t.metaKey))return!0;return!1}function tz(t){for(const[e,{activatesFocusIndicator:i=!0,bindings:n}]of Object.entries(Q_))if(J_(t,n))return{name:e,activatesFocusIndicator:i}}function ez(t,e,i){const n=Lb(t,i.datum);if(n!=null)return{x:n.canvasX,y:n.canvasY};const s=i.bounds;if(s!=null){if(s instanceof bt){const{x:r,y:l}=s.computeCenter();return{x:e.x+r,y:e.y+l}}return ke.toCanvas(s).computeCenter()}}function iz({bounds:t}){return t instanceof bt?t:t!=null?ke.toCanvas(t):bt.NaN}function nz(t,e,i){const{x:n,y:s}=ez(t,e,i)??{};if(n!==void 0&&s!==void 0)return{type:"keyboard",canvasX:n,canvasY:s}}function g0(t,e,i,n){let{top:s,right:r,bottom:l,left:c,width:h,height:d}=n;return c!=null?h!=null?r=i.width-c+h:r!=null&&(h=i.width-c-r):r!=null&&h!=null&&(c=i.width-r-h),s!=null?d!=null?l=i.height-s-d:l!=null&&(d=i.height-l-s):l!=null&&d!=null&&(s=i.height-l-d),h==null?d==null?(h=t,d=e):h=Math.ceil(t*d/e):d==null&&(d=Math.ceil(e*h/t)),c==null&&(r==null?c=Math.floor((i.width-h)/2):c=i.width-r-h),s==null&&(l==null?s=Math.floor((i.height-d)/2):s=i.height-d-l),{x:c,y:s,width:h,height:d}}var nf=null;function kl(t){if(t!=null)return t===""?"":(nf??(nf=zt("div")),nf.textContent=String(t),nf.innerHTML)}function Mu(t,e){const{path:i,size:n}=t,{x:s,y:r}=t;i.clear();let l=!1;for(const[c,h]of e){const d=s+(c-.5)*n,p=r+(h-.5)*n;l?i.lineTo(d,p):i.moveTo(d,p),l=!0}i.closePath()}var sz={circle({path:t,x:e,y:i,size:n}){const s=n/2;t.clear(),t.arc(e,i,s,0,Math.PI*2),t.closePath()},cross(t){Mu(t,[[.25,0],[.5,.25],[.75,0],[1,.25],[.75,.5],[1,.75],[.75,1],[.5,.75],[.25,1],[0,.75],[.25,.5],[0,.25]])},diamond(t){Mu(t,[[.5,0],[1,.5],[.5,1],[0,.5]])},heart({path:t,x:e,y:i,size:n}){const s=n/4;i=i+s/2,t.clear(),t.arc(e-s,i-s,s,qe(130),qe(330)),t.arc(e+s,i-s,s,qe(220),qe(50)),t.lineTo(e,i+s),t.closePath()},pin({path:t,x:e,y:i,size:n}){t.moveTo(e+(.15625-.5)*n,i+(.34375-.5)*n),t.cubicCurveTo(e+(.15625-.5)*n,i+(.151491-.5)*n,e+(.307741-.5)*n,i+(0-.5)*n,e+(.5-.5)*n,i+(0-.5)*n),t.cubicCurveTo(e+(.692259-.5)*n,i+(0-.5)*n,e+(.84375-.5)*n,i+(.151491-.5)*n,e+(.84375-.5)*n,i+(.34375-.5)*n),t.cubicCurveTo(e+(.84375-.5)*n,i+(.493824-.5)*n,e+(.784625-.5)*n,i+(.600181-.5)*n,e+(.716461-.5)*n,i+(.695393-.5)*n),t.cubicCurveTo(e+(.699009-.5)*n,i+(.719769-.5)*n,e+(.681271-.5)*n,i+(.743104-.5)*n,e+(.663785-.5)*n,i+(.766105-.5)*n),t.cubicCurveTo(e+(.611893-.5)*n,i+(.834367-.5)*n,e+(.562228-.5)*n,i+(.899699-.5)*n,e+(.528896-.5)*n,i+(.980648-.5)*n),t.cubicCurveTo(e+(.524075-.5)*n,i+(.992358-.5)*n,e+(.512663-.5)*n,i+(1-.5)*n,e+(.5-.5)*n,i+(1-.5)*n),t.cubicCurveTo(e+(.487337-.5)*n,i+(1-.5)*n,e+(.475925-.5)*n,i+(.992358-.5)*n,e+(.471104-.5)*n,i+(.980648-.5)*n),t.cubicCurveTo(e+(.487337-.5)*n,i+(1-.5)*n,e+(.475925-.5)*n,i+(.992358-.5)*n,e+(.471104-.5)*n,i+(.980648-.5)*n),t.cubicCurveTo(e+(.437772-.5)*n,i+(.899699-.5)*n,e+(.388107-.5)*n,i+(.834367-.5)*n,e+(.336215-.5)*n,i+(.766105-.5)*n),t.cubicCurveTo(e+(.318729-.5)*n,i+(.743104-.5)*n,e+(.300991-.5)*n,i+(.719769-.5)*n,e+(.283539-.5)*n,i+(.695393-.5)*n),t.cubicCurveTo(e+(.215375-.5)*n,i+(.600181-.5)*n,e+(.15625-.5)*n,i+(.493824-.5)*n,e+(.15625-.5)*n,i+(.34375-.5)*n),t.closePath()},plus(t){Mu(t,[[1/3,0],[2/3,0],[2/3,1/3],[1,1/3],[1,2/3],[2/3,2/3],[2/3,1],[1/3,1],[1/3,2/3],[0,2/3],[0,1/3],[1/3,1/3]])},square({path:t,x:e,y:i,size:n,pixelRatio:s}){const r=n/2;t.clear(),t.moveTo(aa(s,e-r),aa(s,i-r)),t.lineTo(aa(s,e+r),aa(s,i-r)),t.lineTo(aa(s,e+r),aa(s,i+r)),t.lineTo(aa(s,e-r),aa(s,i+r)),t.closePath()},star({path:t,x:e,y:i,size:n}){const r=n/2,l=r/2,c=Math.PI/2;for(let h=0;h<5*2;h++){const d=h%2===0?r:l,p=h*Math.PI/5-c,g=e+Math.cos(p)*d,m=i+Math.sin(p)*d;t.lineTo(g,m)}t.closePath()},triangle(t){Mu(t,[[.5,0],[1,.87],[0,.87]])}},mh=class extends Qi{constructor(){super(...arguments),this.shape="square",this.x=0,this.y=0,this.size=12}updatePath(){var h,d;const{path:t,shape:e,x:i,y:n,size:s}=this,r=((d=(h=this.layerManager)==null?void 0:h.canvas)==null?void 0:d.pixelRatio)??1,l=ai.anchor(e),c={path:t,x:i-(l.x-.5)*s,y:n-(l.y-.5)*s,size:s,pixelRatio:r};t.clear(),typeof e=="string"?sz[e](c):typeof e=="function"&&e(c)}computeBBox(){const{x:t,y:e,size:i}=this,n=ai.anchor(this.shape);return new bt(t-i*n.x,e-i*n.y,i,i)}executeFill(t,e){if(e)return super.executeFill(t,e)}executeStroke(t,e){if(e)return super.executeStroke(t,e)}};M([Nt()],mh.prototype,"shape",2);M([Nt()],mh.prototype,"x",2);M([Nt()],mh.prototype,"y",2);M([Nt({convertor:Math.abs})],mh.prototype,"size",2);var ai=class extends Hl(q0(Io(mh))){static anchor(t){return t==="pin"?{x:.5,y:1}:typeof t=="function"&&"anchor"in t?t.anchor:{x:.5,y:.5}}constructor(t){super(t),(t==null?void 0:t.shape)!=null&&(this.shape=t.shape)}};function mN(t,e,i=e*(5/3)){var h;const n=new Tt,s=Math.min(t.marker.strokeWidth,2),r=Math.min(((h=t.line)==null?void 0:h.strokeWidth)??0,2),l=Math.max(t.marker.enabled===!1?0:e,t.line==null?0:i),c=Math.max(t.marker.enabled===!1?0:e,r);if(t.line!=null){const{stroke:d,strokeOpacity:p,lineDash:g}=t.line,m=new An;m.x1=0,m.y1=c/2,m.x2=l,m.y2=c/2,m.stroke=d,m.strokeOpacity=p,m.strokeWidth=r,m.lineDash=g,n.append(m)}if(t.marker.enabled!==!1){const{shape:d,fill:p,fillOpacity:g,stroke:m,strokeOpacity:b,lineDash:v,lineDashOffset:S}=t.marker,A=new ai;A.shape=d??"square",A.size=e,A.fill=p,A.fillOpacity=g,A.stroke=m,A.strokeOpacity=b,A.strokeWidth=s,A.lineDash=v,A.lineDashOffset=S;const D=ai.anchor(d),L=l/2+(D.x-.5)*e,C=c/2+(D.y-.5)*e,N=e/(e+s);A.x=0,A.y=0,A.translationX=L,A.translationY=C,A.scalingX=N,A.scalingY=N,n.append(A)}return Tt.toSVG(n,l,c)}var UA=.1,YA=200,VA=12,az=.5,rz=class extends La{constructor(){super(...arguments),this.x1=NaN,this.y1=NaN,this.x=NaN,this.y=NaN,this.vx=0,this.vy=0,this.t0=NaN,this.animationFrameHandle=void 0}reset(){this.x=NaN,this.y=NaN,this.animationFrameHandle!=null&&(cancelAnimationFrame(this.animationFrameHandle),this.animationFrameHandle=void 0)}update(t,e){if(Number.isNaN(this.x)||Number.isNaN(this.y)){this.x=t,this.y=e,this.vx=0,this.vy=0,this.emitUpdate(),this.animationFrameHandle!=null&&(cancelAnimationFrame(this.animationFrameHandle),this.animationFrameHandle=void 0);return}this.x1=t,this.y1=e,this.t0=Date.now(),this.animationFrameHandle==null&&(this.animationFrameHandle=requestAnimationFrame(this.onFrame.bind(this)))}onFrame(){this.animationFrameHandle=void 0;const{x1:t,y1:e,t0:i}=this,n=Date.now(),s=n-i;this.t0=n;const r=.001,l=Math.ceil(s/(r*1e3))|0;let{x:c,y:h,vx:d,vy:p}=this;for(let g=0;g<l;g+=1){const m=c-t,b=h-e,v=-(YA*m+VA*d)/UA,S=-(YA*b+VA*p)/UA;d+=v*r,p+=S*r,c+=d*r,h+=p*r}Math.hypot(c-t,h-e)<az?(this.x=this.x1,this.y=this.y1,this.vx=0,this.vy=0):(this.x=c,this.y=h,this.vx=d,this.vy=p,this.animationFrameHandle=requestAnimationFrame(this.onFrame.bind(this))),this.emitUpdate()}emitUpdate(){this.dispatch("update",{type:"update",x:this.x,y:this.y})}},ki="ag-charts-tooltip",yN="ag-charts-tooltip--dark";function bN(t){var i;const e=[];return t.type==="raw"?"":(t.heading!=null&&e.push(t.heading),t.title!=null&&e.push(t.title),(i=t.data)==null||i.forEach(n=>{e.push(n.label??n.fallbackLabel,n.value)}),e.join("; "))}function HA(t,e,i){let n="";t==null?n+=`<span class="${ki}-label">${kl(e)}</span>`:(n+=`<span class="${ki}-label">${kl(t)}</span>`,n+=" ",n+=`<span class="${ki}-value">${kl(e)}</span>`);const s=[`${ki}-row`];return i&&s.push(`${ki}-row--inline`),n=`<div class="${s.join(" ")}">${n}</div>`,n}function oz(t){var i,n,s,r;if(t.type==="raw")return t.rawHtmlString;let e="";if((t.heading==null||t.title==null)&&((i=t.data)==null?void 0:i.length)===1&&t.data[0].label==null&&t.data[0].value!=null){const l=t.data[0];e+=HA(t.heading??t.title,l.value,!1)}else{const l=t.title==null&&((n=t.data)==null?void 0:n.length)===1;t.heading!=null&&(e+=`<span class="${ki}-heading">${kl(t.heading)}</span>`,e+=" ");const c=t.symbol==null?void 0:mN(t.symbol,12);c!=null&&(t.title!=null||(s=t.data)!=null&&s.length)&&(e+=`<span class="${ki}-symbol">${c}</span>`),t.title!=null&&(e+=`<span class="${ki}-title">${kl(t.title)}</span>`,e+=" "),(r=t.data)==null||r.forEach(h=>{e+=HA(h.label??h.fallbackLabel,h.value,l),e+=" "})}return e=`<div class="${ki}-content">${e.trimEnd()}</div>`,e}var ql=class extends Ct{constructor(){super(...arguments),this.type="pointer",this.xOffset=0,this.yOffset=0}};M([T(ue(["pointer","node","top","right","bottom","left","top-left","top-right","bottom-right","bottom-left",{value:"sparkline",undocumented:!0},{value:"sparkline-",undocumented:!0}],"a position type"))],ql.prototype,"type",2);M([T(Ut)],ql.prototype,"xOffset",2);M([T(Ut)],ql.prototype,"yOffset",2);var Ps=class extends Ct{constructor(){super(),this.enabled=!0,this.delay=0,this.range=void 0,this.wrapping="hyphenate",this.position=new ql,this.darkTheme=!1,this.bounds="extended",this.destroyFns=[],this.springAnimation=new rz,this.enableInteraction=!1,this.wrapTypes=["always","hyphenate","on-space","never"],this.showTimeout=0,this._showArrow=!0,this._compact=!1,this._visible=!1,this.positionParams=void 0,this.destroyFns.push(this.springAnimation.addListener("update",this.updateTooltipPosition.bind(this)))}get interactive(){return this.enableInteraction}setup(t){"togglePopover"in pe().HTMLElement.prototype&&(this.element=t.addChild("canvas-overlay",ki),this.element.setAttribute("popover","manual"),this.element.className=ki)}destroy(t){t.removeChild("canvas-overlay",ki),this.destroyFns.forEach(e=>e())}isVisible(){return this._visible}contains(t){var e;return((e=this.element)==null?void 0:e.contains(t))??!1}updateTooltipPosition(){var k,O,_;const{element:t,positionParams:e}=this;if(t==null||e==null)return;const{canvasRect:i,relativeRect:n,meta:s}=e,{x:r,y:l}=this.springAnimation,c=((k=s.position)==null?void 0:k.type)??this.position.type,h=((O=s.position)==null?void 0:O.xOffset)??0,d=((_=s.position)==null?void 0:_.yOffset)??0,p=n.x,g=n.y,m=n.width-t.clientWidth-1+p,b=n.height-t.clientHeight+g;let v=this.getTooltipBounds({positionType:c,canvasX:r,canvasY:l,yOffset:d,xOffset:h,canvasRect:i}),S=g0(t.clientWidth,t.clientHeight,n,v);c==="sparkline"&&(S.x<=p||S.x>=m)&&(v=this.getTooltipBounds({positionType:"sparkline-constrained",canvasX:r,canvasY:l,yOffset:d,xOffset:h,canvasRect:i}),S=g0(t.clientWidth,t.clientHeight,n,v));const A=Et(p,S.x,m),D=Et(g,S.y,b),L=A!==S.x||D!==S.y,C=(c==="node"||c==="pointer")&&!L&&!h&&!d,N=s.showArrow??this.showArrow??C;this.updateShowArrow(N),this.updateCompact(c==="sparkline"||c==="sparkline-constrained"),t.style.transform=`translate(${A}px, ${D}px)`}show(t,e,i,n,s=!1){const{element:r}=this;if(r!=null&&n!=null)r.innerHTML=oz(n);else if(r==null||r.innerHTML===""){this.toggle(!1);return}const l={x:t.x-e.x,y:t.y-e.y,width:t.width,height:t.height};this.positionParams={canvasRect:e,relativeRect:l,meta:i},this.springAnimation.update(i.canvasX,i.canvasY),r.style.top=`${e.top}px`,r.style.left=`${e.left}px`,i.enableInteraction?(this.enableInteraction=!0,r.style.pointerEvents="auto",r.removeAttribute("aria-hidden")):(this.enableInteraction=!1,r.style.pointerEvents="none",r.setAttribute("aria-hidden","true")),this.delay>0&&!s?(this.toggle(!1),this.showTimeout=setTimeout(()=>{this.toggle(!0)},this.delay)):this.toggle(!0)}hide(){this.springAnimation.reset(),this.toggle(!1)}toggle(t){var n;if(!((n=this.element)!=null&&n.isConnected))return;this._visible=t;const{classList:e}=this.element,i=(s,r)=>e.toggle(`${ki}--${s}`,r);t||clearTimeout(this.showTimeout),i("no-interaction",!this.enableInteraction),i("arrow",this._showArrow),i("compact",this._compact),e.toggle(yN,this.darkTheme),this.element.togglePopover(t),t&&this.updateTooltipPosition();for(const s of this.wrapTypes)e.toggle(`${ki}--wrap-${s}`,s===this.wrapping)}updateShowArrow(t){this._showArrow=t}updateCompact(t){this._compact=t}getTooltipBounds(t){if(!this.element)return{};const{positionType:e,canvasX:i,canvasY:n,yOffset:s,xOffset:r,canvasRect:l}=t,{clientWidth:c,clientHeight:h}=this.element,d={width:c,height:h};switch(e){case"node":case"pointer":return d.top=n+s-h-8,d.left=i+r-c/2,d;case"top":return d.top=s,d.left=l.width/2-c/2+r,d;case"right":return d.top=l.height/2-h/2+s,d.left=l.width-c/2+r,d;case"left":return d.top=l.height/2-h/2+s,d.left=r,d;case"bottom":return d.top=l.height-h+s,d.left=l.width/2-c/2+r,d;case"top-left":return d.top=s,d.left=r,d;case"top-right":return d.top=s,d.left=l.width-c+r,d;case"bottom-right":return d.top=l.height-h+s,d.left=l.width-c+r,d;case"bottom-left":return d.top=l.height-h+s,d.left=r,d;case"sparkline":return d.top=n+s-h/2,d.left=i+r+8,d;case"sparkline-constrained":return d.top=n+s-h/2,d.left=i+r-8-c,d}}};M([T(At)],Ps.prototype,"enabled",2);M([T(At,{optional:!0})],Ps.prototype,"showArrow",2);M([T(ft)],Ps.prototype,"delay",2);M([T(fp,{optional:!0})],Ps.prototype,"range",2);M([T(dp)],Ps.prototype,"wrapping",2);M([T(mt)],Ps.prototype,"position",2);M([T(At)],Ps.prototype,"darkTheme",2);M([T(ue(["extended","canvas"]))],Ps.prototype,"bounds",2);var lz=class extends Dr{constructor(t){super(),this.chart=t,this.id=qn(this),this.series=[],this.highlight={pendingHoverEvent:void 0,appliedHoverEvent:void 0,stashedHoverEvent:void 0},this.tooltip={lastHover:void 0},this.hoverDevice="pointer",this.previousInputDevice="keyboard",this.focus={sortedSeries:[],series:void 0,seriesIndex:0,datumIndex:0,datum:void 0},this.hoverScheduler=z2(()=>{if(!(!this.tooltip.lastHover&&!this.highlight.pendingHoverEvent)){if(this.chart.getUpdateType()<=4){this.hoverScheduler.schedule();return}this.highlight.pendingHoverEvent&&this.handleHoverHighlight(!1),this.tooltip.lastHover&&this.handleHoverTooltip(this.tooltip.lastHover,!1)}});const e=t.ctx.domManager.addChild("series-area","series-area-aria-label1"),i=t.ctx.domManager.addChild("series-area","series-area-aria-label2");this.swapChain=new q_(e,i,this.id,"img"),this.swapChain.addListener("blur",()=>this.onBlur()),this.swapChain.addListener("focus",()=>this.onFocus()),this.focusIndicator=new $_(this.swapChain),this.focusIndicator.overrideFocusVisible(t.mode==="integrated"?!1:void 0);const{seriesDragInterpreter:n,seriesWidget:s,containerWidget:r}=t.ctx.widgets;s.setTabIndex(-1),this.destroyFns.push(()=>t.ctx.domManager.removeChild("series-area","series-area-aria-label1"),()=>t.ctx.domManager.removeChild("series-area","series-area-aria-label2"),s.addListener("focus",()=>this.swapChain.focus()),s.addListener("mousemove",l=>this.onHover(l)),s.addListener("wheel",l=>this.onWheel(l)),s.addListener("mouseleave",l=>this.onLeave(l)),s.addListener("keydown",l=>this.onKeyDown(l)),s.addListener("contextmenu",(l,c)=>this.onContextMenu(l,c)),n.addListener("drag-move",l=>this.onDragMove(l)),n.addListener("click",l=>this.onClick(l,s)),n.addListener("dblclick",l=>this.onClick(l,s)),r.addListener("contextmenu",(l,c)=>this.onContextMenu(l,c)),r.addListener("click",(l,c)=>this.onClick(l,c)),r.addListener("dblclick",(l,c)=>this.onClick(l,c)),t.ctx.animationManager.addListener("animation-start",()=>this.clearAll()),t.ctx.domManager.addListener("resize",()=>this.clearAll()),t.ctx.highlightManager.addListener("highlight-change",l=>this.changeHighlightDatum(l)),t.ctx.layoutManager.addListener("layout:complete",l=>this.layoutComplete(l)),t.ctx.updateService.addListener("pre-scene-render",()=>this.preSceneRender()),t.ctx.updateService.addListener("update-complete",()=>this.updateComplete()),t.ctx.zoomManager.addListener("zoom-change",()=>this.clearAll()),t.ctx.zoomManager.addListener("zoom-pan-start",()=>this.clearAll()))}isState(t){return this.chart.ctx.interactionManager.isState(t)}isIgnoredTouch(t){return!(t.device!=="touch"||t.type==="click"||this.chart.ctx.chartService.touch.dragAction==="hover"||this.chart.ctx.chartService.touch.dragAction==="drag"&&this.isState(9))}dataChanged(){var t;(t=this.highlight).stashedHoverEvent??(t.stashedHoverEvent=this.highlight.appliedHoverEvent),this.chart.ctx.tooltipManager.removeTooltip(this.id),this.focusIndicator.clear(),this.clearHighlight()}preSceneRender(){this.highlight.stashedHoverEvent!=null&&(this.highlight.pendingHoverEvent=this.highlight.stashedHoverEvent,this.highlight.stashedHoverEvent=void 0,this.handleHoverHighlight(!0)),this.tooltip.lastHover!=null&&this.handleHoverTooltip(this.tooltip.lastHover,!0)}updateComplete(){this.focusIndicator.isFocusVisible()&&this.isState(34)&&this.handleSeriesFocus(0,0,!0)}update(t,e){this.chart.ctx.updateService.update(t,e)}seriesChanged(t){this.focus.sortedSeries=[...t].sort((e,i)=>{let n=e.properties.focusPriority??1/0,s=i.properties.focusPriority??1/0;return n===s&&([n,s]=[e._declarationOrder,i._declarationOrder]),n<s?-1:n>s?1:0}),this.series=t}layoutComplete(t){this.seriesRect=t.series.rect,this.hoverRect=t.series.paddedRect,this.chart.ctx.widgets.seriesWidget.setBounds(t.series.paddedRect),this.chart.ctx.widgets.chartWidget.setBounds(t.chart)}onContextMenu(t,e){const{sourceEvent:i}=t;if(i.currentTarget!=e.getElement())return;if(i.target==this.chart.ctx.widgets.containerWidget.getElement()){if(this.isState(36)){const{currentX:h,currentY:d}=t;this.chart.ctx.contextMenuRegistry.dispatchContext("all",{sourceEvent:i,canvasX:h,canvasY:d},{})}return}let n,s;if(this.focusIndicator.isFocusVisible())n=this.chart.ctx.highlightManager.getActiveHighlight(),n&&this.seriesRect&&n.midPoint&&(s=ke.toCanvasPoint(n.series.contentGroup,n.midPoint.x,n.midPoint.y));else if(this.isState(36)){const h=this.pickNode({x:t.currentX,y:t.currentY},"context-menu");h&&(this.chart.ctx.highlightManager.updateHighlight(this.id),n=h.datum)}const r=n==null?void 0:n.series;this.clearAll();const l=t.currentX+e.cssLeft(),c=t.currentY+e.cssTop();this.chart.ctx.contextMenuRegistry.dispatchContext("series-area",{sourceEvent:i,canvasX:l,canvasY:c},{pickedSeries:r,pickedNode:n},s)}onLeave(t){if(!this.isState(41))return;const e=t.sourceEvent.relatedTarget;(e==null?void 0:e.className)!=="ag-charts-text-input__textarea"&&(this.chart.ctx.tooltipManager.isEnteringInteractiveTooltip(t)||(this.chart.ctx.domManager.updateCursor(this.id),this.focusIndicator.isFocusVisible()||this.clearAll()))}onWheel(t){var e;this.isState(41)&&((e=this.focusIndicator)==null||e.overrideFocusVisible(!1),this.previousInputDevice="pointer")}onDragMove(t){var e;this.isState(41)&&((e=this.focusIndicator)==null||e.overrideFocusVisible(!1),this.onHoverLikeEvent(t))}onHover(t){this.isState(41)&&this.onHoverLikeEvent(t)}onHoverLikeEvent(t){if(!this.isIgnoredTouch(t)&&((t.device==="touch"||cz(t,"drag-move"))&&(this.tooltip.lastHover=t),t.device==="touch"&&this.chart.ctx.chartService.touch.dragAction==="hover"&&t.sourceEvent.preventDefault(),this.hoverDevice="pointer",this.previousInputDevice="pointer",this.highlight.pendingHoverEvent=t,this.hoverScheduler.schedule(),this.isState(32))){const{currentX:e,currentY:i}=t,n=this.pickNode({x:e,y:i},"event");n!=null&&n.series.hasEventListener("nodeClick")||n!=null&&n.series.hasEventListener("nodeDoubleClick")?this.chart.ctx.domManager.updateCursor(this.id,"pointer"):this.chart.ctx.domManager.updateCursor(this.id)}}onClick(t,e){if(t.device==="touch"&&e===this.chart.ctx.widgets.seriesWidget&&this.swapChain.focus({preventScroll:!0}),!this.isState(41))return;if(e===this.chart.ctx.widgets.seriesWidget){if(!e.getElement().contains(t.sourceEvent.target))return}else if(t.sourceEvent.target!=e.getElement())return;if(this.focusIndicator.overrideFocusVisible(!1),this.onHoverLikeEvent(t),!this.isState(32))return;if(e==this.chart.ctx.widgets.seriesWidget&&this.checkSeriesNodeClick(t)){this.update(4),t.sourceEvent.preventDefault();return}const i={type:t.type==="click"?"click":"doubleClick",event:t.sourceEvent};this.chart.fireEvent(i)}onFocus(){this.isState(34)&&(this.hoverDevice=this.focusIndicator.isFocusVisible()?"keyboard":"pointer",this.handleFocus(0,0))}onBlur(){this.isState(34)&&(this.hoverDevice="pointer",this.clearAll(),this.focusIndicator.overrideFocusVisible(void 0))}onKeyDown(t){if(!this.isState(43))return;const e=tz(t.sourceEvent);switch((e==null?void 0:e.activatesFocusIndicator)===!1&&this.focusIndicator.overrideFocusVisible(this.previousInputDevice==="keyboard"),e==null?void 0:e.name){case"redo":return this.chart.ctx.chartEventManager.seriesEvent("series-redo");case"undo":return this.chart.ctx.chartEventManager.seriesEvent("series-undo");case"zoomin":return this.chart.ctx.chartEventManager.seriesKeyNavZoom(1,t);case"zoomout":return this.chart.ctx.chartEventManager.seriesKeyNavZoom(-1,t);case"arrowup":return this.onArrow(-1,0,t);case"arrowdown":return this.onArrow(1,0,t);case"arrowleft":return this.onArrow(0,-1,t);case"arrowright":return this.onArrow(0,1,t);case"submit":return this.onSubmit(t)}}onArrow(t,e,i){this.isState(34)&&(this.hoverDevice="keyboard",this.previousInputDevice="keyboard",this.focusIndicator.overrideFocusVisible(!0),this.focus.seriesIndex+=t,this.focus.datumIndex+=e,this.handleFocus(t,e),i.sourceEvent.preventDefault(),this.chart.ctx.chartEventManager.seriesEvent("series-focus-change"))}onSubmit(t){if(!this.isState(34))return;const{series:e,datum:i}=this.focus,n=t.sourceEvent;e!==void 0&&i!==void 0?e.fireNodeClickEvent(n,i):this.chart.fireEvent({type:"click",event:n}),n.preventDefault()}checkSeriesNodeClick(t){const e=this.pickNode({x:t.currentX,y:t.currentY},"event");return e==null?!1:t.type==="click"?(e.series.fireNodeClickEvent(t.sourceEvent,e.datum),!0):t.type==="dblclick"?(t.preventZoomDblClick=e.distance===0,e.series.fireNodeDoubleClickEvent(t.sourceEvent,e.datum),!0):!1}handleFocus(t,e){const i=this.chart.overlays.getFocusInfo(this.chart.ctx.localeManager);i==null?this.handleSeriesFocus(t,e):this.focusIndicator.update(i.rect,this.seriesRect,!1)}handleSeriesFocus(t,e,i=!1){if(this.chart.chartType==="hierarchy"||this.chart.chartType==="gauge"){this.handleSoloSeriesFocus(t,e,i);return}const{focus:n,seriesRect:s}=this,r=n.sortedSeries.filter(p=>p.visible&&p.focusable);if(r.length===0)return;const l={datumIndex:n.datumIndex-e,otherIndex:n.seriesIndex-t};n.seriesIndex=Et(0,n.seriesIndex,r.length-1),n.series=r[n.seriesIndex];const{datumIndex:c,seriesIndex:h}=n,d=n.series.pickFocus({datumIndex:c,datumIndexDelta:e,otherIndex:h,otherIndexDelta:t,seriesRect:s});this.updatePickedFocus(t,e,l,d,i)}handleSoloSeriesFocus(t,e,i){this.focus.series=this.focus.sortedSeries[0];const{focus:{series:n,seriesIndex:s,datumIndex:r},seriesRect:l}=this;if(n==null)return;const c={datumIndex:this.focus.datumIndex-e,otherIndex:this.focus.seriesIndex-t},h=n.pickFocus({datumIndex:r,datumIndexDelta:e,otherIndex:s,otherIndexDelta:t,seriesRect:l});this.updatePickedFocus(t,e,c,h,i)}updatePickedFocus(t,e,i,n,s){const{focus:r,hoverRect:l}=this;if(n===void 0||r.series===void 0||l===void 0)return;const{datum:c,datumIndex:h,otherIndex:d}=n;if(d!==void 0&&(r.seriesIndex=d),r.datumIndex=h,r.datum=c,this.focusIndicator.isFocusVisible()&&this.chart.ctx.animationManager.reset(),this.focusIndicator.isFocusVisible()){const g=iz(n),{x:m,y:b}=g.computeCenter();if(!l.containsPoint(m,b)&&this.chart.ctx.zoomManager.panToBBox(this.id,l,g))return}this.focusIndicator.update(n.bounds,this.seriesRect,n.clipFocusBox);const p=nz(r.series,l,n);if(p!==void 0&&this.hoverDevice==="keyboard"){this.tooltip.lastHover=void 0,this.highlight.appliedHoverEvent=void 0,this.highlight.pendingHoverEvent=void 0,this.highlight.stashedHoverEvent=void 0;const g=r.series.getTooltipContent(c),m=jf.makeTooltipMeta(p,r.series,c);this.chart.ctx.highlightManager.updateHighlight(this.id,c),this.chart.tooltip.enabled&&r.series.tooltipEnabled?this.chart.ctx.tooltipManager.updateTooltip(this.id,m,g):this.chart.ctx.tooltipManager.removeTooltip(this.id),s||(e===0&&t===0||i.datumIndex!==n.datumIndex||i.otherIndex!==(n.otherIndex??r.seriesIndex))&&this.swapChain.update(this.getDatumAriaText(c,g))}}getDatumAriaText(t,e){var n,s;const i=e==null?"":bN(e);return this.chart.ctx.localeManager.t("ariaAnnounceHoverDatum",{datum:((s=(n=t.series).getDatumAriaText)==null?void 0:s.call(n,t,i))??i})}clearHighlight(){this.highlight.pendingHoverEvent=void 0,this.highlight.appliedHoverEvent=void 0,this.chart.ctx.highlightManager.updateHighlight(this.id)}clearTooltip(){this.chart.ctx.tooltipManager.removeTooltip(this.id),this.tooltip.lastHover=void 0}clearAll(){this.clearHighlight(),this.clearTooltip(),this.focusIndicator.clear()}handleHoverHighlight(t){var d,p,g;this.highlight.appliedHoverEvent=this.highlight.pendingHoverEvent,this.highlight.pendingHoverEvent=void 0;const e=this.highlight.appliedHoverEvent;if(!e||!this.isState(41))return;const{currentX:i,currentY:n}=e,s=e.currentX+(((d=this.hoverRect)==null?void 0:d.x)??0),r=e.currentY+(((p=this.hoverRect)==null?void 0:p.y)??0);if(t?this.chart.ctx.animationManager.isActive():!((g=this.hoverRect)!=null&&g.containsPoint(s,r))){this.clearHighlight();return}const{range:l}=this.chart.highlight,c=l==="tooltip"?"highlight-tooltip":"highlight",h=this.pickNode({x:i,y:n},c);if(h){this.chart.ctx.highlightManager.updateHighlight(this.id,h.datum),this.hoverDevice="pointer";return}this.chart.ctx.highlightManager.updateHighlight(this.id)}handleHoverTooltip(t,e){var g,m,b;if(!this.isState(41))return;const{currentX:i,currentY:n}=t,s=i+(((g=this.hoverRect)==null?void 0:g.x)??0),r=n+(((m=this.hoverRect)==null?void 0:m.y)??0),l=t.sourceEvent.target;if(e?this.chart.ctx.animationManager.isActive():!((b=this.hoverRect)!=null&&b.containsPoint(s,r))){this.hoverDevice=="pointer"&&this.clearTooltip();return}if(l&&this.chart.tooltip.interactive&&this.chart.ctx.domManager.isManagedChildDOMElement(l,"canvas-overlay",ki))return;const c=this.pickNode({x:t.currentX,y:t.currentY},"tooltip");if(!c){this.hoverDevice=="pointer"&&this.clearTooltip();return}this.hoverDevice="pointer";const h=c.series.getTooltipContent(c.datum);if(this.chart.tooltip.enabled&&c.series.tooltipEnabled&&h!=null){const v=jf.makeTooltipMeta({type:"pointermove",canvasX:s,canvasY:r},c.series,c.datum);this.chart.ctx.tooltipManager.updateTooltip(this.id,v,h)}else this.chart.ctx.tooltipManager.removeTooltip(this.id)}changeHighlightDatum(t){const e=new Set,{series:i=void 0,datum:n}=t.currentHighlight??{},{series:s=void 0,datum:r}=t.previousHighlight??{};s&&e.add(s),i&&e.add(i),s!=null&&s.properties.cursor&&r&&this.chart.ctx.domManager.updateCursor(s.id),i!=null&&i.properties.cursor&&(i==null?void 0:i.properties.cursor)!=="default"&&n&&this.chart.ctx.domManager.updateCursor(i.id,i.properties.cursor),i==null||s==null?this.update(4):this.update(4,{seriesToUpdate:e})}pickNode(t,e,i){const n=[...this.series].reverse();let s;for(const r of n){if(!r.visible||!r.contentGroup.visible)continue;const{match:l,distance:c}=r.pickNode(t,e,i)??{};if(!(!l||c==null)&&((!s||s.distance>c)&&(s={series:r,distance:c,datum:l}),c===0))break}return s}};function cz(t,e){return t.type!==e}var WA=30,uz=class{constructor(t){this.seriesRoot=t,this.groups=new Map,this.series=new Map,this.expectedSeriesCount=1,this.mode="normal"}setSeriesCount(t){this.expectedSeriesCount=t}requestGroup(t){const{internalId:e,type:i,contentGroup:n,seriesGrouping:s}=t,{groupIndex:r=e}=s??{},l=this.series.get(e);if(l!=null)throw new Error(`AG Charts - series already has an allocated layer: ${JSON.stringify(l)}`);this.series.size===0&&(this.mode=this.expectedSeriesCount>=WA?"aggressive-grouping":"normal");let c=this.groups.get(i);c==null&&(c=new Map,this.groups.set(i,c));const h=this.lookupIdx(r);let d=c.get(h);return d==null&&(d={type:i,id:h,seriesIds:[],group:this.seriesRoot.appendChild(new Tt({name:`${t.contentGroup.name??i}-managed-layer`,zIndex:t.contentGroup.zIndex,renderToOffscreenCanvas:!1}))},c.set(h,d)),this.series.set(e,{layerState:d,seriesConfig:t}),d.seriesIds.push(e),d.group.appendChild(n),d.group}changeGroup(t){var c,h;const{internalId:e,seriesGrouping:i,type:n,contentGroup:s,oldGrouping:r}=t,{groupIndex:l=e}=i??{};(h=(c=this.groups.get(n))==null?void 0:c.get(l))!=null&&h.seriesIds.includes(e)||(this.series.has(e)&&this.releaseGroup({internalId:e,seriesGrouping:r,type:n,contentGroup:s}),this.requestGroup(t))}releaseGroup(t){var r,l,c;const{internalId:e,contentGroup:i,type:n}=t;if(!this.series.has(e))throw new Error(`AG Charts - series doesn't have an allocated layer: ${e}`);const s=(r=this.series.get(e))==null?void 0:r.layerState;s&&(s.seriesIds=s.seriesIds.filter(h=>h!==e),s.group.removeChild(i)),(s==null?void 0:s.seriesIds.length)===0?(this.seriesRoot.removeChild(s.group),(l=this.groups.get(s.type))==null||l.delete(s.id),(c=this.groups.get(n))==null||c.delete(e)):s!=null&&s.seriesIds.length>0&&(s.group.zIndex=this.getLowestSeriesZIndex(s.seriesIds)),this.series.delete(e)}updateLayerCompositing(){this.groups.forEach(t=>{t.forEach(e=>{const{group:i,seriesIds:n}=e;let s;if(n.length===0)s=!1;else if(n.length>1)s=!0;else{const r=this.series.get(n[0]);s=(r==null?void 0:r.seriesConfig.renderToOffscreenCanvas())===!0}i.renderToOffscreenCanvas=s,i.zIndex=this.getLowestSeriesZIndex(n)})})}lookupIdx(t){return this.mode==="normal"?t:typeof t=="string"&&(t=Number(t.split("-").at(-1)),!t)?0:Math.floor(Et(0,t/this.expectedSeriesCount,1)*WA)}destroy(){this.groups.forEach(t=>{t.forEach(e=>{this.seriesRoot.removeChild(e.group)})}),this.groups.clear(),this.series.clear()}getLowestSeriesZIndex(t){return t.reduce((i,n)=>{const s=this.series.get(n),r=s==null?void 0:s.seriesConfig.contentGroup.zIndex;return i==null||r==null?r:GT(i,r)<=0?i:r},void 0)??1}},xN=class extends Ct{constructor(){super(...arguments),this.dragAction="drag"}};M([T(ue(["none","drag","hover"]))],xN.prototype,"dragAction",2);var hz=class{constructor(t,e,i,n,s){this.chart=t,this.dataService=e,this.updateService=i,this.zoomManager=n,this.animationManager=s,this.dirtyZoom=!1,this.dirtyDataSource=!1,this.lastAxisZooms=new Map,this.destroyFns=[],this.destroyFns.push(this.dataService.addListener("data-source-change",()=>this.onDataSourceChange()),this.dataService.addListener("data-load",()=>this.onDataLoad()),this.dataService.addListener("data-error",()=>this.onDataError()),this.updateService.addListener("update-complete",()=>this.onUpdateComplete()),this.zoomManager.addListener("zoom-change",()=>this.onZoomChange()))}destroy(){this.destroyFns.forEach(t=>t())}onDataLoad(){this.animationManager.skip(),this.updateService.update(1)}onDataError(){this.updateService.update(3)}onDataSourceChange(){this.dirtyDataSource=!0}onUpdateComplete(){!this.dirtyZoom&&!this.dirtyDataSource||this.updateWindow()}onZoomChange(){this.dirtyZoom=!0}updateWindow(){if(!this.dataService.isLazy())return;const t=this.getValidAxis();let e,i=!0;if(t){const n=this.zoomManager.getAxisZoom(t.id);e=this.getAxisWindow(t,n),i=this.shouldRefresh(t,n)}this.dirtyZoom=!1,this.dirtyDataSource=!1,i&&this.dataService.load({windowStart:e==null?void 0:e.min,windowEnd:e==null?void 0:e.max})}getValidAxis(){return this.chart.axes.find(t=>t.type==="time")}shouldRefresh(t,e){if(this.dirtyDataSource)return!0;if(!this.dirtyZoom)return!1;const i=this.lastAxisZooms.get(t.id);return i&&e.min===i.min&&e.max===i.max?!1:(this.lastAxisZooms.set(t.id,e),!0)}getAxisWindow(t,e){const{domain:i}=t.scale;if(!e||i.length===0||isNaN(Number(i[0])))return;const n=Number(i[1])-Number(i[0]),s=new Date(Number(i[0])+n*e.min),r=new Date(Number(i[0])+n*e.max);return{min:s,max:r}}},dz=/^((?!chrome|android).)*safari/i,fz=/Version\/(\d+(\.\d+)?)/,pz=/Chrome/,gz=/Chrome\/(\d+)/,mz=/Edg/,yz=/OPR/;function bz(){var e,i;const{userAgent:t}=pe("navigator");if(dz.test(t)){const n=parseFloat(((e=fz.exec(t))==null?void 0:e[1])??"0"),s=Math.floor(n)>16;return s||ot.warnOnce(`Unsupported Safari version: ${n}; ${t}`),!s}else if(pz.test(t)&&!mz.test(t)&&!yz.test(t)){const n=parseInt(((i=gz.exec(t))==null?void 0:i[1])??"0",10),s=n>126;return s||ot.warnOnce(`Unsupported Chrome version: ${n}; ${t}`),!s}return!1}var xz=new Set(["map-shape-background","map-line-background"]),vz=class{constructor(t,e,i,n,s,r,l){this.chartLike=t,this.overlays=e,this.dataService=i,this.layoutManager=n,this.localeManager=s,this.animationManager=r,this.domManager=l,this.destroyFns=[],this.overlayElem=this.domManager.addChild("canvas-overlay","overlay"),this.overlayElem.role="status",this.overlayElem.ariaAtomic="false",this.overlayElem.ariaLive="polite",this.overlayElem.classList.toggle(f0),this.destroyFns.push(this.layoutManager.addListener("layout:complete",c=>this.onLayoutComplete(c)))}destroy(){this.destroyFns.forEach(t=>t()),this.domManager.removeStyles("overlays"),this.domManager.removeChild("canvas-overlay","overlay")}onLayoutComplete({series:{rect:t}}){const e=this.dataService.isLoading(),i=this.chartLike.series.some(d=>d.hasData),n=this.chartLike.series.some(d=>d.visible&&!xz.has(d.type));this.overlays.darkTheme?this.overlayElem.classList.add(FA):this.overlayElem.classList.remove(FA),this.overlayElem.style.left=`${t.x}px`,this.overlayElem.style.top=`${t.y}px`,this.overlayElem.style.width=`${t.width}px`,this.overlayElem.style.height=`${t.height}px`;const s=e,r=!e&&!i,l=i&&!n,c=this.overlays.unsupportedBrowser.enabled&&bz();s?this.showOverlay(this.overlays.loading,t):this.hideOverlay(this.overlays.loading),r?this.showOverlay(this.overlays.noData,t):this.hideOverlay(this.overlays.noData),l?this.showOverlay(this.overlays.noVisibleSeries,t):this.hideOverlay(this.overlays.noVisibleSeries),c?this.showOverlay(this.overlays.unsupportedBrowser,t):this.hideOverlay(this.overlays.unsupportedBrowser);const h=s||r||l||c;ae(this.overlayElem,"aria-hidden",!h)}showOverlay(t,e){if(!t.enabled)return;const i=t.getElement(this.animationManager,this.localeManager,e);this.overlayElem.appendChild(i)}hideOverlay(t){t.removeElement(()=>{this.overlayElem.innerText=""},this.animationManager)}},os=ce.create(!0,"opts"),wb=class extends Ct{constructor(){super(...arguments),this.padding=new Sr(0)}};M([T(At,{optional:!0})],wb.prototype,"clip",2);M([T(mt)],wb.prototype,"padding",2);var Ue=class vN extends TI{constructor(e,i){var n;super(),this.id=qn(this),this.seriesRoot=new Xi({name:`${this.id}-series-root`,zIndex:5}),this.annotationRoot=new Xi({name:`${this.id}-annotation-root`,zIndex:9}),this.titleGroup=new Tt({name:"titles",zIndex:13}),this.debug=ce.create(),this.extraDebugStats={},this.data=[],this._firstAutoSize=!0,this._autoSizeNotify=new gA,this.padding=new Sr(20),this.seriesArea=new wb,this.keyboard=new Cb,this.touch=new xN,this.mode="standalone",this.chartCaptions=new Sp,this.suppressFieldDotNotation=!1,this.destroyed=!1,this._destroyFns=[],this.skipSync=!1,this.chartAnimationPhase="initial",this.modulesManager=new U_,this.processors=[],this.queuedUserOptions=[],this.queuedChartOptions=[],this.firstApply=!0,this._pendingFactoryUpdatesCount=0,this._performUpdateSkipAnimations=!1,this._performUpdateNotify=new gA,this.performUpdateType=7,this.runningUpdateType=7,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new _2,this.updateRequestors={},this.performUpdateTrigger=P2(({count:p})=>{this.destroyed||this.updateMutex.acquire(async()=>{try{await this.performUpdate(p)}catch(g){ot.error("update error",g)}}).catch(g=>ot.errorOnce(g))}),this._performUpdateSplits={},this.axes=[],this.series=[],this._cachedData=void 0,this.onSeriesNodeClick=p=>{this.fireEvent({...p,type:"seriesNodeClick"})},this.onSeriesNodeDoubleClick=p=>{this.fireEvent({...p,type:"seriesNodeDoubleClick"})},this.onSeriesVisibilityChange=p=>{this.fireEvent(p)},this.seriesGroupingChanged=p=>{if(!(p instanceof kb))return;const{series:g,seriesGrouping:m,oldGrouping:b}=p;g.contentGroup.isRoot()||this.seriesLayerManager.changeGroup({internalId:g.internalId,type:g.type,contentGroup:g.contentGroup,renderToOffscreenCanvas:()=>g.renderToOffscreenCanvas(),seriesGrouping:m,oldGrouping:b})},this.chartOptions=e;const s=i==null?void 0:i.scene,r=(i==null?void 0:i.container)??e.processedOptions.container??void 0,l=(i==null?void 0:i.styleContainer)??e.specialOverrides.styleContainer;s&&(this._firstAutoSize=!1,this._lastAutoSize=[s.width,s.height,s.pixelRatio]);const c=new Tt({name:"root"});c.visible=!1,c.append(this.seriesRoot),c.append(this.annotationRoot),c.append(this.titleGroup),this.titleGroup.append(this.title.node),this.titleGroup.append(this.subtitle.node),this.titleGroup.append(this.footnote.node),this.tooltip=new Ps,this.seriesLayerManager=new uz(this.seriesRoot),this.mode=e.userOptions.mode??this.mode;const h=this.ctx=new a_(this,{chartType:this.getChartType(),scene:s,root:c,container:r,styleContainer:l,syncManager:new k_(this),fireEvent:p=>this.fireEvent(p),updateCallback:(p,g)=>this.update(p,g),updateMutex:this.updateMutex});this._destroyFns.push(h.domManager.addListener("resize",()=>this.parentResize(h.domManager.containerSize))),this.overlays=new $l,(n=this.overlays.loading).renderer??(n.renderer=()=>Y_(this.overlays.loading.getText(h.localeManager),h.animationManager.defaultDuration)),this.processors=[new hz(this,h.dataService,h.updateService,h.zoomManager,h.animationManager),new vz(this,this.overlays,h.dataService,h.layoutManager,h.localeManager,h.animationManager,h.domManager)],this.highlight=new QI,this.container=r;const d=this.getModuleContext();h.domManager.setDataBoolean("animating",!1),this.seriesAreaManager=new lz(this.initSeriesAreaDependencies()),this._destroyFns.push(h.layoutManager.registerElement(0,p=>{p.layoutBox.shrink(this.padding.toJson()),this.chartCaptions.positionCaptions(p)}),h.layoutManager.addListener("layout:complete",p=>this.chartCaptions.positionAbsoluteCaptions(p)),h.dataService.addListener("data-load",p=>{this.data=p.data}),this.title.registerInteraction(d,"beforebegin"),this.subtitle.registerInteraction(d,"beforebegin"),this.footnote.registerInteraction(d,"afterend"),zs.addWindowEvent("page-left",()=>this.destroy()),h.animationManager.addListener("animation-frame",()=>{this.update(6)}),h.animationManager.addListener("animation-start",()=>h.domManager.setDataBoolean("animating",!0)),h.animationManager.addListener("animation-stop",()=>h.domManager.setDataBoolean("animating",!1)),h.zoomManager.addListener("zoom-change",()=>{this.series.forEach(g=>{var m;return(m=g.animationState)==null?void 0:m.transition("updateData")});const p=this.chartAnimationPhase!=="initial";this.update(3,{forceNodeDataRefresh:!0,skipAnimations:p})})),this.parentResize(h.domManager.containerSize)}static getInstance(e){return vN.chartsInstances.get(e)}get canvasElement(){return this.ctx.scene.canvas.element}download(e,i){this.ctx.scene.download(e,i)}getCanvasDataURL(e){return this.ctx.scene.getDataURL(e)}toSVG(){return this.ctx.scene.toSVG()}getOptions(){return this.queuedUserOptions.at(-1)??this.chartOptions.userOptions}getChartOptions(){return this.queuedChartOptions.at(-1)??this.chartOptions}overrideFocusVisible(e){this.seriesAreaManager.focusIndicator.overrideFocusVisible(e)}initSeriesAreaDependencies(){const{ctx:e,tooltip:i,highlight:n,overlays:s,seriesRoot:r,mode:l}=this,c=this.getChartType();return{fireEvent:this.fireEvent.bind(this),getUpdateType:()=>this.performUpdateType,chartType:c,ctx:e,tooltip:i,highlight:n,overlays:s,seriesRoot:r,mode:l}}getModuleContext(){return this.ctx}getCaptionText(){return[this.title,this.subtitle,this.footnote].filter(e=>e.enabled&&e.text).map(e=>e.text).join(". ")}getAriaLabel(){return this.ctx.localeManager.t("ariaAnnounceChart",{seriesCount:this.series.length})}resetAnimations(){this.chartAnimationPhase="initial";for(const e of this.series)e.resetAnimation(this.chartAnimationPhase);for(const e of this.axes)e.resetAnimation(this.chartAnimationPhase);this.animationRect=void 0,this.ctx.animationManager.reset()}skipAnimations(){this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0}detachAndClear(){this.container=void 0,this.ctx.scene.clear()}destroy(e){if(this.destroyed)return;const i=e==null?void 0:e.keepTransferableResources;let n;return this.performUpdateType=7,this._destroyFns.forEach(s=>s()),this.processors.forEach(s=>s.destroy()),this.tooltip.destroy(this.ctx.domManager),this.overlays.destroy(),this.modulesManager.destroy(),i?(this.ctx.scene.strip(),n={container:this.container,scene:this.ctx.scene}):(this.ctx.scene.destroy(),this.container=void 0),this.destroySeries(this.series),this.seriesLayerManager.destroy(),this.axes.forEach(s=>s.destroy()),this.axes=[],this.animationRect=void 0,this.ctx.destroy(),this.destroyed=!0,Object.freeze(this),n}requestFactoryUpdate(e){this.destroyed||(this._pendingFactoryUpdatesCount++,this.updateMutex.acquire(async()=>{if(!this.destroyed)try{await e(this)}finally{this.destroyed||this._pendingFactoryUpdatesCount--}}).catch(i=>ot.errorOnce(i)))}update(e=0,i){if(this.destroyed)return;const{forceNodeDataRefresh:n=!1,skipAnimations:s,seriesToUpdate:r=this.series,newAnimationBatch:l}=i??{};this.ctx.widgets.seriesWidget.setDragTouchEnabled(this.touch.dragAction!=="none"),n&&this.series.forEach(c=>c.markNodeDataDirty());for(const c of r)this.seriesToUpdate.add(c);if(s&&(this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),l&&this.ctx.animationManager.isActive()&&(this._performUpdateSkipAnimations=!0),this.skipSync=(i==null?void 0:i.skipSync)??!1,this.debug.check()){let c=new Error().stack??"<unknown>";c=c.replace(/\([^)]*/g,""),this.updateRequestors[c]=e}e<this.performUpdateType&&(this.performUpdateType=e,this.ctx.domManager.setDataBoolean("updatePending",!0),this.performUpdateTrigger.schedule(i==null?void 0:i.backOffMs))}async performUpdate(e){const{performUpdateType:i,extraDebugStats:n,_performUpdateSplits:s,ctx:r}=this,l=[...this.seriesToUpdate];this.performUpdateType=7,this.seriesToUpdate.clear(),this.runningUpdateType=i,this.updateShortcutCount===0&&i<6&&(r.animationManager.startBatch(this._performUpdateSkipAnimations),r.animationManager.onBatchStop(()=>this.chartAnimationPhase="ready")),this.debug("Chart.performUpdate() - start",Cu[i]);let c=performance.now();s.start??(s.start=c);const h=p=>{s[p]??(s[p]=0),s[p]+=performance.now()-c,c=performance.now()};switch(i){case 0:if(this.checkUpdateShortcut(0))break;this.ctx.updateService.dispatchPreDomUpdate(),this.updateDOM();case 1:if(this.checkUpdateShortcut(1))break;await this.updateData(),h("");case 2:if(this.checkUpdateShortcut(2))break;await this.processData(),this.seriesAreaManager.dataChanged(),h("");case 3:if(await this.checkFirstAutoSize(),this.checkUpdateShortcut(3))break;await this.processLayout(),h("");case 4:{if(this.checkUpdateShortcut(4))break;await this.updateSeries(l),h(""),this.updateAriaLabels(),this.seriesLayerManager.updateLayerCompositing()}case 5:if(this.checkUpdateShortcut(5))break;r.updateService.dispatchPreSceneRender(),h("");case 6:if(this.checkUpdateShortcut(6))break;r.animationManager.endBatch(),n.updateShortcutCount=this.updateShortcutCount,r.scene.render({debugSplitTimes:s,extraDebugStats:n,seriesRect:this.seriesRect}),this.extraDebugStats={};for(const p of Object.keys(s))delete s[p];this.ctx.domManager.incrementDataCounter("sceneRenders");case 7:this.updateShortcutCount=0,this.updateRequestors={},this._performUpdateSkipAnimations=!1,r.animationManager.endBatch()}this.destroyed||(r.updateService.dispatchUpdateComplete(),this.ctx.domManager.setDataBoolean("updatePending",!1),this.runningUpdateType=7),this._performUpdateNotify.notify();const d=performance.now();this.debug("Chart.performUpdate() - end",{chart:this,durationMs:Math.round((d-s.start)*100)/100,count:e,performUpdateType:Cu[i]})}updateThemeClassName(){const e="ag-charts-theme-",i=[`${e}default`,`${e}default-dark`];let n=i[0],s=!1,{theme:r}=this.chartOptions.processedOptions;for(;typeof r!="string"&&r!=null;)r=r.baseTheme;typeof r=="string"&&(n=r.replace("ag-",e),s=r.includes("-dark")),i.includes(n)||(n=s?i[1]:i[0]),this.ctx.domManager.setThemeClass(n)}updateDOM(){this.updateThemeClassName();const{enabled:e,tabIndex:i}=this.keyboard;this.ctx.domManager.setTabGuardIndex(e?i??0:-1),this.ctx.domManager.setThemeParameters(this.chartOptions.themeParameters)}updateAriaLabels(){this.ctx.domManager.updateCanvasLabel(this.getAriaLabel())}checkUpdateShortcut(e){return this.destroyed?!0:this.updateShortcutCount>3?(ot.warn("exceeded the maximum number of simultaneous updates (4), discarding changes and rendering",this.updateRequestors),!1):this.performUpdateType<=e?(this.updateShortcutCount++,!0):!1}async checkFirstAutoSize(){this.width!=null&&this.height!=null||this._lastAutoSize||await this._autoSizeNotify.await(500)||this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")}onAxisChange(e,i){i==null&&e.length===0||this.ctx.axisManager.updateAxes(i??[],e)}onSeriesChange(e,i){var s,r;const n=(i==null?void 0:i.filter(l=>!e.includes(l)))??[];this.destroySeries(n),(s=this.seriesLayerManager)==null||s.setSeriesCount(e.length);for(const l of e){if(i!=null&&i.includes(l))continue;const c=this.seriesLayerManager.requestGroup(l);l.attachSeries(c,this.seriesRoot,this.annotationRoot);const h=this;l.chart={get mode(){return h.mode},get isMiniChart(){return!1},get seriesRect(){return h.seriesRect}},l.resetAnimation(this.chartAnimationPhase),this.addSeriesListeners(l),l.addChartEventListeners()}(r=this.seriesAreaManager)==null||r.seriesChanged(e)}destroySeries(e){e==null||e.forEach(i=>{i.removeEventListener("nodeClick",this.onSeriesNodeClick),i.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),i.removeEventListener("groupingChanged",this.seriesGroupingChanged),i.destroy(),this.seriesLayerManager.releaseGroup(i),i.detachSeries(void 0,this.seriesRoot,this.annotationRoot),i.chart=void 0})}addSeriesListeners(e){this.hasEventListener("seriesNodeClick")&&e.addEventListener("nodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&e.addEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),this.hasEventListener("seriesVisibilityChange")&&e.addEventListener("seriesVisibilityChange",this.onSeriesVisibilityChange),e.addEventListener("groupingChanged",this.seriesGroupingChanged)}assignSeriesToAxes(){for(const e of this.axes)e.boundSeries=this.series.filter(i=>i.axes[e.direction]===e)}assignAxesToSeries(){const e=j0(this.axes,i=>i.direction);for(const i of this.series)for(const n of i.directions){const s=e[n];if(!s){ot.warnOnce(`no available axis for direction [${n}]; check series and axes configuration.`);return}const r=i.getKeys(n),l=s.find(c=>!c.keys.length||r.some(h=>c.keys.includes(h)));if(!l){ot.warnOnce(`no matching axis for direction [${n}] and keys [${r}]; check series and axes configuration.`);return}i.axes[n]=l}}parentResize(e){if(e==null||this.width!=null&&this.height!=null)return;let{width:i,height:n}=e;const{pixelRatio:s}=e;if(i=Math.floor(i),n=Math.floor(n),i===0&&n===0)return;const[r=0,l=0,c=1]=this._lastAutoSize??[];r===i&&l===n&&c===s||(this._lastAutoSize=[i,n,s],this.resize("SizeMonitor",{}))}resize(e,i){var b,v,S;const{scene:n,animationManager:s}=this.ctx,{inWidth:r,inHeight:l,inMinWidth:c,inMinHeight:h,inOverrideDevicePixelRatio:d}=i;this.ctx.domManager.setSizeOptions(c??this.minWidth,h??this.minHeight,r??this.width,l??this.height);const p=r??this.width??((b=this._lastAutoSize)==null?void 0:b[0]),g=l??this.height??((v=this._lastAutoSize)==null?void 0:v[1]),m=d??this.overrideDevicePixelRatio??((S=this._lastAutoSize)==null?void 0:S[2]);if(this.debug(`Chart.resize() from ${e}`,{width:p,height:g,pixelRatio:m,stack:new Error().stack}),!(p==null||g==null||!Wt(p)||!Wt(g))&&n.resize(p,g,m)){s.reset();let A=!0;(this.width==null||this.height==null)&&this._firstAutoSize&&(A=!1,this._firstAutoSize=!1),this.update(3,{forceNodeDataRefresh:!0,skipAnimations:A}),this._autoSizeNotify.notify()}}async updateData(){this.series.forEach(i=>i.setChartData(this.data));const e=this.modulesManager.mapModules(i=>{var n;return(n=i.updateData)==null?void 0:n.call(i,this.data)});await Promise.all(e)}async processData(){this.series.some(s=>s.canHaveAxes)&&(this.assignAxesToSeries(),this.assignSeriesToAxes());const e=new sN(this.mode,this.suppressFieldDotNotation),i=this.series.map(s=>(s.resetDatumCallbackCache(),s.processData(e))),n=this.modulesManager.mapModules(s=>{var r;return(r=s.processData)==null?void 0:r.call(s,e)});this._cachedData=e.execute(this._cachedData),await Promise.all([...i,...n]);for(const s of this.axes)s.processData();this.updateLegends()}updateLegends(e){for(const{legend:i,legendType:n}of this.modulesManager.legends())n==="category"?this.setCategoryLegendData(e):this.setLegendData(n,i)}setCategoryLegendData(e){var i;const{ctx:{legendManager:n,stateManager:s}}=this;e&&this.series.forEach(l=>{const c=e.find(h=>h.seriesId===l.id);l.onLegendInitialState("category",c)});const r=this.series.flatMap(l=>{const c=l.getLegendData("category");return n.updateData(l.id,c),c});if(e){s.setStateAndRestore(n,e);return}if(this.mode!=="integrated"){const l={},c=new Map(this.series.map(h=>[h.id,h.type]));for(const{seriesId:h,symbol:{marker:d},label:p}of r.filter(g=>!g.hideInLegend)){if(d.fill==null)continue;const g=c.get(h),m=l[g]??(l[g]={});m[i=p.text]??(m[i]=d.fill),m[p.text]!==d.fill&&ot.warnOnce(`legend item '${p.text}' has multiple fill colors, this may cause unexpected behaviour.`)}}n.update()}setLegendData(e,i){i.data=this.series.filter(n=>n.properties.showInLegend).flatMap(n=>n.getLegendData(e))}async processLayout(){var r;const e=this.animationRect,{width:i,height:n}=this.ctx.scene,s=this.ctx.layoutManager.createContext(i,n);await this.performLayout(s),e&&!((r=this.animationRect)!=null&&r.equals(e))&&this.ctx.animationManager.skipCurrentBatch(),this.debug("Chart.performUpdate() - seriesRect",this.seriesRect)}async updateSeries(e){const{seriesRect:i}=this;await Promise.all(e.map(n=>n.update({seriesRect:i}))),this.ctx.seriesLabelLayoutManager.updateLabels(this.series.filter(n=>n.visible&&n.usesPlacedLabels),this.padding,this.seriesRect)}async waitForUpdate(e=1e4,i=!1){const n=performance.now();for(;(this._pendingFactoryUpdatesCount>0||this.performUpdateType!==7||this.runningUpdateType!==7)&&!this.destroyed;){if(this._pendingFactoryUpdatesCount>0&&await this.updateMutex.waitForClearAcquireQueue(),(this.performUpdateType!==7||this.runningUpdateType!==7)&&await this._performUpdateNotify.await(),performance.now()-n>e){const s=`Chart.waitForUpdate() timeout of ${e} reached - first chart update taking too long.`;if(i)throw new Error(s);ot.warnOnce(s)}vI()&&await E2()}}filterMiniChartSeries(e){return e==null?void 0:e.filter(i=>i.showInMiniChart!==!1)}applyOptions(e){var S,A,D,L,C;const i=this.firstApply?e.processedOptions:e.diffOptions(this.chartOptions);if(i==null||Object.keys(i).length===0)return;const n=this.firstApply?{}:this.chartOptions.processedOptions,s=e.processedOptions;os("Chart.applyOptions() - applying delta",i);const r=this.applyModules(s),l=["type","data","series","listeners","preset","theme","legend.listeners","navigator.miniChart.series","navigator.miniChart.label","locale.localeText","axes","topology","nodes","initialState","styleContainer"];i.listeners&&this.registerListeners(this,i.listeners),Nu(this,i,{skip:l});let c=!1,h="no-op";i.series!=null&&(h=this.applySeries(this,i.series,n==null?void 0:n.series),c=!0),h==="replaced"&&this.resetAnimations(),this.applyAxes(this,s,n,h,[])&&(c=!0),i.data&&(this.data=i.data),(S=i.legend)!=null&&S.listeners&&this.modulesManager.isEnabled("legend")&&Object.assign(this.legend.listeners,i.legend.listeners),(A=i.locale)!=null&&A.localeText&&(this.modulesManager.getModule("locale").localeText=(D=i.locale)==null?void 0:D.localeText),this.chartOptions=e;const d=this.modulesManager.getModule("navigator"),p=this.modulesManager.getModule("zoom");!(d!=null&&d.enabled)&&!(p!=null&&p.enabled)&&this.ctx.zoomManager.updateZoom("chart");const g=d==null?void 0:d.miniChart,m=((C=(L=s.navigator)==null?void 0:L.miniChart)==null?void 0:C.series)??s.series;(g==null?void 0:g.enabled)===!0&&m!=null?this.applyMiniChartOptions(g,m,s,n):(g==null?void 0:g.enabled)===!1&&(g.series=[],g.axes=[]),this.ctx.annotationManager.setAnnotationStyles(e.annotationThemes),c||(c=this.shouldForceNodeDataRefresh(i,h));const v=c||r?0:3;this.maybeResetAnimations(h),this.shouldClearLegendData(s,n,h)&&this.ctx.legendManager.clearData(),this.applyInitialState(s),os("Chart.applyOptions() - update type",Cu[v],{seriesStatus:h,forceNodeDataRefresh:c}),this.update(v,{forceNodeDataRefresh:c,newAnimationBatch:!0}),this.firstApply=!1}applyInitialState(e){var h,d,p;const{annotationManager:i,chartTypeOriginator:n,historyManager:s,stateManager:r,zoomManager:l}=this.ctx,{initialState:c}=e;if("annotations"in e&&((h=e.annotations)!=null&&h.enabled)&&(c==null?void 0:c.annotations)!=null){const g=c.annotations.map(m=>{const b=i.getAnnotationTypeStyles(m.type);return Rt(m,b)});r.setState(i,g)}(c==null?void 0:c.chartType)!=null&&r.setState(n,c.chartType),((d=e.navigator)!=null&&d.enabled||(p=e.zoom)!=null&&p.enabled)&&(c==null?void 0:c.zoom)!=null&&r.setState(l,c.zoom),(c==null?void 0:c.legend)!=null&&this.updateLegends(c.legend),c!=null&&s.clear()}maybeResetAnimations(e){if(this.mode==="standalone")switch(e){case"series-grouping-change":case"replaced":this.resetAnimations();break}}shouldForceNodeDataRefresh(e,i){const n=!!e.data||i==="data-change"||i==="replaced",s=Ib.getKeys(),r=Object.values(s).some(c=>e[c]!=null),l=e.title!=null&&e.subtitle!=null;return n||r||l}shouldClearLegendData(e,i,n){const s=n==="replaced"||n==="series-grouping-change"||n==="updated",r=i.legend!=null&&e.legend==null;return s||r}applyMiniChartOptions(e,i,n,s){var p,g,m,b;const r=((g=(p=s==null?void 0:s.navigator)==null?void 0:p.miniChart)==null?void 0:g.series)??(s==null?void 0:s.series),l=this.applySeries(e,this.filterMiniChartSeries(i),this.filterMiniChartSeries(r));this.applyAxes(e,n,s,l,["axes[].tick","axes[].thickness","axes[].title","axes[].crosshair","axes[].gridLine","axes[].label"]);const c=e.series;for(const v of c)v.properties.id=void 0;const h=e.axes,d=h.find(v=>v.direction==="x");for(const v of h)v.nice=!1,v.gridLine.enabled=!1,v.label.enabled=v===d,v.tick.enabled=!1,v.interactionEnabled=!1;if(d!=null){const v=(m=n.navigator)==null?void 0:m.miniChart,S=v==null?void 0:v.label,A=(b=v==null?void 0:v.label)==null?void 0:b.interval;if(d.line.enabled=!1,d.label.set(qy(S,["interval","rotation","minSpacing","autoRotate","autoRotateAngle"])),d.tick.set(qy(A,["enabled","width","size","color","interval","step"])),d.type==="grouped-category"){d.label.enabled=!1,d.label.rotation=0;const{depthOptions:L}=d;if(L.length===0)L.set([{label:{enabled:!0}}]);else for(let C=1;C<L.length;C++)L[C].label.enabled=!1}const D=A==null?void 0:A.step;D!=null&&(d.interval.step=D)}}applyModules(e){var s;const{type:i}=this.constructor;let n=!1;for(const r of ks.byType("root","legend")){const c=e[r.optionsKey]!=null&&r.chartTypes.includes(i);c!==this.modulesManager.isEnabled(r)&&(c?(this.modulesManager.addModule(r,h=>h.moduleFactory(this.getModuleContext())),r.type==="legend"&&((s=this.modulesManager.getModule(r))==null||s.attachLegend(this.ctx.scene)),this[r.optionsKey]=this.modulesManager.getModule(r)):(this.modulesManager.removeModule(r),delete this[r.optionsKey]),n=!0)}return n}initSeriesDeclarationOrder(e){for(let i=0;i<e.length;i++)e[i].setSeriesIndex(i)}applySeries(e,i,n){var p;if(!i)return"no-change";const s=j_(e.series,i,n);if(s.status==="no-overlap"){os(`Chart.applySeries() - creating new series instances, status: ${s.status}`,s);const g=i.map(m=>this.createSeries(m));return this.initSeriesDeclarationOrder(g),e.series=g,"replaced"}os("Chart.applySeries() - matchResult",s);const r=[];let l=!1,c=!1,h=!1;const d=s.changes.toSorted((g,m)=>g.targetIdx-m.targetIdx);for(const g of d)switch(c||(c=g.status==="series-grouping"),l||(l=((p=g.diff)==null?void 0:p.data)!=null),h||(h=g.status!=="no-op"),g.status){case"add":{const m=this.createSeries(g.opts);r.push(m),os("Chart.applySeries() - created new series",m);break}case"remove":os(`Chart.applySeries() - removing series at previous idx ${g.idx}`,g.series);break;case"no-op":r.push(g.series),os(`Chart.applySeries() - no change to series at previous idx ${g.idx}`,g.series);break;case"series-grouping":case"update":default:{const{series:m,diff:b,idx:v}=g;os(`Chart.applySeries() - applying series diff previous idx ${v}`,b,m),this.applySeriesValues(m,b),m.markNodeDataDirty(),r.push(m)}}return this.initSeriesDeclarationOrder(r),os("Chart.applySeries() - final series instances",r),e.series=r,c?"series-grouping-change":l?"data-change":h?"updated":"no-op"}applyAxes(e,i,n,s,r=[]){if(!("axes"in i)||!i.axes)return!1;r=["axes[].type",...r];const{axes:l}=i;return!(s==="replaced")&&e.axes.length===l.length&&e.axes.every((d,p)=>d.type===l[p].type)&&Eb(n)?(e.axes.forEach((d,p)=>{var v;const g=((v=n.axes)==null?void 0:v[p])??{},m=ba(g,l[p]);os(`Chart.applyAxes() - applying axis diff idx ${p}`,m);const b=`axes[${p}]`;Nu(d,m,{path:b,skip:r})}),!0):(os(`Chart.applyAxes() - creating new axes instances; seriesStatus: ${s}`),e.axes=this.createAxis(l,r),!0)}createSeries(e){const i=an.create(e.type,this.getModuleContext());return this.applySeriesOptionModules(i,e),this.applySeriesValues(i,e),i}applySeriesOptionModules(e,i){const n=e.createModuleContext(),s=e.getModuleMap();for(const r of ks.byType("series-option"))r.optionsKey in i&&r.seriesTypes.includes(e.type)&&s.addModule(r,l=>l.moduleFactory(n))}applySeriesValues(e,i){const n=e.getModuleMap(),{type:s,data:r,listeners:l,seriesGrouping:c,showInMiniChart:h,...d}=i;for(const p of Xl)if(p.type==="series-option"&&p.optionsKey in d){const g=n.getModule(p.optionsKey);if(g){const m=d[p.optionsKey];delete d[p.optionsKey],g.properties.set(m)}}e.properties.set(d),"data"in i&&e.setOptionsData(r),l&&this.registerListeners(e,l),"seriesGrouping"in i&&(c==null?e.seriesGrouping=void 0:e.seriesGrouping={...e.seriesGrouping,...c})}createAxis(e,i){const n=[],s=this.getModuleContext();for(let r=0;r<e.length;r++){const l=e[r],c=fa.create(l.type,s);this.applyAxisModules(c,l),Nu(c,l,{path:`axes[${r}]`,skip:i}),n.push(c)}return O_(n),n}applyAxisModules(e,i){const n=e.createModuleContext(),s=e.getModuleMap();for(const r of ks.byType("axis-option")){const l=i[r.optionsKey]!=null;l!==s.isEnabled(r)&&(l?(s.addModule(r,c=>c.moduleFactory(n)),e[r.optionsKey]=s.getModule(r)):(s.removeModule(r),delete e[r.optionsKey]))}}registerListeners(e,i){e.clearEventListeners();for(const[n,s]of Object.entries(i))Lo(s)&&e.addEventListener(n,s)}};Ue.chartsInstances=new WeakMap;M([ln({newValue(t){this.destroyed||(this.ctx.domManager.setContainer(t),Ue.chartsInstances.set(t,this))},oldValue(t){Ue.chartsInstances.delete(t)}})],Ue.prototype,"container",2);M([ln({newValue(t){this.resize("width option",{inWidth:t})}})],Ue.prototype,"width",2);M([ln({newValue(t){this.resize("height option",{inHeight:t})}})],Ue.prototype,"height",2);M([ln({newValue(t){this.resize("minWidth option",{inMinWidth:t})}})],Ue.prototype,"minWidth",2);M([ln({newValue(t){this.resize("minHeight option",{inMinHeight:t})}})],Ue.prototype,"minHeight",2);M([ln({newValue(t){this.resize("overrideDevicePixelRatio option",{inOverrideDevicePixelRatio:t})}})],Ue.prototype,"overrideDevicePixelRatio",2);M([T(mt)],Ue.prototype,"padding",2);M([T(mt)],Ue.prototype,"seriesArea",2);M([T(mt)],Ue.prototype,"keyboard",2);M([T(mt)],Ue.prototype,"touch",2);M([T(ue(["standalone","integrated"],"a chart mode"))],Ue.prototype,"mode",2);M([xe("chartCaptions.title")],Ue.prototype,"title",2);M([xe("chartCaptions.subtitle")],Ue.prototype,"subtitle",2);M([xe("chartCaptions.footnote")],Ue.prototype,"footnote",2);M([T(At)],Ue.prototype,"suppressFieldDotNotation",2);M([ln({changeValue(t,e){this.onAxisChange(t,e)}})],Ue.prototype,"axes",2);M([ln({changeValue(t,e){this.onSeriesChange(t,e)}})],Ue.prototype,"series",2);var Np=Ue,Mz={2:(t,e)=>Math.log2(e),[Math.E]:(t,e)=>Math.log(e),10:(t,e)=>Math.log10(e)},Sz=(t,e)=>Math.log(e)/Math.log(t);function Cy(t,e,i){const n=Math.min(...e),s=Mz[t]??Sz;return n>=0?s(t,i):-s(t,-i)}var Dz={[Math.E]:(t,e)=>Math.exp(e),10:(t,e)=>e>=0?10**e:1/10**-e},Az=(t,e)=>t**e;function Ey(t,e,i){const n=Math.min(...e),s=Dz[t]??Az;return n>=0?s(t,i):-s(t,-i)}var Ob=class extends te{constructor(t=[1,10],e=[0,1]){super(t,e),this.type="log",this.defaultClamp=!0,this.base=10,this.log=i=>Cy(this.base,this.domain,i),this.pow=i=>Ey(this.base,this.domain,i)}toDomain(t){return t}transform(t){const[e,i]=gi(this.domain);return e>=0!=i>=0?NaN:e>=0?Math.log(t):-Math.log(-t)}transformInvert(t){const[e,i]=gi(this.domain);return e>=0!=i>=0?NaN:e>=0?Math.exp(t):-Math.exp(-t)}niceDomain(t,e=this.domain){if(e.length<2)return[];const{base:i}=this,[n,s]=e,r=n>s?Math.ceil:Math.floor,l=n>s?Math.floor:Math.ceil,c=Ey(i,e,r(Cy(i,e,n))),h=Ey(i,e,l(Cy(i,e,s)));return[c,h]}ticks({interval:t,tickCount:e=te.defaultTickCount},i=this.domain,n){if(!i||i.length<2||e<1)return[];const s=this.base,[r,l]=i,c=Math.min(r,l),h=Math.max(r,l);let d=this.log(c),p=this.log(h);if(t){const S=L=>L>=c&&L<=h,A=Math.min(Math.abs(t),Math.abs(p-d)),D=Fu(d,p,A).map(this.pow).filter(S);if(!Gu(D.length,this.getPixelRange()))return D}if(!qL(s)||p-d>=e)return rb(d,p,Math.min(p-d,e)).map(this.pow);let g=[];const m=c>0;d=Math.floor(d)-1,p=Math.round(p)+1;const b=jl(this.range)/e;let v=1/0;for(let S=d;S<=p;S++){const A=this.convert(this.pow(S+1));for(let D=1;D<s;D++){const L=m?D:s-D+1,C=this.pow(S)*L,N=this.convert(C),k=Math.abs(v-N),O=Math.abs(N-A),_=k>=b&&O>=b;C>=c&&C<=h&&(D===1||_||g.length===0)&&(g.push(C),v=N)}}return g=bT(g,m,n),g}tickFormatter({specifier:t}){return t!=null?KT(t):String}datumFormatter(t){return this.tickFormatter(t)}},Lz=class{constructor(t,e,i){this.root=new Nz(t,e,i)}clear(t){this.root.clear(t)}addValue(t,e){const i={hitTester:t,value:e,distanceSquared:(n,s)=>t.distanceSquared(n,s)};this.root.addElem(i)}find(t,e){const i={best:{nearest:void 0,distanceSquared:1/0}};return this.root.find(t,e,i),i.best}},Tz=class{constructor(t,e,i,n){this.nw=t,this.ne=e,this.sw=i,this.se=n}addElem(t){this.nw.addElem(t),this.ne.addElem(t),this.sw.addElem(t),this.se.addElem(t)}find(t,e,i){this.nw.find(t,e,i),this.ne.find(t,e,i),this.sw.find(t,e,i),this.se.find(t,e,i)}},Iz=class{constructor(t,e,i){this.capacity=t,this.maxdepth=e,this.boundary=i??bt.NaN,this.elems=[],this.subdivisions=void 0}clear(t){this.elems.length=0,this.boundary=t,this.subdivisions=void 0}addElem(t){this.addCondition(t)&&(this.subdivisions===void 0?this.maxdepth===0||this.elems.length<this.capacity?this.elems.push(t):this.subdivide(t):this.subdivisions.addElem(t))}find(t,e,i){this.findCondition(t,e,i)&&(this.subdivisions===void 0?this.findAction(t,e,i):this.subdivisions.find(t,e,i))}subdivide(t){this.subdivisions=this.makeSubdivisions();for(const e of this.elems)this.subdivisions.addElem(e);this.subdivisions.addElem(t),this.elems.length=0}makeSubdivisions(){const{x:t,y:e,width:i,height:n}=this.boundary,{capacity:s}=this,r=this.maxdepth-1,l=i/2,c=n/2,h=new bt(t,e,l,c),d=new bt(t+l,e,l,c),p=new bt(t,e+c,l,c),g=new bt(t+l,e+c,l,c);return new Tz(this.child(s,r,h),this.child(s,r,d),this.child(s,r,p),this.child(s,r,g))}},Nz=class MN extends Iz{addCondition(e){const{x:i,y:n}=e.hitTester.midPoint;return this.boundary.containsPoint(i,n)}findCondition(e,i,n){const{best:s}=n;return s.distanceSquared!==0&&this.boundary.distanceSquared(e,i)<s.distanceSquared}findAction(e,i,n){const s=tp(e,i,this.elems,n.best.distanceSquared);s.nearest!==void 0&&s.distanceSquared<n.best.distanceSquared&&(n.best=s)}child(e,i,n){return new MN(e,i,n)}},fs=class SN extends te{constructor(){super([0,1],[0,1]),this.type="number"}static getTickStep(e,i,n){const{interval:s,tickCount:r=te.defaultTickCount,minTickCount:l,maxTickCount:c}=n;return s??Bu(e,i,r,l,c)}toDomain(e){return e}ticks({interval:e,tickCount:i=te.defaultTickCount,minTickCount:n,maxTickCount:s},r=this.domain,l){if(!r||r.length<2||i<1||!r.every(isFinite))return[];const[c,h]=r;if(e){const d=Math.abs(e);if(!Gu((h-c)/d,this.getPixelRange()))return Fu(c,h,d)}return rb(c,h,i,n,s,l)}niceDomain(e,i=this.domain){if(i.length<2)return[];const{tickCount:n=te.defaultTickCount}=e;let[s,r]=i;if(n===1)[s,r]=JR(s,r);else if(n>1){const l=s>r?Math.ceil:Math.floor,c=s>r?Math.floor:Math.ceil,h=4;for(let d=0;d<h;d++){const p=s,g=r,m=SN.getTickStep(s,r,e),[b,v]=i;if(s=l(b/m)*m,r=c(v/m)*m,s===p&&r===g)break}}return[s,r]}tickFormatter({ticks:e,fractionDigits:i,specifier:n}){return n!=null?sA(e,n):s=>ya(s,i)}datumFormatter({ticks:e,fractionDigits:i,specifier:n}){return n!=null?sA(e,n):s=>ya(s,i+1)}};function Ia(t){if(t.length===0)return null;let e=1/0,i=-1/0;for(const s of t){const r=s instanceof Date?s.getTime():s;typeof r=="number"&&(r<e&&(e=r),r>i&&(i=r))}const n=[e,i];return n.every(isFinite)?n:null}function Rb(t,e,i){let n=!1;return t.length>2&&(t=Ia(t)??[NaN,NaN]),isNaN(e)||(n||(n=e>t[0]),t=[e,t[1]]),isNaN(i)||(n||(n=i<t[1]),t=[t[0],i]),t[0]>t[1]&&(t=[]),{extent:t,clipped:n}}var Ar=class extends fh{constructor(t,e=new fs){super(t,e),this.min=NaN,this.max=NaN}normaliseDataDomain(t){const{min:e,max:i}=this,{extent:n,clipped:s}=Rb(t,e,i);return{domain:n,clipped:s}}};Ar.className="NumberAxis";Ar.type="number";M([T(js(Vl,ch("max"))),Mr(NaN)],Ar.prototype,"min",2);M([T(js(Vl,uh("min"))),Mr(NaN)],Ar.prototype,"max",2);var Eo=class extends fh{constructor(t){super(t,new tI),this.min=void 0,this.max=void 0}normaliseDataDomain(t){var s;let{min:e,max:i}=this,n=!1;return typeof e=="number"&&(e=new Date(e)),typeof i=="number"&&(i=new Date(i)),t.length>2&&(t=((s=Ia(t))==null?void 0:s.map(r=>new Date(r)))??[]),e instanceof Date&&(n||(n=e>t[0]),t=[e,t[1]]),i instanceof Date&&(n||(n=i<t[1]),t=[t[0],i]),t[0]>t[1]&&(t=[]),{domain:t,clipped:n}}};Eo.className="TimeAxis";Eo.type="time";M([T(js(V0,ch("max")),{optional:!0})],Eo.prototype,"min",2);M([T(js(V0,uh("min")),{optional:!0})],Eo.prototype,"max",2);var jb=class extends Ip{constructor(){super(...arguments),this.clipFocusBox=!0}getScaleInformation({xScale:t,yScale:e}){const i=te.is(t),n=te.is(e);return{isContinuousX:i,isContinuousY:n,xScaleType:t==null?void 0:t.type,yScaleType:e==null?void 0:e.type}}getModulePropertyDefinitions(){var i,n;const t=(i=this.axes.x)==null?void 0:i.scale,e=(n=this.axes.y)==null?void 0:n.scale;return this.moduleMap.mapModules(s=>s.getPropertyDefinitions(this.getScaleInformation({xScale:t,yScale:e}))).flat()}async requestDataModel(t,e,i){i.props.push(...this.getModulePropertyDefinitions());const{dataModel:n,processedData:s}=await t.request(this.id,e??[],i);return this.dataModel=n,this.processedData=s,this.dispatch("data-processed",{dataModel:n,processedData:s}),{dataModel:n,processedData:s}}isProcessedDataAnimatable(){var n,s;const t=(s=(n=this.processedData)==null?void 0:n.reduced)==null?void 0:s.animationValidation;if(!t)return!0;const{orderedKeys:e,uniqueKeys:i}=t;return e&&i}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}pickFocus(t){const e=this.getNodeData();if(e===void 0||e.length===0)return;const i=this.computeFocusDatumIndex(t,e);if(i===void 0)return;const{clipFocusBox:n}=this,s=e[i],r={...t,datumIndex:i},l=this.computeFocusBounds(r);if(l!==void 0)return{bounds:l,clipFocusBox:n,datum:s,datumIndex:i}}computeFocusDatumIndex(t,e){const i=c=>{const{missing:h=!1,enabled:d=!0,focusable:p=!0}=e[c];return!h&&d&&p},n=(c,h)=>{for(;c>=0&&!i(c);)c+=h;return c===-1?void 0:c},s=(c,h)=>{for(;c<e.length&&!i(c);)c+=h;return c===e.length?void 0:c};let r;const l=Et(0,t.datumIndex,e.length-1);return t.datumIndexDelta<0?r=n(l,t.datumIndexDelta):t.datumIndexDelta>0?r=s(l,t.datumIndexDelta):r=s(l,1)??n(l,-1),r===void 0?t.datumIndexDelta===0?void 0:t.datumIndex-t.datumIndexDelta:r}},Na=class extends Ct{constructor(){super(...arguments),this.fill="rgba(255,255,255, 0.33)",this.stroke="rgba(0, 0, 0, 0.4)",this.strokeWidth=2}};M([T($t,{optional:!0})],Na.prototype,"fill",2);M([T(ee,{optional:!0})],Na.prototype,"fillOpacity",2);M([T($t,{optional:!0})],Na.prototype,"stroke",2);M([T(ft,{optional:!0})],Na.prototype,"strokeWidth",2);M([T(ee,{optional:!0})],Na.prototype,"strokeOpacity",2);M([T(_s,{optional:!0})],Na.prototype,"lineDash",2);M([T(ft,{optional:!0})],Na.prototype,"lineDashOffset",2);var Cp=class extends Ct{};M([T(ft,{optional:!0})],Cp.prototype,"strokeWidth",2);M([T(ee,{optional:!0})],Cp.prototype,"dimOpacity",2);M([T(At,{optional:!0})],Cp.prototype,"enabled",2);var DN=class extends Ct{constructor(){super(...arguments),this.color="black"}};M([T($t,{optional:!0})],DN.prototype,"color",2);var _b=class extends Ct{constructor(){super(...arguments),this.enabled=!0}};M([T(At,{optional:!0})],_b.prototype,"enabled",2);var yh=class extends Ct{constructor(){super(...arguments),this.item=new Na,this.series=new Cp,this.text=new DN}};M([T(mt)],yh.prototype,"item",2);M([T(mt)],yh.prototype,"series",2);M([T(mt)],yh.prototype,"text",2);var Ln=class extends Ct{constructor(){super(...arguments),this.visible=!0,this.focusPriority=1/0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlight=new _b,this.highlightStyle=new yh}};M([T(rt,{optional:!0})],Ln.prototype,"id",2);M([T(At)],Ln.prototype,"visible",2);M([T(ST,{optional:!0})],Ln.prototype,"focusPriority",2);M([T(At)],Ln.prototype,"showInLegend",2);M([T(rt)],Ln.prototype,"cursor",2);M([T(fp)],Ln.prototype,"nodeClickRange",2);M([T(mt)],Ln.prototype,"highlight",2);M([T(mt)],Ln.prototype,"highlightStyle",2);var ko={x:["xKey"],y:["yKey"]},wo={x:["xName"],y:["yName"]},zb=class extends gh{constructor(t,e,i,n){super(t,e,i,n),this.xKey=n.properties.xKey,this.yKey=n.properties.yKey}},Ca=class extends Ln{constructor(){super(...arguments),this.pickOutsideVisibleMinorAxis=!1}};M([T(rt,{optional:!0})],Ca.prototype,"legendItemName",2);M([T(At,{optional:!0})],Ca.prototype,"pickOutsideVisibleMinorAxis",2);var Ff=100,Lr=class extends jb{constructor({pathsPerSeries:t=["path"],hasMarkers:e=!1,hasHighlightedLabels:i=!1,pathsZIndexSubOrderOffset:n=[],datumSelectionGarbageCollection:s=!0,markerSelectionGarbageCollection:r=!0,animationAlwaysUpdateSelections:l=!1,animationResetFns:c,directionKeys:h,directionNames:d,...p}){if(super({directionKeys:h,directionNames:d,canHaveAxes:!0,...p}),this.NodeEvent=zb,this.dataNodeGroup=this.contentGroup.appendChild(new Tt({name:`${this.id}-series-dataNodes`,zIndex:0})),this.markerGroup=this.contentGroup.appendChild(new Tt({name:`${this.id}-series-markers`,zIndex:1})),this.labelGroup=this.contentGroup.appendChild(new Xi({name:`${this.id}-series-labels`})),this.labelSelection=Ge.select(this.labelGroup,si),this.highlightSelection=Ge.select(this.highlightNode,()=>this.opts.hasMarkers?new ai:this.nodeFactory()),this.highlightLabelSelection=Ge.select(this.highlightLabel,si),this.annotationSelections=new Set,this.debug=ce.create(),!h||!d)throw new Error(`Unable to initialise series type ${this.type}`);this.opts={pathsPerSeries:t,hasMarkers:e,hasHighlightedLabels:i,pathsZIndexSubOrderOffset:n,directionKeys:h,directionNames:d,animationResetFns:c,animationAlwaysUpdateSelections:l,datumSelectionGarbageCollection:s,markerSelectionGarbageCollection:r},this.paths=t.map(g=>new Qi({name:`${this.id}-${g}`})),this.datumSelection=Ge.select(this.dataNodeGroup,()=>this.nodeFactory(),s),this.markerSelection=Ge.select(this.markerGroup,ai,r),this.animationState=new dh("empty",{empty:{update:{target:"ready",action:g=>this.animateEmptyUpdateReady(g)},reset:"empty",skip:"ready",disable:"disabled"},ready:{updateData:"waiting",clear:"clearing",highlight:g=>this.animateReadyHighlight(g),highlightMarkers:g=>this.animateReadyHighlightMarkers(g),resize:g=>this.animateReadyResize(g),reset:"empty",skip:"ready",disable:"disabled"},waiting:{update:{target:"ready",action:g=>{this.ctx.animationManager.isSkipped()?this.resetAllAnimation(g):this.animateWaitingUpdateReady(g)}},reset:"empty",skip:"ready",disable:"disabled"},disabled:{update:g=>this.resetAllAnimation(g),reset:"empty"},clearing:{update:{target:"empty",action:g=>this.animateClearingUpdateEmpty(g)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}get contextNodeData(){return this._contextNodeData}getNodeData(){var t;return(t=this.contextNodeData)==null?void 0:t.nodeData}attachSeries(t,e,i){super.attachSeries(t,e,i),this.attachPaths(this.paths,e,i)}detachSeries(t,e,i){super.detachSeries(t,e,i),this.detachPaths(this.paths,e,i)}attachPaths(t,e,i){for(const n of t)this.contentGroup.appendChild(n)}detachPaths(t,e,i){for(const n of t)this.contentGroup.removeChild(n)}renderToOffscreenCanvas(){const t=this.getNodeData();return t!=null&&t.length>Ff}resetAnimation(t){t==="initial"?this.animationState.transition("reset"):t==="ready"?this.animationState.transition("skip"):t==="disabled"&&this.animationState.transition("disable")}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",t=>this.onLegendItemClick(t)),this.ctx.chartEventManager.addListener("legend-item-double-click",t=>this.onLegendItemDoubleClick(t)))}destroy(){super.destroy(),this._contextNodeData=void 0}update({seriesRect:t}){var h,d;const{visible:e,_contextNodeData:i}=this,s=((d=(h=this.ctx.highlightManager)==null?void 0:h.getActiveHighlight())==null?void 0:d.series)===this,r=this.checkResize(t),l=this.updateHighlightSelection(s);this.updateSelections(e),this.updateNodes(l,s,e);const c=this.getAnimationData(t,i);c&&(r&&this.animationState.transition("resize",c),this.animationState.transition("update",c))}updateSelections(t){var e;const i=!this.opts.animationAlwaysUpdateSelections&&this.ctx.animationManager.isSkipped();if(!(!t&&i)&&!(!this.nodeDataRefresh&&!this.isPathOrSelectionDirty())){if(this.nodeDataRefresh){this.nodeDataRefresh=!1,this.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this.markQuadtreeDirty(),this._contextNodeData=this.createNodeData();const n=this.isProcessedDataAnimatable();this._contextNodeData&&((e=this._contextNodeData).animationValid??(e.animationValid=n));const{dataModel:s,processedData:r}=this;s!==void 0&&r!==void 0&&this.dispatch("data-update",{dataModel:s,processedData:r})}this.updateSeriesSelections()}}updateSeriesSelections(t){const{datumSelection:e,labelSelection:i,markerSelection:n,paths:s}=this,r=this._contextNodeData;if(!r)return;const{nodeData:l,labelData:c,itemId:h}=r;this.updatePaths({seriesHighlighted:t,itemId:h,contextData:r,paths:s}),this.datumSelection=this.updateDatumSelection({nodeData:l,datumSelection:e}),this.labelSelection=this.updateLabelSelection({labelData:c,labelSelection:i})??i,this.opts.hasMarkers&&(this.markerSelection=this.updateMarkerSelection({nodeData:l,markerSelection:n}))}updateNodes(t,e,i){const{highlightSelection:n,highlightLabelSelection:s,opts:{hasMarkers:r,hasHighlightedLabels:l}}=this,c=!this.ctx.animationManager.isSkipped(),h=this.visible&&this._contextNodeData!=null&&i;this.contentGroup.visible=c||h,this.highlightGroup.visible=(c||h)&&e;const d=this.getOpacity();r?(this.updateMarkerNodes({markerSelection:n,isHighlight:!0}),this.animationState.transition("highlightMarkers",n)):(this.updateDatumNodes({datumSelection:n,isHighlight:!0}),this.animationState.transition("highlight",n)),l&&this.updateLabelNodes({labelSelection:s});const{dataNodeGroup:p,markerGroup:g,datumSelection:m,labelSelection:b,markerSelection:v,paths:S,labelGroup:A}=this,{itemId:D}=this.contextNodeData??{};p.opacity=d,p.visible=c||h,A.visible=h,r&&(g.opacity=d,g.visible=h),A&&(A.opacity=d),this.updatePathNodes({seriesHighlighted:e,itemId:D,paths:S,opacity:d,visible:h,animationEnabled:c}),p.visible&&(this.updateDatumNodes({datumSelection:m,highlightedItems:t,isHighlight:!1}),this.usesPlacedLabels||this.updateLabelNodes({labelSelection:b}),r&&this.updateMarkerNodes({markerSelection:v,isHighlight:!1}))}getHighlightLabelData(t,e){const i=t.filter(n=>n.datum===e.datum&&n.itemId===e.itemId);return i.length===0?void 0:i}getHighlightData(t,e){return e?[e]:void 0}updateHighlightSelection(t){var h;const{highlightSelection:e,highlightLabelSelection:i,_contextNodeData:n}=this;if(!n)return;const s=(h=this.ctx.highlightManager)==null?void 0:h.getActiveHighlight(),r=t&&(s!=null&&s.datum)?s:void 0;let l,c;if(r!=null){const d=this.isLabelEnabled(),{labelData:p,nodeData:g}=n;c=this.getHighlightData(g,r),l=d?this.getHighlightLabelData(p,r):void 0}return this.highlightSelection=this.updateHighlightSelectionItem({items:c,highlightSelection:e}),this.highlightLabelSelection=this.updateHighlightSelectionLabel({items:l,highlightLabelSelection:i}),c}markQuadtreeDirty(){this.quadtree=void 0}*datumNodesIter(){for(const{node:t}of this.datumSelection)t.datum.missing!==!0&&(yield t)}getQuadTree(){if(this.quadtree===void 0){const{width:t,height:e}=this.ctx.scene.canvas,i=new bt(0,0,t,e);this.quadtree=new Lz(100,10,i),this.initQuadTree(this.quadtree)}return this.quadtree}initQuadTree(t){}pickNodeExactShape(t){const e=super.pickNodeExactShape(t);if(e)return e;const{x:i,y:n}=t,{opts:{hasMarkers:s}}=this;let r;const{dataNodeGroup:l,markerGroup:c}=this;if(r=l.pickNode(i,n),!r&&s&&(r=c==null?void 0:c.pickNode(i,n)),r&&r.datum.missing!==!0)return{datum:r.datum,distance:0};for(const h of this.moduleMap.modules()){const{datum:d}=h.pickNodeExact(t)??{};if(d!=null&&(d==null?void 0:d.missing)!==!0)return{datum:d,distance:0}}}pickNodeClosestDatum(t){var p;const{x:e,y:i}=t,{axes:n,_contextNodeData:s}=this;if(!s)return;const r=n.x,l=n.y,c={x:e,y:i};let h=1/0,d;for(const g of s.nodeData){const{point:{x:m=NaN,y:b=NaN}={}}=g;if(isNaN(m)||isNaN(b)||!((r==null?void 0:r.inRange(m))&&(l==null?void 0:l.inRange(b))))continue;const S=Math.max((c.x-m)**2+(c.y-b)**2,0);S<h&&(h=S,d=g)}for(const g of this.moduleMap.modules()){const m=g.pickNodeNearest(t);if(m!==void 0&&m.distanceSquared<h){h=m.distanceSquared,d=m.datum;break}}if(d){const g=Math.max(Math.sqrt(h)-(((p=d.point)==null?void 0:p.size)??0),0);return{datum:d,distance:g}}}pickNodeMainAxisFirst(t,e){var v;const{x:i,y:n}=t,{axes:s,_contextNodeData:r}=this,{pickOutsideVisibleMinorAxis:l}=this.properties;if(!r)return;const c=s.x,h=s.y,d=[c,h].filter(Zl.is).map(S=>S.direction);if(e&&d.length===0)return;const[p="x"]=d,g=[i,n];p!=="x"&&g.reverse();const m=[1/0,1/0];let b;for(const S of r.nodeData){const{x:A=NaN,y:D=NaN}=S.point??S.midPoint??{};if(isNaN(A)||isNaN(D)||S.missing===!0)continue;const L=[c==null?void 0:c.inRange(A),h==null?void 0:h.inRange(D)];if(p!=="x"&&L.reverse(),!L[0]||!l&&!L[1])continue;const C=[A,D];p!=="x"&&C.reverse();let N=!0;for(let k=0;k<C.length;k++){const O=Math.abs(C[k]-g[k]);if(O>m[k]){N=!1;break}else O<m[k]&&(m[k]=O,m.fill(1/0,k+1,m.length))}N&&(b=S)}if(b){let S=Math.max(m[0]**2+m[1]**2-(((v=b.point)==null?void 0:v.size)??0),0);for(const A of this.moduleMap.modules()){const D=A.pickNodeMainAxisFirst(t);if(D!==void 0&&D.distanceSquared<S){b=D.datum,S=D.distanceSquared;break}}return{datum:b,distance:Math.sqrt(S)}}}isPathOrSelectionDirty(){return!1}shouldFlipXY(){return!1}keysOrValues(t){var i,n,s;const e=this.dataModel.resolveProcessedDataIndexById(this,t);return((n=(i=this.processedData)==null?void 0:i.keys[e])==null?void 0:n.get(this.id))??((s=this.processedData)==null?void 0:s.columns[e])??[]}visibleRange(t,e,i){const n=this.keysOrValues(t),s=0;return KI((i==null?void 0:i.length)??n.length,e,r=>{const l=(i==null?void 0:i[r])??r;return this.xCoordinateRange(n[l],s,l)})}domainForVisibleRange(t,e,i,n,s,r){const{processedData:l,dataModel:c}=this,[h,d]=n,p=this.keysOrValues(i);if(s){const v=this.visibleRange(i,n,r);return c.getDomainBetweenRange(this,e,v,l)}const g=e.map(v=>this.keysOrValues(v));let m=1/0,b=-1/0;return p.forEach((v,S)=>{const[A,D]=this.xCoordinateRange(v,0,S);if(!(D<h||A>d))for(let L=0;L<e.length;L++){const C=g[L][S];m=Math.min(m,C),b=Math.max(b,C)}}),m>b?[NaN,NaN]:[m,b]}domainForClippedRange(t,e,i,n){const{processedData:s,dataModel:r,axes:l}=this,h=Cz(l[t==="x"?"y":"x"]);if(!h)return e.flatMap(v=>r.getDomain(this,v,"value",s));const d=this.keysOrValues(i);if(n){const v=Ez(d.length,h,S=>d[S]);return r.getDomainBetweenRange(this,e,v,s)}const p=e.map(v=>this.keysOrValues(v)),g=h[0].valueOf(),m=h[1].valueOf(),b=[];return d.forEach((v,S)=>{const A=v.valueOf();if(A<g||A>m)return;const D=p.map(L=>L[S]);A>=g&&b.push(...D),A<=m&&b.push(...D)}),b}countVisibleItems(t,e,i,n,s){const{dataModel:r,processedData:l}=this;if(!r||!l)return 1/0;const c=this.keysOrValues(t),h=e.map(k=>r.resolveColumnById(this,k,l)),d=this.axes.x,p=this.axes.y,g=this.shouldFlipXY(),m=d.range,b=p.range,v=(k,O,_)=>k[0]+(_-O[0])/(O[1]-O[0])*(k[1]-k[0]),S=v(m,d.visibleRange,i[0]),A=v(m,d.visibleRange,i[1]),D=v(b,p.visibleRange,g?n[0]:n[1]),L=v(b,p.visibleRange,g?n[1]:n[0]),C=Math.round((i[0]+(i[1]-i[0])/2)*c.length),N=0;return ZI(0,c.length-1,C,s,k=>{let[O,_]=this.xCoordinateRange(c[k],N,k),[j,z]=this.yCoordinateRange(h.map(B=>B[k]),N,k);return!Wt(O)||!Wt(_)||!Wt(j)||!Wt(z)?!1:(g&&([O,_,j,z]=[j,z,O,_]),O>=S&&_<=A&&j>=D&&z<=L)})}updateHighlightSelectionItem(t){const{opts:{hasMarkers:e}}=this,{items:i,highlightSelection:n}=t,s=i??[];if(e){const r=n;return this.updateMarkerSelection({nodeData:s,markerSelection:r})}else return this.updateDatumSelection({nodeData:s,datumSelection:n})}updateHighlightSelectionLabel(t){return this.updateLabelSelection({labelData:t.items??[],labelSelection:t.highlightLabelSelection})}updateDatumSelection(t){return t.datumSelection}updateDatumNodes(t){}updateMarkerSelection(t){return t.markerSelection}updateMarkerNodes(t){}updatePaths(t){t.paths.forEach(e=>e.visible=!1)}updatePathNodes(t){const{paths:e,opacity:i,visible:n}=t;for(const s of e)s.opacity=i,s.visible=n}resetPathAnimation(t){var i;const{path:e}=((i=this.opts)==null?void 0:i.animationResetFns)??{};e&&t.paths.forEach(n=>{fi([n],e)})}resetDatumAnimation(t){var i;const{datum:e}=((i=this.opts)==null?void 0:i.animationResetFns)??{};e&&fi([t.datumSelection],e)}resetLabelAnimation(t){var i;const{label:e}=((i=this.opts)==null?void 0:i.animationResetFns)??{};e&&fi([t.labelSelection],e)}resetMarkerAnimation(t){var i;const{marker:e}=((i=this.opts)==null?void 0:i.animationResetFns)??{};e&&this.opts.hasMarkers&&fi([t.markerSelection],e)}resetAllAnimation(t){var e;this.ctx.animationManager.stopByAnimationGroupId(this.id),this.resetPathAnimation(t),this.resetDatumAnimation(t),this.resetLabelAnimation(t),this.resetMarkerAnimation(t),((e=t.contextData)==null?void 0:e.animationValid)===!1&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateWaitingUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateReadyHighlight(t){var i;const{datum:e}=((i=this.opts)==null?void 0:i.animationResetFns)??{};e&&fi([t],e)}animateReadyHighlightMarkers(t){var i;const{marker:e}=((i=this.opts)==null?void 0:i.animationResetFns)??{};e&&fi([t],e)}animateReadyResize(t){this.resetAllAnimation(t)}animateClearingUpdateEmpty(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}getAnimationData(t,e){const{_contextNodeData:i}=this;return i?{datumSelection:this.datumSelection,markerSelection:this.markerSelection,labelSelection:this.labelSelection,annotationSelections:[...this.annotationSelections],contextData:i,previousContextData:e,paths:this.paths,seriesRect:t}:void 0}updateLabelSelection(t){return t.labelSelection}getScaling(t){if(t instanceof Ob){const{range:e,domain:i}=t;return{type:"log",convert:n=>t.convert(n),domain:[i[0],i[1]],range:[e[0],e[1]]}}else if(t instanceof te){const{range:e,domain:i}=t;return{type:"continuous",domain:[i[0],i[1]],range:[e[0],e[1]]}}else if(t instanceof ah){const{domain:e}=t;return{type:"category",domain:e,inset:t.inset,step:t.step}}}calculateScaling(){const t={};for(const e of Object.values(nb)){const i=this.axes[e];if(!i)continue;const n=this.getScaling(i.scale);n!=null&&(t[e]=n)}return t}};function Cz(t){let e,i;if(t instanceof Ar&&(Number.isFinite(t.min)||Number.isFinite(t.max))?(e=Number.isFinite(t.min)?t.min:void 0,i=Number.isFinite(t.max)?t.max:void 0):t instanceof Eo&&(t.min!=null||t.max!=null)&&({min:e,max:i}=t),!(e==null&&i==null))return e??(e=-1/0),i??(i=1/0),[e,i]}function Ez(t,e,i){const n=e[0].valueOf(),s=e[1].valueOf(),r=VL(0,t-1,c=>{var d;const h=(d=i(c))==null?void 0:d.valueOf();return!Number.isFinite(h)||h>=n});let l=YL(0,t-1,c=>{var d;const h=(d=i(c))==null?void 0:d.valueOf();return!Number.isFinite(h)||h<=s});return r==null||l==null?[0,0]:(l=Math.min(l+1,t),[r,l])}var kz=["top","right","bottom","left"],Ep=class AN extends Np{constructor(e,i){super(e,i),this.paired=!0,this.lastUpdateClipRect=void 0,this.lastLayoutWidth=NaN,this.lastLayoutHeight=NaN}onAxisChange(e,i){super.onAxisChange(e,i),this.ctx!=null&&this.ctx.zoomManager.updateAxes(e)}destroySeries(e){super.destroySeries(e),this.lastLayoutWidth=NaN,this.lastLayoutHeight=NaN}getChartType(){return"cartesian"}setRootClipRects(e){const{seriesRoot:i,annotationRoot:n}=this;i.setClipRect(e),n.setClipRect(e)}async processData(){await super.processData();for(const e of this.axes){const i=this.getSyncedDomain(e);i!=null&&e.setDomains(i)}this.ctx.updateService.dispatchProcessData({series:{shouldFlipXY:this.shouldFlipXY()}})}performLayout(e){const{seriesRoot:i,annotationRoot:n}=this,{clipSeries:s,seriesRect:r,visible:l}=this.updateAxes(e.layoutBox);this.seriesRoot.visible=l,this.seriesRect=r,this.animationRect=e.layoutBox;const{x:c,y:h}=r;if(e.width!==this.lastLayoutWidth||e.height!==this.lastLayoutHeight)for(const m of[i,n])m.translationX=Math.floor(c),m.translationY=Math.floor(h);else{const{translationX:m,translationY:b}=i;xa(this.id,"seriesRect",this.ctx.animationManager,[i,n],{translationX:m,translationY:b},{translationX:Math.floor(c),translationY:Math.floor(h)},{phase:"update"})}this.lastLayoutWidth=e.width,this.lastLayoutHeight=e.height;const d=r.clone().grow(this.seriesArea.padding),p=this.seriesArea.clip||s?d:void 0,{lastUpdateClipRect:g}=this;this.lastUpdateClipRect=p,this.ctx.animationManager.isActive()&&g!=null?this.ctx.animationManager.animate({id:this.id,groupId:"clip-rect",phase:"update",from:g,to:d,onUpdate:m=>this.setRootClipRects(m),onComplete:()=>this.setRootClipRects(p)}):this.setRootClipRects(p),this.ctx.layoutManager.emitLayoutComplete(e,{axes:this.axes.map(m=>m.getLayoutState()),series:{visible:l,rect:r,paddedRect:d},clipSeries:s})}updateAxes(e){const{clipSeries:i,seriesRect:n,overflows:s}=this.resolveAxesLayout(e);for(const r of this.axes)r.update(),r.setCrossLinesVisible(!s),this.clipAxis(r,n,e);return{clipSeries:i,seriesRect:n,visible:!s}}resolveAxesLayout(e){let i,n,s=0;const r=10;do if(n=i??this.getDefaultState(),i=this.updateAxesPass(new Map(n.axisAreaWidths),e.clone()),s++>r){ot.warn("Max iterations reached. Unable to stabilize axes layout.");break}while(!this.isLayoutStable(i,n));return this.lastAreaWidths=i.axisAreaWidths,i}updateAxesPass(e,i){const n=new Map,s={};let r=!1,l=!1;for(const D of kz){const L=this.seriesArea.padding[D],C=this.axes.findLast(N=>N.position===D);C?C.seriesAreaPadding=L:i.shrink(L,D)}const c=(e.get("left")??0)+(e.get("right")??0),h=(e.get("top")??0)+(e.get("bottom")??0),d=this.buildCrossLinePadding(e);i.width<=c+d.hPadding||i.height<=h+d.vPadding?r=!0:i.shrink(d);const p=i.clone().shrink(Object.fromEntries(e));for(const D of this.axes){const{position:L="left",direction:C}=D;this.sizeAxis(D,p,L);const N=C==="y",{primaryTickCount:k,bbox:O}=D.calculateLayout(D.nice?s[C]:void 0);s[C]??(s[C]=k),l||(l=D.dataDomain.clipped||D.visibleRange[0]>0||D.visibleRange[1]<1),n.set(D.id,Math.ceil(D.thickness??(N?O==null?void 0:O.width:O==null?void 0:O.height)??0))}const g=Object.entries(j0(this.axes,D=>D.position??"left")),{width:m,height:b,pixelRatio:v}=this.ctx.scene,S=new Map,A=new Map;for(const[D,L]of g){let N=D==="left"||D==="right"?b%v:m%v,k=0;for(const O of L){A.set(O.id,N);const _=n.get(O.id)??0;k=Math.max(k,N+_),O.layoutConstraints.stacked&&(N+=_+AN.AxesPadding)}S.set(D,Math.ceil(k))}for(const[D,L]of g)this.positionAxes({axes:L,position:D,axisWidths:n,axisOffsets:A,axisAreaWidths:S,axisBound:i,seriesRect:p});return{clipSeries:l,seriesRect:p,axisAreaWidths:S,overflows:r}}buildCrossLinePadding(e){const i={top:0,right:0,bottom:0,left:0,hPadding:0,vPadding:0};this.axes.forEach(n=>{var s;(s=n.crossLines)==null||s.forEach(r=>{var l;(l=r.calculatePadding)==null||l.call(r,i)})});for(const[n,s=0]of Object.entries(i))i[n]=Math.max(s-(e.get(n)??0),0);return i.hPadding=i.left+i.right,i.vPadding=i.top+i.bottom,i}clampToOutsideSeriesRect(e,i,n,s){const r=n==="x"?e.x:e.y,l=n==="x"?e.width:e.height;return s===1?Math.min(i,r+l):Math.max(i,r)}getSyncedDomain(e){const i=this.modulesManager.getModule("sync");if(!(i!=null&&i.enabled))return;const n=i.getSyncedDomain(e);if(n&&e.dataDomain.domain.length){let s;const{domain:r}=e.scale;if(te.is(e.scale)){const[l,c]=gi(n);s=l!==r[0]||c!==r[1]}else s=!Cs(n,r);s&&!this.skipSync&&i.updateSiblings()}return n}sizeAxis(e,i,n){const s=e instanceof Zl,r=n==="left"||n==="right",{width:l,height:c}=i,h=r?c:l;let d=0,p=h,{min:g,max:m}=this.ctx.zoomManager.getAxisZoom(e.id);const{width:b,unit:v,align:S}=e.layoutConstraints;v==="px"?p=d+b:p=p*b/100,S==="end"&&(d=h-(p-d),p=h),r&&(s?[g,m]=[1-m,1-g]:[d,p]=[p,d]),e.range=[d,p],e.visibleRange=[g,m],e.gridLength=r?l:c}positionAxes(e){const{axes:i,axisBound:n,axisWidths:s,axisOffsets:r,axisAreaWidths:l,seriesRect:c,position:h}=e,d=l.get(h)??0;let p="x",g="y",m=1;(h==="top"||h==="bottom")&&(p="y",g="x");let b=n[p];(h==="right"||h==="bottom")&&(m=-1,b+=p==="x"?n.width:n.height);for(const v of i){const S=l.get(g==="x"?"left":"top")??0,A=s.get(v.id)??0,D=r.get(v.id)??0;v.gridPadding=d-D-A,v.translation[g]=n[g]+S,v.translation[p]=this.clampToOutsideSeriesRect(c,b+m*(D+A),p,m)}}shouldFlipXY(){return this.series.every(e=>e instanceof Lr&&e.shouldFlipXY())}getDefaultState(){const e=new Map;if(this.lastAreaWidths)for(const{position:i="left"}of this.axes){const n=this.lastAreaWidths.get(i);n!=null&&e.set(i,n)}return{axisAreaWidths:e,clipSeries:!1,overflows:!1}}isLayoutStable(e,i){if(i.overflows!==e.overflows||i.clipSeries!==e.clipSeries)return!1;for(const n of e.axisAreaWidths.keys())if(!i.axisAreaWidths.has(n))return!1;for(const[n,s]of i.axisAreaWidths.entries()){const r=e.axisAreaWidths.get(n);if((s!=null||r!=null)&&s!==r)return!1}return!0}clipAxis(e,i,n){var h,d;const s=Math.ceil(((h=e.gridLine)==null?void 0:h.width)??0),r=Math.ceil(((d=e.line)==null?void 0:d.width)??0);let{width:l,height:c}=i;switch(l+=e.direction==="x"?s:r,c+=e.direction==="y"?s:r,e.clipGrid(i.x,i.y,l,c),e.position){case"left":case"right":e.clipTickLines(n.x,i.y-s,n.width+s,i.height+s*2);break;case"top":case"bottom":e.clipTickLines(i.x-s,n.y,i.width+s*2,n.height+s);const{label:p,labelNodes:g,scale:m}=e;if(te.is(m)&&p.enabled&&p.avoidCollisions&&g.length>1){const b=g.toSorted((D,L)=>D.translationY-L.translationY),v=b.at(-1),S=v.getBBox(),A=i.x+S.y+S.height<=n.x+n.width+this.padding.right;if(v.visible=A,A||e.visibleRange[0]>0||e.visibleRange[1]<1)b[0].visible=!0;else{const D=b[0].getBBox();b[0].visible=D.y>=0}}break}}};Ep.className="CartesianChart";Ep.type="cartesian";Ep.AxesPadding=15;var wz=Ep,Oz={type:"chart",name:"cartesian",detect:Eb,create(t,e){return new wz(t,e)}},KA=ce.create(!0,"opts"),Eu=class{constructor(e,i,n){this.factoryApi=i,this.licenseManager=n,this.chart=e}async update(e){return KA.group("AgChartInstance.update()",async()=>{this.factoryApi.update(e,this),await this.chart.waitForUpdate()})}async updateDelta(e){return KA.group("AgChartInstance.updateDelta()",async()=>{this.factoryApi.updateUserDelta(this,e),await this.chart.waitForUpdate()})}getOptions(){const e=Xe(this.chart.getOptions());for(const i of Object.keys(e))i.startsWith("_")&&delete e[i];return e}waitForUpdate(){return this.chart.waitForUpdate()}async download(e){const i=await this.prepareResizedChart(this,e);try{i.chart.download(e==null?void 0:e.fileName,e==null?void 0:e.fileFormat)}finally{i.destroy()}}async __toSVG(e){const i=await this.prepareResizedChart(this,{width:600,height:300,...e});try{return i.chart.toSVG()}finally{i.destroy()}}async getImageDataURL(e){const i=await this.prepareResizedChart(this,e);try{return i.chart.getCanvasDataURL(e==null?void 0:e.fileFormat)}finally{i.destroy()}}getState(){return this.factoryApi.caretaker.save(...this.getEnabledOriginators())}async setState(e){const i=this.getEnabledOriginators();if(!i.includes(this.chart.ctx.legendManager)){await this.setStateOriginators(e,i);return}await this.setStateOriginators(e,i.filter(n=>n!==this.chart.ctx.zoomManager)),await this.setStateOriginators(e,[this.chart.ctx.zoomManager])}resetAnimations(){this.chart.resetAnimations()}skipAnimations(){this.chart.skipAnimations()}destroy(){this.releaseChart?(this.releaseChart(),this.releaseChart=void 0):this.chart&&(this.chart.publicApi=void 0,this.chart.destroy()),this.chart=null}async prepareResizedChart(e,i={}){var v,S;const{chart:n}=e,s=i.width??n.width??n.ctx.scene.canvas.width,r=i.height??n.height??n.ctx.scene.canvas.height,l=e.getState(),c=ks.hasEnterpriseModules(),h={...n.chartOptions.processedOverrides,container:document.createElement("div"),width:s,height:r};i.width!=null&&i.height!=null&&(h.overrideDevicePixelRatio=1);const d=n.getOptions();c&&(h.animation={enabled:!1},(v=this.licenseManager)!=null&&v.isDisplayWatermark()&&(h.foreground={text:this.licenseManager.getWatermarkMessage(),image:{url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU4IiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgMjU4IDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMjUuNzc5IDI4LjY1N0gxMy4zNTlMMTEuMTczIDM0LjAxMkg1LjY3Mjk3TDE3LjE4MiA3LjA1OTk5SDIxLjk1M0wzMy40NjIgMzQuMDEySDI3Ljk2MkwyNS43NzYgMjguNjU3SDI1Ljc3OVpNMjQuMDY4IDI0LjM5N0wxOS41ODggMTMuNDM0TDE1LjEwNyAyNC4zOTdIMjQuMDY4Wk02Mi4wOTIgMTguODIzSDQ5LjgxN1YyMy4wODZINTYuNzc1QzU2LjU1NSAyNS4yMjIgNTUuNzU1IDI2LjkyNyA1NC4zNzIgMjguMjAyQzUyLjk4OSAyOS40NzYgNTEuMTY2IDMwLjExNSA0OC45MDkgMzAuMTE1QzQ3LjYyMiAzMC4xMTUgNDYuNDUgMjkuODg1IDQ1LjM5MyAyOS40MjNDNDQuMzU4MyAyOC45NzgxIDQzLjQzMjYgMjguMzEzOCA0Mi42OCAyNy40NzZDNDEuOTI3IDI2LjYzOSA0MS4zNDQgMjUuNjMxIDQwLjkzMSAyNC40NTNDNDAuNTE5IDIzLjI3NSA0MC4zMTEgMjEuOTcgNDAuMzExIDIwLjUzN0M0MC4zMTEgMTkuMTA1IDQwLjUxNiAxNy44IDQwLjkzMSAxNi42MjFDNDEuMzQ0IDE1LjQ0MyA0MS45MjcgMTQuNDM2IDQyLjY4IDEzLjU5OEM0My40Mzc2IDEyLjc1NzcgNDQuMzY5NiAxMi4wOTMyIDQ1LjQxMSAxMS42NTFDNDYuNDc4IDExLjE4OSA0Ny42NTYgMTAuOTYgNDguOTQ2IDEwLjk2QzUxLjYxMiAxMC45NiA1My42MzcgMTEuNjAyIDU1LjAyIDEyLjg4NUw1OC4zIDkuNjA0OTlDNTUuODE3IDcuNjY5OTkgNTIuNjc2IDYuNjk5OTkgNDguODcyIDYuNjk5OTlDNDYuNzYgNi42OTk5OSA0NC44NTMgNy4wMzQ5OSA0My4xNTQgNy43MDA5OUM0MS40NTUgOC4zNjc5OSAzOS45OTggOS4zMDM5OSAzOC43ODMgMTAuNTA0QzM3LjU2NyAxMS43MDcgMzYuNjM0IDEzLjE1OCAzNS45NzcgMTQuODU3QzM1LjMxOSAxNi41NTYgMzQuOTk0IDE4LjQ1MSAzNC45OTQgMjAuNTRDMzQuOTk0IDIyLjYzIDM1LjMyOSAyNC40OTQgMzUuOTk1IDI2LjIwNUMzNi42NjIgMjcuOTE2IDM3LjYwNSAyOS4zNzQgMzguODE3IDMwLjU3N0M0MC4wMzIgMzEuNzggNDEuNDg2IDMyLjcxMyA0My4xODggMzMuMzgzQzQ0Ljg4OCAzNC4wNDkgNDYuNzgyIDM0LjM4NCA0OC44NzIgMzQuMzg0QzUwLjk2MSAzNC4zODQgNTIuNzUgMzQuMDQ5IDU0LjM5IDMzLjM4M0M1Ni4wMzEgMzIuNzE2IDU3LjQyNiAzMS43OCA1OC41NzkgMzAuNTc3QzU5LjczMyAyOS4zNzQgNjAuNjE5IDI3LjkxNiA2MS4yMzkgMjYuMjA1QzYxLjg2IDI0LjQ5NCA2Mi4xNyAyMi42MDUgNjIuMTcgMjAuNTRDNjIuMTY5NiAxOS45Njg4IDYyLjE0NDUgMTkuMzk4IDYyLjA5NSAxOC44MjlMNjIuMDkyIDE4LjgyM1pNMTUxLjgxIDE2Ljk4MUMxNTMuNDEgMTQuNjA5IDE1Ny40MTkgMTQuMzU4IDE1OS4wMjIgMTQuMzU4VjE4LjkxQzE1Ni45NTcgMTguOTEgMTU0Ljk4NSAxOC45OTYgMTUzLjc1NyAxOS44OTJDMTUyLjUyOSAyMC43OTIgMTUxLjkxOSAyMS45ODIgMTUxLjkxOSAyMy40NjRWMzMuOTlIMTQ2Ljk2NFYxNC4zNThIMTUxLjczNkwxNTEuODEgMTYuOTgxWk0xNDMuMDExIDE0LjM2MVYzNC4wMzFIMTM4LjI0TDEzOC4xMzEgMzEuMDQ1QzEzNy40NjYgMzIuMDc2IDEzNi41NTEgMzIuOTIxOSAxMzUuNDcxIDMzLjUwNEMxMzQuMzc2IDM0LjA5OSAxMzMuMDY4IDM0LjM5NiAxMzEuNTM2IDM0LjM5NkMxMzAuMiAzNC4zOTYgMTI4Ljk2MyAzNC4xNTIgMTI3LjgyMiAzMy42NjhDMTI2LjcgMzMuMTk2NCAxMjUuNjg5IDMyLjQ5NSAxMjQuODU1IDMxLjYwOUMxMjQuMDE4IDMwLjcyMiAxMjMuMzU0IDI5LjY2MiAxMjIuODcxIDI4LjQyMkMxMjIuMzg0IDI3LjE4NSAxMjIuMTQyIDI1LjgxMSAxMjIuMTQyIDI0LjMwNEMxMjIuMTQyIDIyLjc5OCAxMjIuMzg0IDIxLjM3OCAxMjIuODcxIDIwLjExNkMxMjMuMzU3IDE4Ljg1NCAxMjQuMDE4IDE3Ljc3MiAxMjQuODU1IDE2Ljg3M0MxMjUuNjg4IDE1Ljk3NjQgMTI2LjY5OCAxNS4yNjM2IDEyNy44MjIgMTQuNzhDMTI4Ljk2MyAxNC4yODEgMTMwLjIwMyAxNC4wMzMgMTMxLjUzNiAxNC4wMzNDMTMzLjA0MyAxNC4wMzMgMTM0LjMzIDE0LjMxOCAxMzUuMzk3IDE0Ljg4OEMxMzYuNDYyIDE1LjQ1ODkgMTM3LjM3NSAxNi4yNzggMTM4LjA1NyAxNy4yNzZWMTQuMzYxSDE0My4wMTFaTTEzMi42MzEgMzAuMTMzQzEzNC4yNTYgMzAuMTMzIDEzNS41NjcgMjkuNTk0IDEzNi41NjUgMjguNTEyQzEzNy41NjEgMjcuNDMgMTM4LjA2IDI1Ljk5MSAxMzguMDYgMjQuMTk2QzEzOC4wNiAyMi40MDEgMTM3LjU2MSAyMC45OSAxMzYuNTY1IDE5Ljg5OUMxMzUuNTcgMTguODA3IDEzNC4yNTkgMTguMjU4IDEzMi42MzEgMTguMjU4QzEzMS4wMDMgMTguMjU4IDEyOS43MjkgMTguODA0IDEyOC43MzQgMTkuODk5QzEyNy43MzggMjAuOTkzIDEyNy4yMzkgMjIuNDM4IDEyNy4yMzkgMjQuMjMzQzEyNy4yMzkgMjYuMDI4IDEyNy43MzUgMjcuNDMzIDEyOC43MzQgMjguNTE1QzEyOS43MjkgMjkuNTk0IDEzMS4wMjggMzAuMTM2IDEzMi42MzEgMzAuMTM2VjMwLjEzM1pNOTMuNjk4IDI3Ljg3NkM5My41Nzk1IDI4LjAwMjUgOTMuNDU2NCAyOC4xMjQ2IDkzLjMyOSAyOC4yNDJDOTEuOTQ3IDI5LjUxNiA5MC4xMjMgMzAuMTU1IDg3Ljg2NiAzMC4xNTVDODYuNTggMzAuMTU1IDg1LjQwOCAyOS45MjYgODQuMzUgMjkuNDY0QzgzLjMxNTUgMjkuMDE4OSA4Mi4zODk4IDI4LjM1NDYgODEuNjM3IDI3LjUxN0M4MC44ODQgMjYuNjc5IDgwLjMwMSAyNS42NzIgNzkuODg5IDI0LjQ5NEM3OS40NzYgMjMuMzE1IDc5LjI2OSAyMi4wMSA3OS4yNjkgMjAuNTc4Qzc5LjI2OSAxOS4xNDUgNzkuNDczIDE3Ljg0IDc5Ljg4OSAxNi42NjJDODAuMzAxIDE1LjQ4NCA4MC44ODQgMTQuNDc2IDgxLjYzNyAxMy42MzlDODIuMzk0OSAxMi43OTg3IDgzLjMyNzMgMTIuMTM0MiA4NC4zNjkgMTEuNjkyQzg1LjQzNiAxMS4yMyA4Ni42MTQgMTEgODcuOTAzIDExQzkwLjU3IDExIDkyLjU5NSAxMS42NDIgOTMuOTc3IDEyLjkyNkw5Ny4yNTggOS42NDQ5OUM5NC43NzQgNy43MTA5OSA5MS42MzMgNi43Mzk5OSA4Ny44MjkgNi43Mzk5OUM4NS43MTggNi43Mzk5OSA4My44MTEgNy4wNzQ5OSA4Mi4xMTIgNy43NDE5OUM4MC40MTMgOC40MDc5OSA3OC45NTYgOS4zNDQ5OSA3Ny43NCAxMC41NDVDNzYuNTI1IDExLjc0NyA3NS41OTIgMTMuMTk5IDc0LjkzNCAxNC44OThDNzQuMjc3IDE2LjU5NyA3My45NTEgMTguNDkxIDczLjk1MSAyMC41ODFDNzMuOTUxIDIyLjY3IDc0LjI4NiAyNC41MzQgNzQuOTUzIDI2LjI0NUM3NS42MTkgMjcuOTU3IDc2LjU2MiAyOS40MTQgNzcuNzc0IDMwLjYxN0M3OC45OSAzMS44MiA4MC40NDQgMzIuNzUzIDgyLjE0NiAzMy40MjNDODMuODQ1IDM0LjA5IDg1LjczOSAzNC40MjQgODcuODI5IDM0LjQyNEM4OS45MTkgMzQuNDI0IDkxLjcwOCAzNC4wOSA5My4zNDggMzMuNDIzQzk0LjcxOCAzMi44NjUgOTUuOTE4IDMyLjEyMSA5Ni45NDggMzEuMTkxQzk3LjE0OSAzMS4wMDggOTcuMzQ4IDMwLjgxNSA5Ny41MzcgMzAuNjJMOTMuNzAxIDI3Ljg4NUw5My42OTggMjcuODc2Wk0xMTAuODAyIDE0LjAxNUMxMDkuMTk5IDE0LjAxNSAxMDYuODM2IDE0LjQ3MSAxMDUuNjExIDE2LjE1OEwxMDUuNTM3IDYuMDE1OTlIMTAwLjc2NVYzMy45MzlIMTA1LjcyVjIyLjY0MUMxMDUuNzcxIDIxLjQ2MDcgMTA2LjI4OCAyMC4zNDg4IDEwNy4xNTcgMTkuNTQ4OUMxMDguMDI3IDE4Ljc0OTEgMTA5LjE3OCAxOC4zMjY2IDExMC4zNTggMTguMzc0QzExMy4zOTcgMTguMzc0IDExNC4yNjggMjEuMTU5IDExNC4yNjggMjIuNjQxVjMzLjkzOUgxMTkuMjIzVjIxLjA1OUMxMTkuMjIzIDIxLjA1OSAxMTkuMTQyIDE0LjAxNSAxMTAuODAyIDE0LjAxNVpNMTczLjc2MyAxNC4zNThIMTY5Ljk5OVY4LjcxNDk5SDE2NS4wNDhWMTQuMzU4SDE2MS4yODRWMTguOTE2SDE2NS4wNDhWMzQuMDAzSDE2OS45OTlWMTguOTE2SDE3My43NjNWMTQuMzU4Wk0xOTAuNzg3IDI1LjI2MkMxOTAuMTI5IDI0LjUwMTQgMTg5LjMwNyAyMy44OTk0IDE4OC4zODQgMjMuNTAxQzE4Ny40ODggMjMuMTE3IDE4Ni4zMzEgMjIuNzMyIDE4NC45NDggMjIuMzY0QzE4NC4xNjUgMjIuMTQzOSAxODMuMzkgMjEuODk3OCAxODIuNjIzIDIxLjYyNkMxODIuMTYzIDIxLjQ2MjEgMTgxLjc0MSAyMS4yMDY2IDE4MS4zODMgMjAuODc1QzE4MS4yMzUgMjAuNzQyMSAxODEuMTE4IDIwLjU3ODkgMTgxLjAzOSAyMC4zOTY0QzE4MC45NjEgMjAuMjE0IDE4MC45MjIgMjAuMDE2NiAxODAuOTI3IDE5LjgxOEMxODAuOTI3IDE5LjI3MiAxODEuMTU2IDE4Ljg0NCAxODEuNjI1IDE4LjUxQzE4Mi4xMjEgMTguMTU2IDE4Mi44NjIgMTcuOTc2IDE4My44MjYgMTcuOTc2QzE4NC43OSAxNy45NzYgMTg1LjU4NyAxOC4yMDkgMTg2LjE0OCAxOC42NjhDMTg2LjcwNiAxOS4xMjQgMTg3LjAwNyAxOS43MjUgMTg3LjA3MiAyMC41TDE4Ny4wOTQgMjAuNzgySDE5MS42MzNMMTkxLjYxNyAyMC40NkMxOTEuNTIxIDE4LjQ4NSAxOTAuNzcxIDE2LjkgMTg5LjM4NSAxNS43NUMxODguMDEyIDE0LjYxMiAxODYuMTg1IDE0LjAzMyAxODMuOTYyIDE0LjAzM0MxODIuNDc3IDE0LjAzMyAxODEuMTQxIDE0LjI4NyAxNzkuOTk0IDE0Ljc4NkMxNzguODMxIDE1LjI5MSAxNzcuOTI2IDE1Ljk5NSAxNzcuMjk2IDE2Ljg4MkMxNzYuNjczIDE3Ljc0NTUgMTc2LjMzOCAxOC43ODQgMTc2LjM0MSAxOS44NDlDMTc2LjM0MSAyMS4xNjcgMTc2LjY5OCAyMi4yNDkgMTc3LjM5OSAyMy4wNjRDMTc4LjA2IDIzLjg0MzIgMTc4Ljg5OCAyNC40NTM0IDE3OS44NDIgMjQuODQ0QzE4MC43NDQgMjUuMjE2IDE4MS45MjggMjUuNjA3IDE4My4zNjEgMjZDMTg0LjgwNiAyNi40MSAxODUuODcyIDI2Ljc4NSAxODYuNTMgMjcuMTIzQzE4Ny4xIDI3LjQxNCAxODcuMzc5IDI3Ljg0NSAxODcuMzc5IDI4LjQ0NEMxODcuMzc5IDI5LjA0MiAxODcuMTIyIDI5LjQ2NyAxODYuNTk1IDI5LjgzOUMxODYuMDQzIDMwLjIyNiAxODUuMjM3IDMwLjQyNSAxODQuMjAxIDMwLjQyNUMxODMuMTY2IDMwLjQyNSAxODIuMzk0IDMwLjE3NCAxODEuNzQ5IDI5LjY3NEMxODEuMTEzIDI5LjE4MSAxODAuNzcyIDI4LjU4OSAxODAuNzEgMjcuODY0TDE4MC42ODUgMjcuNTgySDE3Ni4wMTNMMTc2LjAyNSAyNy45MDFDMTc2LjA2NyAyOS4wOTU1IDE3Ni40NzIgMzAuMjQ4NyAxNzcuMTg4IDMxLjIwNkMxNzcuOTA3IDMyLjE4IDE3OC44OTMgMzIuOTU4IDE4MC4xMTggMzMuNTE5QzE4MS4zMzYgMzQuMDc3IDE4Mi43MzIgMzQuMzYyIDE4NC4yNjYgMzQuMzYyQzE4NS44MDEgMzQuMzYyIDE4Ny4xMDkgMzQuMTA4IDE4OC4yMzggMzMuNjA5QzE4OS4zNzYgMzMuMTA0IDE5MC4yNzIgMzIuMzk0IDE5MC45MDEgMzEuNDk0QzE5MS41MzQgMzAuNTkyIDE5MS44NTMgMjkuNTU0IDE5MS44NTMgMjguNDAzQzE5MS44MjggMjcuMTEgMTkxLjQ2NiAyNi4wNTMgMTkwLjc3NyAyNS4yNjJIMTkwLjc4N1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTI0MS45ODIgMjUuNjU4MlYxNy43MTE3SDIyOC40NDFMMjIwLjQ5NCAyNS42NTgySDI0MS45ODJaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNTcuMjM5IDUuOTUwODFIMjQwLjI2NUwyMzIuMjU1IDEzLjg5NzNIMjU3LjIzOVY1Ljk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjEyLjYxMSAzMy42MDQ4TDIxNi42OCAyOS41MzYxSDIzMC40MTJWMzcuNDgyN0gyMTIuNjExVjMzLjYwNDhaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yMTUuNTk5IDIxLjc4MDNIMjI0LjM3MkwyMzIuMzgyIDEzLjgzMzdIMjE1LjU5OVYyMS43ODAzWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjA2IDMzLjYwNDdIMjEyLjYxMUwyMjAuNDk0IDI1LjY1ODJIMjA2VjMzLjYwNDdaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNDAuMjY1IDUuOTUwODFMMjM2LjE5NyAxMC4wMTk0SDIxMC4yNTlWMi4wNzI4OEgyNDAuMjY1VjUuOTUwODFaIiBmaWxsPSIjOUI5QjlCIi8+Cjwvc3ZnPgo=",width:170,height:25,right:25,bottom:50,opacity:.7}}));const p={...n.chartOptions.specialOverrides},g={...n.chartOptions.optionMetadata},m=this.factoryApi.create(d,h,p,g);await m.setState(l),m.chart.ctx.zoomManager.updateZoom("chartProxy",n.ctx.zoomManager.getZoom()),m.chart.ctx.legendManager.clearData(),m.chart.ctx.legendManager.update(n.ctx.legendManager.getData()),n.series.forEach((A,D)=>{A.visible||(m.chart.series[D].visible=!1)});const b=[];for(const A of n.modulesManager.legends())b.push(((S=A.legend.pagination)==null?void 0:S.currentPage)??0);for(const A of m.chart.modulesManager.legends()){const D=b.shift()??0;A.legend.pagination&&A.legend.pagination.setPage(D)}return m.chart.update(0,{forceNodeDataRefresh:!0}),await m.waitForUpdate(),m}getEnabledOriginators(){var d,p,g;const{chartOptions:{processedOptions:e,optionMetadata:i},ctx:{annotationManager:n,chartTypeOriginator:s,zoomManager:r,legendManager:l}}=this.chart,c=[];return"annotations"in e&&((d=e.annotations)!=null&&d.enabled)&&c.push(n),i.presetType==="price-volume"&&c.push(s),((p=e.navigator)!=null&&p.enabled||(g=e.zoom)!=null&&g.enabled)&&c.push(r),"legend"in this.chart&&c.push(l),c}async setStateOriginators(e,i){this.factoryApi.caretaker.restore(e,...i),this.chart.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),await this.chart.waitForUpdate()}};Eu.chartInstances=new WeakMap;M([ln({oldValue(t){t.destroyed||(t.publicApi=void 0),Eu.chartInstances.delete(t)},newValue(t){t&&(t.publicApi=this,Eu.chartInstances.set(t,this))}})],Eu.prototype,"chart",2);var ZA=Eu,Pb=class extends xp{constructor(t){super(),this.ctx=t,this.localeText=void 0}};M([vr(t=>{t.ctx.localeManager.setLocaleText(t.localeText)}),T(MT,{optional:!0})],Pb.prototype,"localeText",2);M([vr(t=>{t.ctx.localeManager.setLocaleTextFormatter(t.getLocaleText)}),T($i,{optional:!0})],Pb.prototype,"getLocaleText",2);var Rz={type:"root",optionsKey:"locale",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:t=>new Pb(t)},XA=class extends rh{getIndex(t){return super.getIndex(t)??this.getMatchIndex(t)}getMatchIndex(t){const e=JSON.stringify(t),i=this._domain.find(n=>JSON.stringify(n)===e);if(i!=null)return super.getIndex(i)}},pu=new WeakMap;function Gf(t,e){var n,s,r;const i=JSON.stringify(t,null,0);return pu.has(e)||pu.set(e,new Map),(n=pu.get(e))!=null&&n.has(i)||(s=pu.get(e))==null||s.set(i,e(t)),(r=pu.get(e))==null?void 0:r.get(i)}function Wi(t){const e=new Map,i=(...r)=>r.map(l=>typeof l=="object"||typeof l=="symbol"?l:(e.has(l)||e.set(l,{v:l}),e.get(l))),n={},s=new WeakMap;return(...r)=>{const l=r.length===0?[n]:i(...r);let c=s;for(const p of l.slice(0,-1))c.has(p)||c.set(p,new WeakMap),c=c.get(p);const h=l.at(-1);let d=c.get(h);return d||(d=t(...r),c.set(h,d)),d}}function kp(t,e=[0,0]){for(const i of t)typeof i=="number"&&(i<0&&(e[0]+=i),i>0&&(e[1]+=i));return e}function jz(t,e){return{id:t,matchGroupIds:[e],type:"aggregate",aggregateFunction:n=>kp(n)}}function LN(t,e){return{id:t,type:"aggregate",matchGroupIds:e?[e]:void 0,aggregateFunction:i=>kp(i),groupAggregateFunction:(i,n=[0,0])=>(n[0]+=(i==null?void 0:i[0])??0,n[1]+=(i==null?void 0:i[1])??0,n),round:!0}}function _z(t,e){return{id:t,matchGroupIds:[e],type:"aggregate",aggregateFunction:n=>sr.extendDomain(n)}}function m0(t){return{id:t,type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:(e,i=[0,0])=>(i[0]+=(e==null?void 0:e[0])??0,i[1]+=(e==null?void 0:e[1])??0,i)}}function TN(t,e){return{id:t,matchGroupIds:e?[e]:void 0,type:"aggregate",aggregateFunction:n=>kp(n),groupAggregateFunction:(n,s=[0,0,-1])=>(s[0]+=(n==null?void 0:n[0])??0,s[1]+=(n==null?void 0:n[1])??0,s[2]++,s),finalFunction:(n=[0,0,0])=>{const s=n[0]+n[1];return s>=0?[0,s/n[2]]:[s/n[2],0]},round:!0}}function y0(t,e,i){const n={id:t,matchGroupIds:i?[i]:void 0,type:"aggregate",aggregateFunction:(s,r=[])=>{const l=r[1]-r[0];return e.aggregateFunction(s).map(c=>c/l)},round:!0};return e.groupAggregateFunction&&(n.groupAggregateFunction=e.groupAggregateFunction),n}function IN(t){return()=>{let e=0;return i=>Wt(i)?(e+=t?Math.max(0,i):i,e):i}}function NN(){return()=>{let t=0;return e=>{if(!Wt(e))return e;const i=t;return t+=e,i}}}function CN(t){return t!=null&&mp(t)}function zz(t){return t!=null}function EN(t){switch(t){case"number":case"log":case"ordinal-time":case"time":case"color":return CN;default:return zz}}function kN(t){switch(t){case"number":case"log":case"time":case"color":return"range";default:return"category"}}function ps(t,e,i={}){return{property:t,type:"key",valueType:kN(e),validation:EN(e),...i}}function jt(t,e,i={}){return{property:t,type:"value",valueType:kN(e),validation:EN(e),...i}}function wN(t,e={}){return{property:t,type:"value",valueType:"range",missingValue:1,processor:()=>()=>1,...e}}function Bb(t,e={}){const{min:i=-1/0,max:n=1/0,...s}=e;return{type:"value",property:t,valueType:"range",validation:CN,processor:()=>r=>Wt(r)?Et(i,r,n):r,...s}}function Yu(t,e,i={}){const{onlyPositive:n,...s}=i;return{...jt(t,e,s),processor:IN(n)}}function Pz(t,e,i={}){return{...jt(t,e,i),processor:NN()}}function gr(t,e,i,n,s){return[jt(t,s,n),zN(n.groupId,e,i,n.separateNegative),...n.rangeId!=null?[_z(n.rangeId,n.groupId)]:[]]}function ON(t,e,i){return[jt(t,e,i),PN(i.groupId)]}var RN={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let t=NaN;return(e=1/0,i)=>{const n=typeof i[0]=="number"?i[0]:Number(i[0]),s=Math.abs(n-t);return t=n,!isNaN(s)&&s>0&&s<e?s:e}}},jN={type:"reducer",property:"largestKeyInterval",initialValue:-1/0,reducer:()=>{let t=NaN;return(e=-1/0,i)=>{const n=typeof i[0]=="number"?i[0]:Number(i[0]),s=Math.abs(n-t);return t=n,!isNaN(s)&&s>0&&s>e?s:e}}},_N={type:"processor",property:"sortedGroupDomain",calculate:({domain:{groups:t}})=>t==null?void 0:t.slice().sort((e,i)=>{for(let n=0;n<e.length;n++){const s=e[n]-i[n];if(s!==0)return s}return 0})};function Bz({normaliseTo:t}){const e=(i,n)=>{if(n===0)return null;const s=(i??0)*t/n;return s>=0?Math.min(t,s):Math.max(-t,s)};return()=>()=>(i,n,s)=>{const r=Fz(i,n,s);for(const l of n)for(const c of s.datumIndices[l]){const h=i[l],d=h[c];if(d==null){h[c]=void 0;continue}h[c]=typeof d=="number"?e(d,r):d.map(p=>e(p,r))}}}function Fz(t,e,i){const n=[0,0];for(const s of e){const r=t[s];for(const l of i.datumIndices[s]){const c=r[l];if(c==null)continue;const h=typeof c=="number"?c:Math.max(...c.map(p=>p??0)),d=h<0?0:1;d===0?n[d]=Math.min(n[d],h):n[d]=Math.max(n[d],h)}}return Math.max(Math.abs(n[0]),n[1])}function wp(t,e){return{type:"group-value-processor",matchGroupIds:t,adjust:Gf({normaliseTo:e},Bz)}}function Gz({normaliseTo:t,zeroDomain:e,rangeMin:i,rangeMax:n}){const s=t[1]-t[0],r=(l,c,h)=>{const d=t[0]+(l-c)/h*s;return h===0?e:d>=t[1]?t[1]:d<t[0]?t[0]:d};return()=>(l,c)=>{let[h,d]=l.domain.values[c];i!=null&&(h=i),n!=null&&(d=n);const p=d-h;l.domain.values[c]=[t[0],t[1]];const g=l.columns[c];for(let m=0;m<g.length;m+=1)g[m]=r(g[m],h,p)}}function bo(t,e,i,n,s){return{type:"property-value-processor",property:t,adjust:Gf({normaliseTo:e,rangeMin:n,rangeMax:s,zeroDomain:i},Gz)}}var b0=1,x0=2,$A=(t,e,i,n)=>{var l,c;let s=b0|x0;if(e.valueType==="category")return i.length!==t&&(s&=-2),s;let r=(l=n[0])==null?void 0:l.valueOf();for(let h=1;s!==0&&h<n.length;h++){const d=(c=n[h])==null?void 0:c.valueOf();(!Number.isFinite(d)||r>d)&&(s&=-3),Number.isFinite(d)&&r===d&&(s&=-2),r=d}return s};function Ql(t){return{type:"processor",property:"animationValidation",calculate(e){const{keys:i,values:n}=e.defs,{input:{count:s},domain:{keys:r,values:l},keys:c,columns:h}=e;let d=b0|x0;if(s!==0){for(let p=0;d!==0&&p<i.length;p++)for(const g of i[p].scopes)d&=$A(s,i[p],r[p],c[p].get(g));for(let p=0;d!==0&&p<n.length;p++){const g=n[p];t!=null&&t.includes(g.id)&&(d&=$A(s,g,l[p],h[p]))}}return{uniqueKeys:(d&b0)!==0,orderedKeys:(d&x0)!==0}}}}function Uz({mode:t,separateNegative:e}){return()=>()=>(i,n,s)=>{const r=[0,0];for(const l of n)for(const c of s.datumIndices[l]??[]){const h=i[l],d=h[c],p=ep(d)&&e?0:1;Wt(d)&&(t==="normal"&&(r[p]+=d),h[c]=r[p],t==="trailing"&&(r[p]+=d))}}}function Yz({mode:t,sum:e}){return()=>{const i=[];let n=!0;return()=>(s,r,l)=>{let c=0;for(const h of r){const d=s[h];for(const p of l.datumIndices[h]??[]){const g=d[p],m=n&&e==="current"?0:i[h];i[h]=g;const b=e==="current"?g:m;if(!Wt(g)||!Wt(m)){d[p]=c;continue}t==="normal"&&(c+=b),d[p]=c,t==="trailing"&&(c+=b)}}n=!1}}}function zN(t,e,i,n=!1){let s;if(e.startsWith("window")){const r=e.endsWith("-trailing")?"trailing":"normal";s=Gf({mode:r,sum:i},Yz)}else s=Gf({mode:e,separateNegative:n},Uz);return{type:"group-value-processor",matchGroupIds:[t],adjust:s}}function Vz(){return()=>(t,e,i)=>{const n=new Float64Array(e.length);let s=0;for(const r of e){const l=t[r];for(const c of i.datumIndices[r]??[]){const h=l[c];n[s]=Number.isFinite(h)?h:NaN,s+=1,l[c]=n.subarray(0,s)}}}}function PN(t){return{type:"group-value-processor",matchGroupIds:[t],adjust:Vz}}function qA(t){return t.id??t.property}function Hz(t,e,i){var c,h;const n=new Map,s=e.defs.values;for(let d=0;d<s.length;d+=1){const p=s[d];if(((c=p.scopes)==null?void 0:c.includes(t))===!1)continue;const g=qA(p);if(n.has(g))return;n.set(g,d)}const r=[],l=i.defs.values;for(let d=0;d<l.length;d+=1){const p=l[d];if(((h=p.scopes)==null?void 0:h.includes(t))===!1)continue;const g=qA(p),m=n.get(g);if(m==null)return;n.delete(g),r.push({previousIndex:m,nextIndex:d})}if(n.size===0)return r}function ky(t,e,i,n,s){for(const{previousIndex:r,nextIndex:l}of i){const c=t[r],h=e[l],d=c[n],p=h[s];if(d!==p)return!1}return!0}function Jl(t,e,i=!0){return{type:"processor",property:"diff",calculate(n,s){const r=new Map,l=new Map,c=new Map,h=new Map,d=e.keys,p=n.keys,g=e.columns,m=n.columns,b=Hz(t,e,n);if(b==null)return s;const v=Math.max(e.input.count,n.input.count);for(let D=0;D<v;D++){const L=D<e.input.count,C=D<n.input.count,N=L?_f(d,t,D):void 0,k=N!=null?Ye(N):"",O=C?_f(p,t,D):void 0,_=O!=null?Ye(O):"";if(C&&L&&k===_){ky(g,m,b,D,D)||c.set(_,D);continue}const j=h.get(_);j!=null?((i||!ky(g,m,b,j,D))&&(c.set(_,D),r.set(_,D)),h.delete(_)):C&&l.set(_,D);const z=l.get(k);z!=null?((i||!ky(g,m,b,z,D))&&(c.set(k,D),r.set(k,D)),l.delete(k)):L&&(c.delete(k),h.set(k,D))}const A={changed:l.size>0||c.size>0||h.size>0,added:new Set(l.keys()),updated:new Set(c.keys()),removed:new Set(h.keys()),moved:new Set(r.keys())};return{...s,[t]:A}}}}function Ye(t,...e){let i;return ge(t)?i=t.map(s=>s0(s)).join("___"):i=s0(t),(typeof i=="string"||typeof i=="number"||typeof i=="boolean"||i instanceof Date)&&e.length>0&&(i+=`___${e.join("___")}`),i}var Wz=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(t,e){t>this.right&&(this.right=t),t<this.left&&(this.left=t),e>this.bottom&&(this.bottom=e),e<this.top&&(this.top=e)}},Kz=class BN{constructor(e="",i,n){this.label=e,this.parent=i,this.refId=n,this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.index=0,this.screenX=0,this.depth=i?i.depth+1:0}insertTick(e,i){let n=this;for(let s=0;s<e.length;s++){const r=e[s],l=s!==e.length-1,{children:c}=n,h=c.find(d=>d.label===r);if(h&&l)n=h;else{const d=new BN(r,n,i);d.index=c.length,c.push(d),l&&(n=d)}}}getLeftSibling(){var e;return this.index>0?(e=this.parent)==null?void 0:e.children[this.index-1]:void 0}getLeftmostSibling(){var e;return this.index>0?(e=this.parent)==null?void 0:e.children[0]:void 0}nextLeft(){return this.children[0]}nextRight(){return this.children.at(-1)}getSiblings(){var e;return((e=this.parent)==null?void 0:e.children.filter((i,n)=>n!==this.index))??[]}};function Zz(t){const e=t.reduce((n,s)=>n<s.length?s.length:n,0),i=new Kz;for(let n=0;n<t.length;n++){const s=t[n];for(;s.length<e;)s.push("");i.insertTick(s,n)}return i}function Xz(t,e,i){const n=e.index-t.index,s=i/n;e.change-=s,e.shift+=i,t.change+=s,e.prelim+=i,e.mod+=i}function $z(t,e,i){return e.getSiblings().indexOf(t.ancestor)>=0?t.ancestor:i}function qz({children:t}){let e=0,i=0;for(let n=t.length-1;n>=0;n--){const s=t[n];s.prelim+=e,s.mod+=e,i+=s.change,e+=s.shift+i}}function Qz(t,e){const i=t.getLeftSibling();if(i){let n=t,s=t,r=i,l=s.getLeftmostSibling(),c=s.mod,h=n.mod,d=r.mod,p=l.mod;for(;r.nextRight()&&s.nextLeft();){r=r.nextRight(),s=s.nextLeft(),l=l.nextLeft(),n=n.nextRight(),n.ancestor=t;const g=r.prelim+d-(s.prelim+c)+1;g>0&&(Xz($z(r,t,e),t,g),c+=g,h+=g),d+=r.mod,c+=s.mod,p+=l.mod,h+=n.mod}r.nextRight()&&!n.nextRight()?n.mod+=d-h:(s.nextLeft()&&!l.nextLeft()&&(l.mod+=c-p),e=t)}return e}function FN(t){const{children:e}=t;if(e.length){let[i]=e;for(const r of e)FN(r),i=Qz(r,i);qz(t);const n=(e[0].prelim+e.at(-1).prelim)/2,s=t.getLeftSibling();s?(t.prelim=s.prelim+1,t.mod=t.prelim-n):t.prelim=n}else{const i=t.getLeftSibling();t.prelim=i?i.prelim+1:0}}function GN(t,e,i){t.x=t.prelim+e,t.y=t.depth,i.insertNode(t);for(const n of t.children)GN(n,e+t.mod,i)}function UN(t){const{children:e}=t;let i=0;for(const n of e)UN(n),n.children.length?i+=n.leafCount:i++;t.leafCount=i,e.length?(t.subtreeLeft=e[0].subtreeLeft,t.subtreeRight=e[e.length-1].subtreeRight,t.x=(t.subtreeLeft+t.subtreeRight)/2):(t.subtreeLeft=t.x,t.subtreeRight=t.x)}function Jz(t){const e=new t4,i=Zz(t);return FN(i),GN(i,-i.prelim,e),UN(i),e}var t4=class{constructor(){this.dimensions=new Wz,this.nodes=[],this.depth=0}insertNode(t){this.depth<t.depth&&(this.depth=t.depth),this.dimensions.update(t.x,t.y),this.nodes.push(t)}scalingX(t,e){let i=1;if(t>0){const{left:n,right:s}=this.dimensions;i=t/(s-n)}return e&&(i*=-1),i}},Ea=class extends Ct{constructor(){super(...arguments),this.enabled=!0}};M([T(At)],Ea.prototype,"enabled",2);M([T(At,{optional:!0})],Ea.prototype,"avoidCollisions",2);M([T($t,{optional:!0})],Ea.prototype,"color",2);M([T(ft,{optional:!0})],Ea.prototype,"spacing",2);M([T(Ma,{optional:!0})],Ea.prototype,"fontStyle",2);M([T(Sa,{optional:!0})],Ea.prototype,"fontWeight",2);M([T(Ut.restrict({min:1}),{optional:!0})],Ea.prototype,"fontSize",2);M([T(rt,{optional:!0})],Ea.prototype,"fontFamily",2);var Op=class extends Ct{constructor(){super(...arguments),this.enabled=!0}};M([T(At)],Op.prototype,"enabled",2);M([T(ft,{optional:!0})],Op.prototype,"width",2);M([T($t,{optional:!0})],Op.prototype,"stroke",2);var Fb=class extends Ct{constructor(){super(...arguments),this.label=new Ea,this.tick=new Op}};M([T(mt)],Fb.prototype,"label",2);M([T(mt)],Fb.prototype,"tick",2);var tc=class extends Zl{constructor(t){super(t,new XA),this.tickScale=new XA,this.depthOptions=new oh(Fb),this.includeInvisibleDomains=!0,this.tickScale.paddingInner=1,this.tickScale.paddingOuter=0}resizeTickTree(){if(!this.tickTreeLayout)return;const{nodes:t}=this.tickTreeLayout,{range:e,step:i,inset:n,bandwidth:s}=this.scale,r=Math.abs(e[1]-e[0])-i,l=this.tickTreeLayout.scalingX(r,e[0]>e[1]),c=n+s/2;let h=0;for(const d of t){const p=d.x*l;h>p&&(h=p),d.screenX=p+c}for(const d of t)d.screenX-=h}getDepthOptionsMap(t){var s,r,l,c;const e=[],{depthOptions:i,label:n}=this;for(let h=0;h<t;h++)e.push(((s=i[h])==null?void 0:s.label.enabled)??n.enabled?{enabled:!0,spacing:((r=i[h])==null?void 0:r.label.spacing)??n.spacing,lineHeight:Ae.getLineHeight(((l=i[h])==null?void 0:l.label.fontSize)??n.fontSize??10),avoidCollisions:((c=i[h])==null?void 0:c.label.avoidCollisions)??n.avoidCollisions}:{enabled:!1,spacing:0,lineHeight:0,avoidCollisions:!1});return e}updateCategoryLabels(){this.computedLayout&&this.tickLabelGroupSelection.update(this.computedLayout.tickLabelLayout).each((t,e)=>t.setProperties(e))}updateAxisLine(){this.computedLayout&&(this.lineNode.visible=this.line.enabled,this.lineNode.stroke=this.line.stroke,this.lineNode.strokeWidth=this.line.width)}computeLayout(){var St;if(this.updateDirection(),this.updateScale(),this.resizeTickTree(),!((St=this.tickTreeLayout)!=null&&St.depth))return{bbox:bt.zero,separatorLayout:[],tickLabelLayout:[]};const{step:t}=this.scale,{title:e,label:i,range:n,depthOptions:s}=this,{depth:r,nodes:l}=this.tickTreeLayout,c=Math.ceil(i.fontSize/t),h=qe(this.rotation),d=this.position==="top"||this.position==="bottom",p=i.getSideFlag(),g=[],m=new Map,b=new Pl,{defaultRotation:v,configuredRotation:S}=Cf({rotation:i.rotation,parallel:i.parallel,regularFlipRotation:fe(h-Math.PI/2),parallelFlipRotation:fe(h)}),A=v+S,D=this.getDepthOptionsMap(r),L=(W,lt)=>{var U,Q;const it=r-W.depth;if(!((U=D[it])!=null&&U.enabled)||lt%c!==0||!$L(W.screenX,n))return!1;const ut=this.formatTick(W.label,lt-1),w=this.getLabelStyles({value:ut,depth:it},(Q=s[it])==null?void 0:Q.label);return b.setProperties({...w,text:ut,textAlign:"center",textBaseline:i.parallel?"hanging":"bottom",rotation:0,translationX:0,translationY:W.screenX}),!0};let C=0;const N={};l.forEach((W,lt)=>{const it=r-W.depth,ut=Ww(W.label);if(N[it]??(N[it]=1),N[it]<ut&&(N[it]=ut),!(!L(W,lt)||!b.getBBox())&&(m.set(lt,b.getBBox()),!W.leafCount)){b.rotation=A;const{width:U}=b.getBBox();C<U&&(C=U)}});const k=db(),O=p*D[0].spacing,_=new Map,j=W=>{let lt=C;for(let it=1;it<=W;it++)lt+=D[it].spacing,(i.mirrored||it!==W)&&(lt+=N[it]*D[it].lineHeight);return lt};l.forEach((W,lt)=>{var Q;if(lt===0)return;const it=L(W,lt),ut=!W.children.length,w=r-W.depth;if(W.parent){const $=ut?W.x:W.x-(W.leafCount-1)/2;if(!_.has($)){const X=(Q=this.depthOptions[w])==null?void 0:Q.tick;let dt=C;for(let ct=0;ct<=w;ct++)dt+=D[ct].spacing,ct!==0&&(dt+=N[ct]*D[ct].lineHeight);_.set($,{tickSize:dt,tickStroke:X==null?void 0:X.stroke,tickWidth:(X==null?void 0:X.enabled)!==!1?X==null?void 0:X.width:0})}}if(!it)return;if(b.x=O,b.y=0,ut){const{width:$}=m.get(lt),X=RT(A);b.rotation=A,b.textAlign="end",b.textBaseline="middle",b.rotationCenterX=O-$/2,b.translationX=(D[w].spacing-$)/2*X*p,i.mirrored&&(b.translationX+=$)}else b.rotation=d?v:-Math.PI/2,b.rotationCenterX=O,b.translationX=p*j(w);if(D[w].avoidCollisions){const $=ut?t:W.leafCount*t;if(b.getBBox().height>$){m.delete(lt);return}}const{text:U=""}=b;g.push({text:U,visible:!0,range:this.scale.range,tickId:k(U),fill:b.fill,fontFamily:b.fontFamily,fontSize:b.fontSize,fontStyle:b.fontStyle,fontWeight:b.fontWeight,rotation:b.rotation,rotationCenterX:b.rotationCenterX,textAlign:b.textAlign,textBaseline:b.textBaseline,translationX:b.translationX,translationY:b.translationY,x:b.x,y:b.y}),m.set(lt,ke.toCanvas(b))});const{enabled:z,stroke:B,width:q}=this.line;this.lineNode.datum={x:0,y1:n[0],y2:n[1]},this.lineNode.setProperties({stroke:B,strokeWidth:z?q:0});const at=[..._.values()];at.push(at[0]);const nt=[this.lineNode.getBBox(),new bt(0,0,at[0].tickSize*p,0)];e.enabled&&(this.updateTitle(!1,at[0].tickSize),nt.push(e.caption.node.getBBox()));const xt=bt.merge(fo(m.values(),nt));return{bbox:this.getTransformBox(xt),separatorLayout:at,tickLabelLayout:g}}update(){if(!this.computedLayout)return;const{tickScale:t,gridLine:e,gridLength:i}=this,{separatorLayout:n}=this.computedLayout,s=t.ticks({nice:!1,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0}).map((r,l)=>({...n[l],tick:r,tickId:Ye(r,l),tickLabel:r.filter(Boolean).join(" - "),translationY:Math.round(t.convert(r))}));this.gridLineGroupSelection.update(e.enabled&&i?s:[]),this.tickLineGroupSelection.update(this.tick.enabled?s:[]),this.updatePosition(),this.updateCategoryLabels(),this.updateAxisLine(),this.updateGridLines(),this.updateTickLines(),this.updateTitle(),this.resetSelectionNodes()}calculateLayout(){const{separatorLayout:t,tickLabelLayout:e,bbox:i}=this.computeLayout();return this.computedLayout={separatorLayout:t,tickLabelLayout:e},{bbox:i,primaryTickCount:void 0,niceDomain:this.scale.domain}}onGridVisibilityChange(){this.gridLineGroupSelection.clear(),this.tickLabelGroupSelection.clear()}updateScale(){super.updateScale(),this.tickScale.range=this.scale.range,this.scale.paddingOuter=this.scale.paddingInner/2}processData(){const{direction:t}=this,e=this.boundSeries.filter(s=>s.visible).flatMap(s=>s.getDomain(t));this.dataDomain={domain:Ia(e)??this.filterDuplicateArrays(e),clipped:!1},this.isReversed()&&this.dataDomain.domain.reverse();const i=this.dataDomain.domain.map(s=>Sf(pi(s)&&"value"in s?s.value:s));this.tickTreeLayout=Jz(i);const n=[];for(const s of this.tickTreeLayout.nodes)s.leafCount||s.refId==null||n.push(this.dataDomain.domain[s.refId]);return this.scale.domain=Gw(this.dataDomain.domain,n),this.tickScale.domain=i.concat([[""]]),{animatable:!0}}updateGridLines(){if(!this.gridLength)return;const{width:t,style:e}=this.gridLine,i=this.gridLength*-this.label.getSideFlag();this.gridLineGroupSelection.each((n,s,r)=>{const{stroke:l,lineDash:c}=e[r%e.length],h=s.translationY;n.visible=this.inRange(h),n.x1=0,n.x2=i,n.y=h,n.stroke=l,n.strokeWidth=t,n.lineDash=c})}filterDuplicateArrays(t){const e=new Set;return t.filter(i=>{const n=ge(i)?JSON.stringify(i):i;return e.has(n)?!1:(e.add(n),!0)})}};tc.className="GroupedCategoryAxis";tc.type="grouped-category";M([T(H0)],tc.prototype,"depthOptions",2);var YN=ie(t=>Vn(t)&&t!==0,"a non-zero number"),Oo=class extends Ar{constructor(t){super(t,new Ob),this.min=NaN,this.max=NaN}normaliseDataDomain(t){const{min:e,max:i}=this,{extent:n,clipped:s}=Rb(t,e,i);return n[0]<0&&n[1]>0||t[0]<0&&t[1]>0?(ot.warn("The log axis domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."),{domain:[],clipped:s}):n[0]===0||n[1]===0||t[0]===0||t[1]===0?(ot.warn("The log axis domain contains a value of 0, the chart data cannot be rendered. See log axis documentation for more information."),{domain:[],clipped:s}):{domain:n,clipped:s}}set base(t){this.scale.base=t}get base(){return this.scale.base}defaultDatumFormatter(t,e){return String(t)}defaultLabelFormatter(t,e){return String(t)}};Oo.className="LogAxis";Oo.type="log";M([T(js(Vl,YN,ch("max"))),Mr(NaN)],Oo.prototype,"min",2);M([T(js(Vl,YN,uh("min"))),Mr(NaN)],Oo.prototype,"max",2);var Su=(t,{x0:e,y0:i,x1:n,y1:s,cx:r,cy:l},c,h)=>{if(h&&t.moveTo(e,i),e!==n||i!==s){const d=Math.atan2(i-l,e-r),p=Math.atan2(s-l,n-r);t.arc(r,l,c,d,p)}else t.lineTo(e,i)},QA=1e-6,sf=(t,e,i,n,s)=>{let r=!1,l=!1,c=n-Math.sqrt(Math.max(s**2-i**2,0)),h=0,d=0,p=i-Math.sqrt(Math.max(s**2-n**2,0));return c>t?(r=!0,c=t,h=i-Math.sqrt(Math.max(s**2-(n-t)**2))):c<QA&&(c=0),p>e?(l=!0,d=n-Math.sqrt(Math.max(s**2-(i-e)**2)),p=e):p<QA&&(p=0),{leading0:c,leading1:h,trailing0:d,trailing1:p,leadingClipped:r,trailingClipped:l}},yf=(t,e,i,n,s,r,l)=>{let{topLeft:c,topRight:h,bottomRight:d,bottomLeft:p}=r;const g=Math.max(c+p,h+d),m=Math.max(c+h,p+d);if(g<=0&&m<=0){l==null?t.rect(e,i,n,s):t.rect(l.x,l.y,l.width,l.height);return}else if(l==null&&c===h&&c===d&&c===p){t.roundRect(e,i,n,s,c);return}if(n<0&&(e+=n,n=Math.abs(n)),s<0&&(i+=s,s=Math.abs(s)),n<=0||s<=0)return;if(l==null)l=new bt(e,i,n,s);else{const _=Math.max(e,l.x),j=Math.min(e+n,l.x+l.width),z=Math.max(i,l.y),B=Math.min(i+s,l.y+l.height);l=new bt(_,z,j-_,B-z)}const b=Math.max(g/s,m/n,1);b>1&&(c/=b,h/=b,d/=b,p/=b);let v=!0,S=!0,A=!0,D=!0,L,C,N,k;if(v){const _=sf(l.height,l.width,Math.max(e+c-l.x,0),Math.max(i+c-l.y,0),c);_.leadingClipped&&(D=!1),_.trailingClipped&&(S=!1);const j=Math.max(l.x+_.leading1,l.x),z=Math.max(l.y+_.leading0,l.y),B=Math.max(l.x+_.trailing1,l.x),q=Math.max(l.y+_.trailing0,l.y),at=e+c,nt=i+c;L={x0:j,y0:z,x1:B,y1:q,cx:at,cy:nt}}if(S){const _=sf(l.width,l.height,Math.max(i+h-l.y,0),Math.max(l.x+l.width-(e+n-h),0),h);_.leadingClipped&&(v=!1),_.trailingClipped&&(A=!1);const j=Math.min(l.x+l.width-_.leading0,l.x+l.width),z=Math.max(l.y+_.leading1,l.y),B=Math.min(l.x+l.width-_.trailing0,l.x+l.width),q=Math.max(l.y+_.trailing1,l.y),at=e+n-h,nt=i+h;C={x0:j,y0:z,x1:B,y1:q,cx:at,cy:nt}}if(A){const _=sf(l.height,l.width,Math.max(l.x+l.width-(e+n-d),0),Math.max(l.y+l.height-(i+s-d),0),d);_.leadingClipped&&(S=!1),_.trailingClipped&&(D=!1);const j=Math.min(l.x+l.width-_.leading1,l.x+l.width),z=Math.min(l.y+l.height-_.leading0,l.y+l.height),B=Math.min(l.x+l.width-_.trailing1,l.x+l.width),q=Math.min(l.y+l.height-_.trailing0,l.y+l.height),at=e+n-d,nt=i+s-d;N={x0:j,y0:z,x1:B,y1:q,cx:at,cy:nt}}if(D){const _=sf(l.width,l.height,Math.max(l.y+l.height-(i+s-p),0),Math.max(e+p-l.x,0),p);_.leadingClipped&&(A=!1),_.trailingClipped&&(v=!1);const j=Math.max(l.x+_.leading0,l.x),z=Math.min(l.y+l.height-_.leading1,l.y+l.height),B=Math.max(l.x+_.trailing0,l.x),q=Math.min(l.y+l.height-_.trailing1,l.y+l.height),at=e+p,nt=i+s-p;k={x0:j,y0:z,x1:B,y1:q,cx:at,cy:nt}}let O=!1;v&&L!=null&&(Su(t,L,c,!O),O||(O=!0)),S&&C!=null&&(Su(t,C,h,!O),O||(O=!0)),A&&N!=null&&(Su(t,N,d,!O),O||(O=!0)),D&&k!=null&&Su(t,k,p,!O),t.closePath()},Ri=class extends Qi{constructor(){super(...arguments),this.borderPath=new Uu,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.clipBBox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=Xn.defaultStyles.strokeWidth,this.effectiveStrokeWidth=Xn.defaultStyles.strokeWidth,this.hittester=super.isPointInPath.bind(this),this.distanceCalculator=super.distanceSquaredTransformedPoint.bind(this),this.microPixelEffectOpacity=1}set cornerRadius(t){this.topLeftCornerRadius=t,this.topRightCornerRadius=t,this.bottomRightCornerRadius=t,this.bottomLeftCornerRadius=t}isDirtyPath(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth||!!(this.path.isDirty()||this.borderPath.isDirty())}updatePath(){var A;const{path:t,borderPath:e,crisp:i,topLeftCornerRadius:n,topRightCornerRadius:s,bottomRightCornerRadius:r,bottomLeftCornerRadius:l}=this;let{x:c,y:h,width:d,height:p,strokeWidth:g,clipBBox:m}=this;const v=1/(((A=this.layerManager)==null?void 0:A.canvas.pixelRatio)??1);let S=1;if(t.clear(!0),e.clear(!0),i&&(d<=v&&(S*=d/v),p<=v&&(S*=p/v),d=this.align(c,d),p=this.align(h,p),c=this.align(c),h=this.align(h),m=m!=null?new bt(this.align(m.x),this.align(m.y),this.align(m.x,m.width),this.align(m.y,m.height)):void 0),g)if(d<v){const D=c+v/2;e.moveTo(D,h),e.lineTo(D,h+p),g=v,this.borderClipPath=void 0}else if(p<v){const D=h+v/2;e.moveTo(c,D),e.lineTo(c+d,D),g=v,this.borderClipPath=void 0}else if(g<d&&g<p){const D=g/2;c+=D,h+=D,d-=g,p-=g;const L=m==null?void 0:m.clone().shrink(D),C={topLeft:n>0?n-g:0,topRight:s>0?s-g:0,bottomRight:r>0?r-g:0,bottomLeft:l>0?l-g:0};this.borderClipPath=void 0,d>0&&p>0&&(L==null||(L==null?void 0:L.width)>0&&(L==null?void 0:L.height)>0)&&(yf(t,c,h,d,p,C,L),yf(e,c,h,d,p,C,L))}else this.borderClipPath=this.borderClipPath??new Uu,this.borderClipPath.clear(!0),this.borderClipPath.rect(c,h,d,p),e.rect(c,h,d,p);else{const D={topLeft:n,topRight:s,bottomRight:r,bottomLeft:l};this.borderClipPath=void 0,yf(t,c,h,d,p,D,m)}if([n,s,r,l].every(D=>D===0)){const D=this.getBBox();this.hittester=D.containsPoint.bind(D),this.distanceSquared=(L,C)=>this.getBBox().distanceSquared(L,C)}else this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint;this.effectiveStrokeWidth=g,this.lastUpdatePathStrokeWidth=g,this.microPixelEffectOpacity=S}computeBBox(){const{x:t,y:e,width:i,height:n,clipBBox:s}=this;return(s==null?void 0:s.clone())??new bt(t,e,i,n)}isPointInPath(t,e){return this.hittester(t,e)}get midPoint(){return{x:this.x+this.width/2,y:this.y+this.height/2}}distanceSquared(t,e){return this.distanceCalculator(t,e)}applyFillAlpha(t){const{fillOpacity:e,microPixelEffectOpacity:i,opacity:n}=this;t.globalAlpha*=n*e*i}renderStroke(t){const{stroke:e,effectiveStrokeWidth:i}=this;if(e&&i){const{globalAlpha:n}=t,{strokeOpacity:s,lineDash:r,lineDashOffset:l,lineCap:c,lineJoin:h,borderPath:d,borderClipPath:p,opacity:g,microPixelEffectOpacity:m}=this;p&&t.clip(p.getPath2D()),this.applyStroke(t),t.globalAlpha*=g*s*m,t.lineWidth=i,r&&t.setLineDash(r),l&&(t.lineDashOffset=l),c&&(t.lineCap=c),h&&(t.lineJoin=h),t.stroke(d.getPath2D()),t.globalAlpha=n}}};Ri.className="Rect";M([Nt()],Ri.prototype,"x",2);M([Nt()],Ri.prototype,"y",2);M([Nt()],Ri.prototype,"width",2);M([Nt()],Ri.prototype,"height",2);M([Nt()],Ri.prototype,"topLeftCornerRadius",2);M([Nt()],Ri.prototype,"topRightCornerRadius",2);M([Nt()],Ri.prototype,"bottomRightCornerRadius",2);M([Nt()],Ri.prototype,"bottomLeftCornerRadius",2);M([Nt()],Ri.prototype,"clipBBox",2);M([Nt()],Ri.prototype,"crisp",2);var ec=class extends xp{constructor(t){super(),this.ctx=t,this.rectNode=new Ri,this.textNode=new si,this.fill="white",this.node=this.createNode(),this.node.append([this.rectNode,this.textNode]),this.visible=!0,this.destroyFns.push(t.scene.attachNode(this.node),t.layoutManager.addListener("layout:complete",e=>this.onLayoutComplete(e)))}createNode(){return new Tt({name:"background",zIndex:0})}onLayoutComplete(t){const{width:e,height:i}=t.chart;this.rectNode.width=e,this.rectNode.height=i}};M([T(At),mi("node","visible")],ec.prototype,"visible",2);M([T($t,{optional:!0}),mi("rectNode","fill")],ec.prototype,"fill",2);M([T(mt,{optional:!0})],ec.prototype,"image",2);M([T(rt,{optional:!0}),mi("textNode")],ec.prototype,"text",2);var VN={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:t=>new ec(t)};function e4({orientation:t,bboxes:e,maxHeight:i,maxWidth:n,itemPaddingY:s=0,itemPaddingX:r=0,forceResult:l=!1}){const c=t==="horizontal",h={max:c?n:i,fn:c?m=>m.width:m=>m.height,padding:c?r:s},d={max:c?i:n,fn:c?m=>m.height:m=>m.width,padding:c?s:r};let p=0;const g=[];for(;p<e.length;){const m=e.slice(p),b=i4(m,p,h,d,l);if(!b)return;p+=b.processedBBoxCount,g.push(b.pageIndices)}return s4(g,t,e,s,r)}function i4(t,e,i,n,s){let l=r4(t,i);if(l<1){if(!s)return;l=1}let c=l;for(;c>=1;){const h=n4(t,e,c,i,n,s);if(h==null&&c<=1)return;if(h==null){c--;continue}if(typeof h=="number"){if(h<=1)return;c=h<c&&h>1?h:c,c--;continue}return{processedBBoxCount:h.length*h[0].length,pageIndices:h}}}function n4(t,e,i,n,s,r){const l=[];let c=0,h=0,d=[];const p=[];for(let g=0;g<t.length;g++){const m=(g+i)%i;m===0&&(c+=h,h=0,d.length>0&&l.push(d),d=[]);const b=n.fn(t[g])+n.padding;p[m]=Math.max(p[m]??0,b),h=Math.max(h,s.fn(t[g])+s.padding);const v=c+h,S=!r||l.length>0;if(v>s.max&&S){d=[];break}if(p.reduce((D,L)=>D+L,0)>n.max&&!r)return p.length<i?p.length:void 0;d.push(g+e)}return d.length>0&&l.push(d),l.length>0?l:void 0}function s4(t,e,i,n,s){let r=0,l=0;return{pages:t.map(h=>{e==="horizontal"&&(h=a4(h));let d=0;const p=h.map(b=>{const v=b.map(D=>(d=Math.max(D,d),i[D]));let S=0,A=0;return v.forEach(D=>{S+=D.height+n,A=Math.max(A,D.width+s)}),{indices:b,bboxes:v,columnHeight:Math.ceil(S),columnWidth:Math.ceil(A)}});let g=0,m=0;return p.forEach(b=>{g+=b.columnWidth,m=Math.max(m,b.columnHeight)}),r=Math.max(g,r),l=Math.max(m,l),{columns:p,startIndex:h[0][0],endIndex:d,pageWidth:g,pageHeight:m}}),maxPageWidth:r,maxPageHeight:l}}function a4(t){const e=[];for(const i of t[0])e.push([]);return t.forEach((i,n)=>{i.forEach((s,r)=>{e[r][n]=s})}),e}function r4(t,e){const i=t.length;let n=0;for(let s=0;s<i;s++)if(n+=e.fn(t[s])+e.padding,n>e.max)return i/s<2?Math.ceil(i/2):s;return i}var ic=class extends Ct{constructor(){super(...arguments),this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};M([T($t)],ic.prototype,"color",2);M([T(Ma,{optional:!0})],ic.prototype,"fontStyle",2);M([T(Sa,{optional:!0})],ic.prototype,"fontWeight",2);M([T(ft)],ic.prototype,"fontSize",2);M([T(rt)],ic.prototype,"fontFamily",2);var pa=class extends Ct{constructor(){super(...arguments),this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}};M([T(ft)],pa.prototype,"size",2);M([T($t,{optional:!0})],pa.prototype,"fill",2);M([T(ee,{optional:!0})],pa.prototype,"fillOpacity",2);M([T($t,{optional:!0})],pa.prototype,"stroke",2);M([T(ft)],pa.prototype,"strokeWidth",2);M([T(ee)],pa.prototype,"strokeOpacity",2);var Rp=class extends Ct{constructor(t){super(),this.parent=t,this.shape="triangle",this.size=15,this.padding=8}};M([ln({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],Rp.prototype,"shape",2);M([T(ft)],Rp.prototype,"size",2);M([T(ft)],Rp.prototype,"padding",2);var Ro=class extends Ct{constructor(t,e){super(),this.chartUpdateCallback=t,this.pageUpdateCallback=e,this.id=qn(this),this.marker=new Rp(this),this.activeStyle=new pa,this.inactiveStyle=new pa,this.highlightStyle=new pa,this.label=new ic,this.group=new Xi({name:"pagination"}),this.labelNode=new si,this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this.nextButton=new ai,this.previousButton=new ai,this.labelNode.setProperties({textBaseline:"middle",fontSize:12,fontFamily:"Verdana, sans-serif",fill:"black",y:1}),this.group.append([this.nextButton,this.previousButton,this.labelNode]),this.update(),this.updateMarkers()}set visible(t){this._visible=t,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(t){this._enabled=t,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(t){switch(this._orientation=t,t){case"horizontal":{this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;break}case"vertical":default:this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}}get orientation(){return this._orientation}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){const{size:t,padding:e}=this.marker;this.nextButton.size=t,this.previousButton.size=t,this.labelNode.x=t/2+e}updateNextButtonPosition(){const t=this.labelNode.getBBox();this.nextButton.translationX=t.width+(this.marker.size/2+this.marker.padding)*2}updateLabel(){const{currentPage:t,totalPages:e,labelNode:i,label:{color:n,fontStyle:s,fontWeight:r,fontSize:l,fontFamily:c}}=this;i.text=`${t+1} / ${e}`,i.fill=n,i.fontStyle=s,i.fontWeight=r,i.fontSize=l,i.fontFamily=c}updateMarkers(){const{nextButton:t,previousButton:e,nextButtonDisabled:i,previousButtonDisabled:n,activeStyle:s,inactiveStyle:r,highlightStyle:l,highlightActive:c}=this,h=(d,p)=>p?r:d===c?l:s;this.updateMarker(t,h("next",i)),this.updateMarker(e,h("previous",n))}updateMarker(t,e){const{shape:i,size:n}=this.marker;t.shape=i,t.size=n,t.fill=e.fill,t.fillOpacity=e.fillOpacity??1,t.stroke=e.stroke,t.strokeWidth=e.strokeWidth,t.strokeOpacity=e.strokeOpacity}enableOrDisableButtons(){const{currentPage:t,totalPages:e}=this,i=e===0,n=t===e-1,s=t===0;this.nextButtonDisabled=n||i,this.previousButtonDisabled=s||i}setPage(t){t=Et(0,t,Math.max(0,this.totalPages-1)),this.currentPage!==t&&(this.currentPage=t,this.onPaginationChanged())}getCursor(t){return{previous:this.previousButtonDisabled,next:this.nextButtonDisabled}[t]?void 0:"pointer"}onClick(t,e){t.preventDefault(),e==="next"&&!this.nextButtonDisabled?(this.incrementPage(),this.onPaginationChanged()):e==="previous"&&!this.previousButtonDisabled&&(this.decrementPage(),this.onPaginationChanged())}onMouseHover(t){this.highlightActive=t,this.updateMarkers(),this.chartUpdateCallback(6)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(6)}attachPagination(t){t.append(this.group)}getBBox(){return this.group.getBBox()}computeCSSBounds(){const t=ke.toCanvas(this.previousButton),e=ke.toCanvas(this.nextButton);return{prev:t,next:e}}};Ro.className="Pagination";M([T(mt)],Ro.prototype,"marker",2);M([T(mt)],Ro.prototype,"activeStyle",2);M([T(mt)],Ro.prototype,"inactiveStyle",2);M([T(mt)],Ro.prototype,"highlightStyle",2);M([T(mt)],Ro.prototype,"label",2);var Gb=class extends Ct{constructor(){super(...arguments),this._dirty=!0}markDirty(){this._dirty=!0}markClean(t){this._dirty=!1}isDirty(){return this._dirty}},o4=new Set(["circle","cross","diamond","heart","pin","plus","square","star","triangle"]);function l4(t){return typeof t=="string"&&o4.has(t)}var Ub=ie(t=>l4(t)||typeof t=="function","a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),ji=class extends Gb{constructor(){super(...arguments),this.enabled=!0,this.shape="circle",this.size=6,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}getStyle(){const{size:t,shape:e,fill:i,fillOpacity:n,stroke:s,strokeWidth:r,strokeOpacity:l,lineDash:c,lineDashOffset:h}=this;return{size:t,shape:e,fill:i,fillOpacity:n,stroke:s,strokeWidth:r,strokeOpacity:l,lineDash:c,lineDashOffset:h}}getDiameter(){return this.size+this.strokeWidth}};M([T(At),yt()],ji.prototype,"enabled",2);M([T(Ub),yt()],ji.prototype,"shape",2);M([T(ft),yt()],ji.prototype,"size",2);M([T($t,{optional:!0}),yt()],ji.prototype,"fill",2);M([T(ee),yt()],ji.prototype,"fillOpacity",2);M([T($t,{optional:!0}),yt()],ji.prototype,"stroke",2);M([T(ft),yt()],ji.prototype,"strokeWidth",2);M([T(ee),yt()],ji.prototype,"strokeOpacity",2);M([T(_s)],ji.prototype,"lineDash",2);M([T(ft)],ji.prototype,"lineDashOffset",2);M([T($i,{optional:!0}),yt()],ji.prototype,"itemStyler",2);function Vu(t,e,i){t.fill=(i==null?void 0:i.fill)??e.fill,t.fillOpacity=(i==null?void 0:i.fillOpacity)??e.fillOpacity??1,t.stroke=(i==null?void 0:i.stroke)??e.stroke,t.strokeOpacity=(i==null?void 0:i.strokeOpacity)??e.strokeOpacity??1,t.strokeWidth=(i==null?void 0:i.strokeWidth)??e.strokeWidth??0,t.lineDash=(i==null?void 0:i.lineDash)??e.lineDash,t.lineDashOffset=(i==null?void 0:i.lineDashOffset)??e.lineDashOffset??0}var c4=class{constructor(t,e){this.idPrefix=e,this.dirty=!0,this.destroyFns=new CI,this.itemList=t.proxyInteractionService.createProxyContainer({type:"list",domManagerId:`${e}-toolbar`,classList:["ag-charts-proxy-legend-toolbar"],ariaLabel:{id:"ariaLabelLegend"}}),this.paginationGroup=t.proxyInteractionService.createProxyContainer({type:"group",domManagerId:`${e}-pagination`,classList:["ag-charts-proxy-legend-pagination"],ariaLabel:{id:"ariaLabelLegendPagination"},ariaOrientation:"horizontal"}),this.itemDescription=zt("p"),this.itemDescription.style.display="none",this.itemDescription.id=`${e}-ariaDescription`,this.itemDescription.textContent=this.getItemAriaDescription(t.localeManager),this.itemList.getElement().append(this.itemDescription)}destroy(){this.destroyFns.destroy()}initLegendList(t){if(!this.dirty)return;const{ctx:e,itemSelection:i,datumReader:n,itemListener:s}=t,r=e.localeManager,l=i.length;i.each((c,h,d)=>{var g;(g=c.proxyButton)==null||g.destroy(),c.proxyButton=e.proxyInteractionService.createProxyElement({type:"listswitch",textContent:this.getItemAriaText(r,n.getItemLabel(h),d,l),ariaChecked:!!c.datum.enabled,ariaDescribedBy:this.itemDescription.id,parent:this.itemList});const p=c.proxyButton;p.addListener("click",m=>s.onClick(m.sourceEvent,c.datum,p)),p.addListener("dblclick",m=>s.onDoubleClick(m.sourceEvent,c.datum)),p.addListener("mouseenter",m=>s.onHover(m.sourceEvent,c)),p.addListener("mouseleave",()=>s.onLeave()),p.addListener("contextmenu",m=>s.onContextClick(m.sourceEvent,c)),p.addListener("blur",()=>s.onLeave()),p.addListener("focus",m=>s.onHover(m.sourceEvent,c)),p.addListener("drag-start",()=>{})}),this.dirty=!1}update(t){t.visible&&(this.initLegendList(t),this.updateItemProxyButtons(t),this.updatePaginationProxyButtons(t,!0)),this.updateVisibility(t.visible)}updateVisibility(t){this.itemList.setHidden(!t),this.paginationGroup.setHidden(!t)}updateItemProxyButtons({itemSelection:t,group:e,pagination:i,interactive:n}){const s=ke.toCanvas(e);this.itemList.setBounds(s);const r=Math.max(...t.nodes().map(l=>l.getBBox().height));t.each((l,c)=>{if(l.proxyButton){const h=l.pageIndex===i.currentPage,{x:d,y:p,height:g,width:m}=ke.toCanvas(l),b=(r-g)/2,v={x:d-s.x,y:p-b-s.y,height:r,width:m};l.proxyButton.setCursor("pointer"),l.proxyButton.setEnabled(n&&h),l.proxyButton.setBounds(v)}})}updatePaginationProxyButtons(t,e){var r,l,c,h,d,p,g,m;const{pagination:i}=t;if(this.paginationGroup.setHidden(!i.visible),e&&"ctx"in t){const{ctx:b,oldPages:v,newPages:S}=t,A=((v==null?void 0:v.length)??S.length)>1,D=S.length>1;A!==D&&(D?(this.prevButton=b.proxyInteractionService.createProxyElement({type:"button",id:`${this.idPrefix}-prev-page`,textContent:{id:"ariaLabelLegendPagePrevious"},tabIndex:0,parent:this.paginationGroup}),this.prevButton.addListener("click",L=>this.onPageButton(t,L,"previous")),this.prevButton.addListener("mouseenter",()=>i.onMouseHover("previous")),this.prevButton.addListener("mouseleave",()=>i.onMouseHover(void 0)),this.nextButton??(this.nextButton=b.proxyInteractionService.createProxyElement({type:"button",id:`${this.idPrefix}-next-page`,textContent:{id:"ariaLabelLegendPageNext"},tabIndex:0,parent:this.paginationGroup})),this.nextButton.addListener("click",L=>this.onPageButton(t,L,"next")),this.nextButton.addListener("mouseenter",()=>i.onMouseHover("next")),this.nextButton.addListener("mouseleave",()=>i.onMouseHover(void 0))):((r=this.nextButton)==null||r.destroy(),(l=this.prevButton)==null||l.destroy(),this.nextButton=void 0,this.prevButton=void 0))}const{prev:n,next:s}=i.computeCSSBounds();(c=this.prevButton)==null||c.setBounds(n),(h=this.nextButton)==null||h.setBounds(s),(d=this.prevButton)==null||d.setEnabled(i.currentPage!==0),(p=this.nextButton)==null||p.setEnabled(i.currentPage!==i.totalPages-1),(g=this.nextButton)==null||g.setCursor(i.getCursor("next")),(m=this.prevButton)==null||m.setCursor(i.getCursor("previous"))}onPageButton(t,e,i){t.pagination.onClick(e.sourceEvent,i),this.updatePaginationProxyButtons(t,!1)}onDataUpdate(t,e){this.dirty=t.length!==e.length||t.some((i,n,s)=>{const[r,l]=[e[n],t[n]];return r.id!==l.id})}onLocaleChanged(t,e,i){const n=e.length;e.each(({proxyButton:s},r,l)=>{const c=s==null?void 0:s.getElement();if(c!=null){const h=i.getItemLabel(r);c.textContent=this.getItemAriaText(t,h,l,n)}}),this.itemDescription.textContent=this.getItemAriaDescription(t)}onPageChange(t){this.updateItemProxyButtons(t),this.updatePaginationProxyButtons(t,!1)}getItemAriaText(t,e,i,n){return i>=0&&e?(i++,t.t("ariaLabelLegendItem",{label:e,index:i,count:n})):t.t("ariaLabelLegendItemUnknown")}getItemAriaDescription(t){return t.t("ariaDescriptionLegendItem")}};function JA(t,e,i,n){const s={defaultPrevented:!1,apiEvent:{type:t,itemId:e,seriesId:i,event:n,preventDefault:()=>s.defaultPrevented=!0}};return s}var Jn=class extends Io(Tt){constructor(){super({name:"markerLabelGroup"}),this.symbolsGroup=this.appendChild(new Tt({name:"legend-markerLabel-symbols"})),this.label=this.appendChild(new si),this.enabled=!0,this.pageIndex=NaN,this.spacing=0,this.length=0,this.isCustomMarker=!1,this.marker=this.symbolsGroup.appendChild(new ai({zIndex:1})),this.line=this.symbolsGroup.appendChild(new An({zIndex:0}));const{label:t,line:e,symbolsGroup:i}=this;e.visible=!1,i.renderToOffscreenCanvas=!0,i.optimizeForInfrequentRedraws=!0,t.textBaseline="middle",t.fontSize=12,t.fontFamily="Verdana, sans-serif",t.fill="black",t.y=1}destroy(){var t;super.destroy(),(t=this.proxyButton)==null||t.destroy()}setEnabled(t){this.enabled=t,this.refreshVisibilities()}refreshVisibilities(){const t=this.enabled?1:.5;this.label.opacity=t,this.opacity=t}layout(){const{marker:t,line:e,length:i,isCustomMarker:n}=this;let s=0,r=0;if(t.visible){const{size:l}=t,c=ai.anchor(t.shape);s=(c.x-.5)*l+i/2,r=(c.y-.5)*l,n?(t.x=0,t.y=0,t.translationX=s,t.translationY=r):(t.x=s,t.y=r,t.translationX=0,t.translationY=0)}e.visible&&(e.x1=0,e.x2=i,e.y1=0,e.y2=0)}preRender(t){const e=super.preRender(t);return this.layout(),e}layoutLabel(){const{length:t,spacing:e}=this;this.label.x=t+e}computeBBox(){return this.layout(),super.computeBBox()}};Jn.className="MarkerLabel";M([mi("label")],Jn.prototype,"text",2);M([mi("label")],Jn.prototype,"fontStyle",2);M([mi("label")],Jn.prototype,"fontWeight",2);M([mi("label")],Jn.prototype,"fontSize",2);M([mi("label")],Jn.prototype,"fontFamily",2);M([mi("label","fill")],Jn.prototype,"color",2);M([vr(t=>t.layoutLabel())],Jn.prototype,"spacing",2);M([vr(t=>t.layoutLabel())],Jn.prototype,"length",2);M([yt()],Jn.prototype,"isCustomMarker",2);var Tr=class extends Ct{constructor(){super(...arguments),this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};M([T(ft,{optional:!0})],Tr.prototype,"maxLength",2);M([T($t)],Tr.prototype,"color",2);M([T(Ma,{optional:!0})],Tr.prototype,"fontStyle",2);M([T(Sa,{optional:!0})],Tr.prototype,"fontWeight",2);M([T(ft)],Tr.prototype,"fontSize",2);M([T(rt)],Tr.prototype,"fontFamily",2);M([T($i,{optional:!0})],Tr.prototype,"formatter",2);var nc=class extends Ct{constructor(){super(...arguments),this.shape=void 0,this.size=15,this.padding=8}};M([T(Ub,{optional:!0})],nc.prototype,"shape",2);M([T(ft)],nc.prototype,"size",2);M([T(ft)],nc.prototype,"padding",2);M([T(ft,{optional:!0})],nc.prototype,"strokeWidth",2);M([T(At)],nc.prototype,"enabled",2);var Yb=class extends Ct{};M([T(ft,{optional:!0})],Yb.prototype,"strokeWidth",2);M([T(ft,{optional:!0})],Yb.prototype,"length",2);var Ir=class extends Ct{constructor(){super(...arguments),this.paddingX=16,this.paddingY=8,this.showSeriesStroke=!1,this.marker=new nc,this.label=new Tr,this.line=new Yb}};M([T(ft,{optional:!0})],Ir.prototype,"maxWidth",2);M([T(ft)],Ir.prototype,"paddingX",2);M([T(ft)],Ir.prototype,"paddingY",2);M([T(At)],Ir.prototype,"showSeriesStroke",2);M([T(mt)],Ir.prototype,"marker",2);M([T(mt)],Ir.prototype,"label",2);M([T(mt)],Ir.prototype,"line",2);var Vb=class extends Ct{};M([T($i,{optional:!0})],Vb.prototype,"legendItemClick",2);M([T($i,{optional:!0})],Vb.prototype,"legendItemDoubleClick",2);var gu="legend-visibility",wy="legend-other-series",un=class extends Ct{constructor(t){super(),this.ctx=t,this.id=qn(this),this.group=new Xi({name:"legend",zIndex:14}),this.itemSelection=Ge.select(this.group,Jn),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.truncatedItems=new Set,this._data=[],this.toggleSeries=!0,this.item=new Ir,this.listeners=new Vb,this.enabled=!0,this.position="bottom",this.spacing=20,this.destroyFns=[],this.size=[0,0],this._visible=!0,this.pagination=new Ro(e=>t.updateService.update(e),e=>this.updatePageNumber(e)),this.pagination.attachPagination(this.group),this.destroyFns.push(t.contextMenuRegistry.registerDefaultAction({id:gu,type:"legend",label:"contextMenuToggleSeriesVisibility",action:e=>this.contextToggleVisibility(e)}),t.contextMenuRegistry.registerDefaultAction({id:wy,type:"legend",label:"contextMenuToggleOtherSeries",action:e=>this.contextToggleOtherSeries(e)}),t.legendManager.addListener("legend-change",this.onLegendDataChange.bind(this))),this.destroyFns.push(t.layoutManager.registerElement(1,e=>this.positionLegend(e)),t.localeManager.addListener("locale-changed",()=>this.onLocaleChanged()),()=>this.group.remove()),this.domProxy=new c4(this.ctx,this.id),this.ctx.historyManager.addMementoOriginator(t.legendManager)}set data(t){vo(t,this._data)||(this.domProxy.onDataUpdate(this._data,t),this._data=t,this.updateGroupVisibility())}get data(){return this._data}onLegendDataChange({legendData:t=[]}){this.enabled&&(this.data=t.filter(e=>!e.hideInLegend))}destroy(){this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-toolbar`),this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-pagination`),this.destroyFns.forEach(t=>t()),this.itemSelection.clear(),this.domProxy.destroy()}getOrientation(){if(this.orientation!==void 0)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}}set visible(t){this._visible=t,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(t){t.appendChild(this.group)}getItemLabel(t){const{ctx:{callbackCache:e}}=this,{formatter:i}=this.item.label;if(i){const n=t.datum;return e.call(i,{itemId:t.itemId,value:t.label.text,seriesId:t.seriesId,...n&&{datum:n}})}return t.label.text}calcLayout(t,e){const{paddingX:i,paddingY:n,label:s,maxWidth:r,label:{maxLength:l=1/0,fontStyle:c,fontWeight:h,fontSize:d,fontFamily:p}}=this.item,g=[...this.data];this.reverseOrder&&g.reverse(),this.itemSelection.update(g);const m=[],b=Ae.toFontString(s),S=r??t*.8,A=this.calculateMarkerWidth();if(this.itemSelection.each((z,B)=>{z.fontStyle=c,z.fontWeight=h,z.fontSize=d,z.fontFamily=p;const q=this.updateMarkerLabel(z,B,A),at=B.itemId??B.id,xt=(this.getItemLabel(B)??"<unknown>").replace(/\r?\n/g," ");z.text=this.truncate(xt,l,S,q,b,at),m.push(z.getBBox())}),t=Math.max(1,t),e=Math.max(1,e),!isFinite(t))return{};const D=this.size,L=this.oldSize;D[0]=t,D[1]=e,(D[0]!==L[0]||D[1]!==L[1])&&(L[0]=D[0],L[1]=D[1]);const{pages:C,maxPageHeight:N,maxPageWidth:k}=this.updatePagination(m,t,e),O=this.pages;this.pages=C,this.maxPageSize=[k-i,N-n];const _=this.pagination.currentPage,j=this.pages[_];return this.pages.length<1||!j?(this.visible=!1,{oldPages:O}):(this.visible=!0,this.updatePositions(_),this.update(),{oldPages:O})}isCustomMarker(t,e){return t&&e!==void 0&&typeof e!="string"}calcSymbolsEnabled(t){const{showSeriesStroke:e,marker:i}=this.item,n=!!i.enabled||!e||(t.marker.enabled??!0),s=!!(t.line&&e),r=this.isCustomMarker(n,t.marker.shape);return{markerEnabled:n,lineEnabled:s,isCustomMarker:r}}calcSymbolsLengths(t){const{marker:e,line:i}=this.item,{markerEnabled:n,lineEnabled:s}=this.calcSymbolsEnabled(t),{strokeWidth:r}=this.getMarkerStyles(t),{strokeWidth:l}=s?this.getLineStyles(t):{strokeWidth:0};let c;const{shape:h}=t.marker;if(this.isCustomMarker(n,h)){const g=new ai;g.shape=h,g.updatePath();const m=g.getBBox();c=Math.max(m.width,m.height)}const d=n?e.size:0,p=s?i.length??25:0;return{markerLength:d,markerStrokeWidth:r,lineLength:p,lineStrokeWidth:l,customMarkerSize:c}}calculateMarkerWidth(){let t=0;return this.itemSelection.each((e,i)=>{const{symbol:n}=i,{markerLength:s,lineLength:r,customMarkerSize:l=-1/0}=this.calcSymbolsLengths(n);t=Math.max(t,r,l,s)}),t}updateMarkerLabel(t,e,i){const{marker:n,paddingX:s}=this.item,{symbol:r}=e;let l=s;const{markerEnabled:c,lineEnabled:h,isCustomMarker:d}=this.calcSymbolsEnabled(r),p=n.padding;(c||h)&&(l+=p+i);const{marker:g,line:m}=t;return g.visible=c,g.visible&&(g.shape=n.shape??r.marker.shape??"square",g.size=n.size,Vu(g,this.getMarkerStyles(r))),m.visible=h,m.visible&&Vu(m,this.getLineStyles(r)),t.length=i,t.spacing=p,t.isCustomMarker=d,l}truncate(t,e,i,n,s,r){let l=!1;t.length>e&&(t=t.substring(0,e),l=!0);const c=Da.getMeasurer({font:s}),h=ib.truncateLine(t,c,i-n,l);return h.endsWith(Ae.EllipsisChar)?this.truncatedItems.add(r):this.truncatedItems.delete(r),h}updatePagination(t,e,i){const n=this.getOrientation(),s=Math.min(this.paginationTrackingIndex,t.length);this.pagination.orientation=n,this.pagination.translationX=0,this.pagination.translationY=0;const{pages:r,maxPageHeight:l,maxPageWidth:c,paginationBBox:h,paginationVertical:d}=this.calculatePagination(t,e,i),p=r.findIndex(C=>C.endIndex>=s);this.pagination.currentPage=Et(0,p,r.length-1);const{paddingX:g,paddingY:m}=this.item,b=8,v=c-g,S=l-m;let A=0,D=-h.y-this.item.marker.size/2;d?D+=S+b:(A+=-h.x+v+b,D+=(S-h.height)/2),this.pagination.translationX=A,this.pagination.translationY=D,this.pagination.update(),this.pagination.updateMarkers();let L=0;return this.itemSelection.each((C,N,k)=>{var O;k>(((O=r[L])==null?void 0:O.endIndex)??1/0)&&L++,C.pageIndex=L}),{maxPageHeight:l,maxPageWidth:c,pages:r}}calculatePagination(t,e,i){const{paddingX:n,paddingY:s}=this.item,r=this.getOrientation(),l=["left","right"].includes(this.position);let c=this.pagination.getBBox(),h=new bt(0,0,0,0),d=[],p=0,g=0,m=0;const b=S=>S.width===c.width&&S.height===c.height,v=this.maxWidth!==void 0&&this.maxHeight!==void 0;do{if(m++>10){ot.warn("unable to find stable legend layout.");break}c=h;const S=e-(l?0:c.width),A=i-(l?c.height:0),D=e4({orientation:r,bboxes:t,maxHeight:A,maxWidth:S,itemPaddingY:s,itemPaddingX:n,forceResult:v});d=(D==null?void 0:D.pages)??[],p=(D==null?void 0:D.maxPageWidth)??0,g=(D==null?void 0:D.maxPageHeight)??0;const L=d.length;if(this.pagination.visible=L>1,this.pagination.totalPages=L,this.pagination.update(),this.pagination.updateMarkers(),h=this.pagination.getBBox(),!this.pagination.visible)break}while(!b(h));return{maxPageWidth:p,maxPageHeight:g,pages:d,paginationBBox:h,paginationVertical:l}}updatePositions(t=0){const{item:{paddingY:e},itemSelection:i,pages:n}=this;if(n.length<1||!n[t])return;const{columns:s,startIndex:r,endIndex:l}=n[t];let c=0,h=0;const d=s.length,p=s[0].indices.length,g=this.getOrientation()==="horizontal",m=s[0].bboxes[0].height+e,b=[];i.each((v,S,A)=>{if(A<r||A>l){v.visible=!1;return}const D=A-r;let L,C;g?(L=D%d,C=Math.floor(D/d)):(L=Math.floor(D/p),C=D%p),v.visible=!0;const N=s[L];N&&(h=Math.floor(m*C),c=Math.floor(b[C]??0),b[C]=(b[C]??0)+N.columnWidth,v.translationX=c,v.translationY=h)})}updatePageNumber(t){const{itemSelection:e,group:i,pagination:n,pages:s,toggleSeries:r}=this,{startIndex:l,endIndex:c}=s[t];l===0?this.paginationTrackingIndex=0:t===s.length-1?this.paginationTrackingIndex=c:this.paginationTrackingIndex=Math.floor((l+c)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(t),this.domProxy.onPageChange({itemSelection:e,group:i,pagination:n,interactive:r}),this.ctx.updateService.update(6)}update(){const{label:{color:t}}=this.item;this.itemSelection.each((e,i)=>{e.setEnabled(i.enabled),e.color=t}),this.updateContextMenu()}updateContextMenu(){const{toggleSeries:t,ctx:{contextMenuRegistry:e}}=this;t?(e.hideAction(gu),e.hideAction(wy)):(e.showAction(gu),e.showAction(wy))}getLineStyles(t){const{stroke:e,strokeOpacity:i=1,strokeWidth:n,lineDash:s}=t.line??{},r=Math.min(2,n??1);return{stroke:e,strokeOpacity:i,strokeWidth:this.item.line.strokeWidth??r,lineDash:s}}getMarkerStyles(t){const{fill:e,stroke:i,strokeOpacity:n=1,fillOpacity:s=1,strokeWidth:r,lineDash:l,lineDashOffset:c}=t.marker,h=Math.min(2,r??1);return{fill:e,stroke:i,strokeOpacity:n,fillOpacity:s,strokeWidth:this.item.marker.strokeWidth??h,lineDash:l,lineDashOffset:c}}computePagedBBox(){const t=Tt.computeChildrenBBox(this.group.children());if(this.pages.length>1){const[e,i]=this.maxPageSize;t.height=Math.max(i,t.height),t.width=Math.max(e,t.width)}return t}findNode(t){const{datum:e,proxyButton:i}=this.itemSelection.select(n=>{var s;return((s=n.datum)==null?void 0:s.itemId)===t.itemId})[0]??{};if(e===void 0||i===void 0)throw new Error(`AG Charts - Missing required properties { datum: ${e}, proxyButton: ${JSON.stringify(i)} }`);return{datum:e,proxyButton:i}}contextToggleVisibility(t){const{datum:e,proxyButton:i}=this.findNode(t);this.doClick(t.event,e,i)}contextToggleOtherSeries(t){this.doDoubleClick(t.event,this.findNode(t).datum)}onContextClick(t,e){var c;const i=e.datum;this.preventHidingAll&&((c=this.contextMenuDatum)!=null&&c.enabled)&&this.getVisibleItemCount()<=1?this.ctx.contextMenuRegistry.disableAction(gu):this.ctx.contextMenuRegistry.enableAction(gu);const{offsetX:n,offsetY:s}=t,{x:r,y:l}=ke.toCanvasPoint(e,n,s);this.ctx.contextMenuRegistry.dispatchContext("legend",{sourceEvent:t,canvasX:r,canvasY:l},{legendItem:i})}onClick(t,e,i){this.doClick(t,e,i)&&t.preventDefault()}getVisibleItemCount(){return this.ctx.chartService.series.flatMap(t=>t.getLegendData("category")).filter(t=>t.enabled).length}doClick(t,e,i){const{listeners:{legendItemClick:n},ctx:{chartService:s,highlightManager:r},preventHidingAll:l,toggleSeries:c}=this;if(!e)return!1;const{legendType:h,seriesId:d,itemId:p,enabled:g}=e,m=s.series.find(S=>S.id===d);if(!m)return!1;let b=g;const v=JA("click",p,m.id,t);return n==null||n(v.apiEvent),v.defaultPrevented||(c&&(b=!g,l&&!b&&this.getVisibleItemCount()<2&&(b=!0),i.setChecked(b),this.ctx.chartEventManager.legendItemClick(h,m,p,b,e.legendItemName)),b?r.updateHighlight(this.id,{series:m,itemId:p,datum:void 0,datumIndex:void 0}):r.updateHighlight(this.id),this.ctx.legendManager.update(),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0,skipAnimations:e.skipAnimations??!1})),!0}onDoubleClick(t,e){this.doDoubleClick(t,e)&&t.preventDefault()}doDoubleClick(t,e){const{listeners:{legendItemDoubleClick:i},ctx:{chartService:n},toggleSeries:s}=this;if(n.mode==="integrated"||!e)return!1;const{legendType:r,id:l,itemId:c,seriesId:h}=e,d=n.series.find(g=>g.id===l);if(!d)return!1;const p=JA("dblclick",c,d.id,t);if(i==null||i(p.apiEvent),p.defaultPrevented)return!0;if(s){const g=n.series.flatMap(v=>v.getLegendData("category")),m=g.filter(v=>v.enabled).length,b=g.find(v=>v.itemId===c&&v.seriesId===h);this.ctx.chartEventManager.legendItemDoubleClick(r,d,c,(b==null?void 0:b.enabled)??!1,m,b==null?void 0:b.legendItemName)}return this.ctx.legendManager.update(),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),!0}toTooltipMeta(t,e){let i;if(t instanceof FocusEvent){const{x:r,y:l}=ke.toCanvas(e).computeCenter();i={type:"keyboard",canvasX:r,canvasY:l}}else{t.preventDefault();const{x:r,y:l}=ke.toCanvasPoint(e,t.offsetX,t.offsetY);i={type:"pointermove",canvasX:r,canvasY:l}}const{canvasX:n,canvasY:s}=i;return{canvasX:n,canvasY:s,lastPointerEvent:i,showArrow:!1}}onHover(t,e){if(!this.enabled)throw new Error("AG Charts - onHover handler called on disabled legend");this.pagination.setPage(e.pageIndex);const i=e.datum,n=i?this.ctx.chartService.series.find(s=>s.id===(i==null?void 0:i.id)):void 0;if(i&&this.truncatedItems.has(i.itemId??i.id)){const s=this.toTooltipMeta(t,e);this.ctx.tooltipManager.updateTooltip(this.id,s,{type:"structured",title:this.getItemLabel(i)})}else this.ctx.tooltipManager.removeTooltip(this.id);i!=null&&i.enabled&&n?this.updateHighlight({series:n,itemId:i==null?void 0:i.itemId,datum:void 0,datumIndex:void 0}):this.updateHighlight()}onLeave(){this.ctx.tooltipManager.removeTooltip(this.id),this.updateHighlight()}updateHighlight(t){this.ctx.interactionManager.isState(32)?this.ctx.highlightManager.updateHighlight(this.id,t):this.ctx.interactionManager.isState(2)&&(this.pendingHighlightDatum=t,this.ctx.animationManager.onBatchStop(()=>{this.ctx.highlightManager.updateHighlight(this.id,this.pendingHighlightDatum)}))}onLocaleChanged(){this.domProxy.onLocaleChanged(this.ctx.localeManager,this.itemSelection,this)}positionLegend(t){const e=this.positionLegendScene(t);this.positionLegendDOM(e)}positionLegendScene(t){if(!this.enabled||!this.data.length)return;const{layoutBox:e}=t,{x:i,y:n,width:s,height:r}=e,[l,c]=this.calculateLegendDimensions(e),{oldPages:h}=this.calcLayout(l,c),d=this.computePagedBBox(),p=()=>{switch(this.position){case"top":case"left":return 0;case"bottom":return r-d.height;case"right":default:return s-d.width}};if(this.visible){const g=this.spacing;let m,b;switch(this.position){case"top":case"bottom":m=(s-d.width)/2,b=p(),e.shrink(d.height+g,this.position);break;case"left":case"right":default:m=p(),b=(r-d.height)/2,e.shrink(d.width+g,this.position)}this.group.translationX=Math.floor(i+m-d.x),this.group.translationY=Math.floor(n+b-d.y)}return h}positionLegendDOM(t){const{ctx:e,itemSelection:i,pagination:n,pages:s,toggleSeries:r,group:l,listeners:{legendItemClick:c,legendItemDoubleClick:h}}=this,d=this.visible&&this.enabled,p=r||h!=null||c!=null;this.domProxy.update({visible:d,interactive:p,ctx:e,itemSelection:i,group:l,pagination:n,oldPages:t,newPages:s,datumReader:this,itemListener:this})}calculateLegendDimensions(t){const{width:e,height:i}=t,n=e/i,s=.5,r=.2,l=.25;let c,h;switch(this.position){case"top":case"bottom":{const d=n<1?Math.min(s,r*(1/n)):r;c=this.maxWidth?Math.min(this.maxWidth,e):e,h=this.maxHeight?Math.min(this.maxHeight,i):Math.round(i*d);break}case"left":case"right":default:{const d=n>1?Math.min(s,l*n):l;c=this.maxWidth?Math.min(this.maxWidth,e):Math.round(e*d),h=this.maxHeight?Math.min(this.maxHeight,i):i}}return[c,h]}};un.className="Legend";M([T(At)],un.prototype,"toggleSeries",2);M([T(mt)],un.prototype,"pagination",2);M([T(mt)],un.prototype,"item",2);M([T(mt)],un.prototype,"listeners",2);M([vr((t,e,i)=>{if(t.updateGroupVisibility(),e===i)return;const{ctx:{legendManager:n,stateManager:s}}=t;i===!1&&e===!0&&s.restoreState(n)}),T(At)],un.prototype,"enabled",2);M([T(W0)],un.prototype,"position",2);M([T(ft,{optional:!0})],un.prototype,"maxWidth",2);M([T(ft,{optional:!0})],un.prototype,"maxHeight",2);M([T(At,{optional:!0})],un.prototype,"reverseOrder",2);M([T(ue(["horizontal","vertical"],"an orientation"),{optional:!0})],un.prototype,"orientation",2);M([T(At,{optional:!0})],un.prototype,"preventHidingAll",2);M([T(ft)],un.prototype,"spacing",2);var u4={type:"legend",optionsKey:"legend",identifier:"category",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:t=>new un(t),packageType:"community",removable:"standalone-only"},HN={};$n(HN,{CARTESIAN_AXIS_TYPE:()=>ZN,CARTESIAN_POSITION:()=>KN,FONT_SIZE:()=>WN,FONT_SIZE_RATIO:()=>Hb,POLAR_AXIS_SHAPE:()=>$N,POLAR_AXIS_TYPE:()=>XN});var WN=(t=>(t[t.SMALLEST=8]="SMALLEST",t[t.SMALLER=10]="SMALLER",t[t.SMALL=12]="SMALL",t[t.MEDIUM=13]="MEDIUM",t[t.LARGE=14]="LARGE",t[t.LARGEST=17]="LARGEST",t))(WN||{}),Hb=(t=>(t[t.SMALLEST=.6666666666666666]="SMALLEST",t[t.SMALLER=.8333333333333334]="SMALLER",t[t.SMALL=1]="SMALL",t[t.MEDIUM=1.0833333333333333]="MEDIUM",t[t.LARGE=1.1666666666666667]="LARGE",t[t.LARGEST=1.4166666666666667]="LARGEST",t))(Hb||{}),KN=(t=>(t.TOP="top",t.RIGHT="right",t.BOTTOM="bottom",t.LEFT="left",t))(KN||{}),ZN=(t=>(t.CATEGORY="category",t.GROUPED_CATEGORY="grouped-category",t.ORDINAL_TIME="ordinal-time",t.NUMBER="number",t.TIME="time",t.LOG="log",t))(ZN||{}),XN=(t=>(t.ANGLE_CATEGORY="angle-category",t.ANGLE_NUMBER="angle-number",t.RADIUS_CATEGORY="radius-category",t.RADIUS_NUMBER="radius-number",t))(XN||{}),$N=(t=>(t.CIRCLE="circle",t.POLYGON="polygon",t))($N||{}),Wb={};$n(Wb,{DEFAULT_ANNOTATION_HANDLE_FILL:()=>Sh,DEFAULT_ANNOTATION_STATISTICS_COLOR:()=>Lh,DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE:()=>Th,DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL:()=>Wu,DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE:()=>Ku,DEFAULT_ANNOTATION_STATISTICS_FILL:()=>Dh,DEFAULT_ANNOTATION_STATISTICS_STROKE:()=>Ah,DEFAULT_BACKGROUND_COLOUR:()=>jp,DEFAULT_CAPTION_ALIGNMENT:()=>ur,DEFAULT_CAPTION_LAYOUT_STYLE:()=>cr,DEFAULT_COLOR_RANGE:()=>Gp,DEFAULT_DIVERGING_SERIES_COLOR_RANGE:()=>hn,DEFAULT_FIBONACCI_STROKES:()=>Hu,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_BACKGROUND_FILL:()=>$e,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_COLOR:()=>Ee,DEFAULT_FUNNEL_SERIES_COLOR_RANGE:()=>Bs,DEFAULT_GAUGE_SERIES_COLOR_RANGE:()=>ts,DEFAULT_GRIDLINE_ENABLED:()=>Is,DEFAULT_HIERARCHY_FILLS:()=>Yp,DEFAULT_HIERARCHY_STROKES:()=>Vp,DEFAULT_POLAR_SERIES_STROKE:()=>Fp,DEFAULT_SEPARATION_LINES_COLOUR:()=>bh,DEFAULT_SHADOW_COLOUR:()=>Nr,DEFAULT_SPARKLINE_CROSSHAIR_STROKE:()=>Up,DEFAULT_TEXTBOX_COLOR:()=>Ch,DEFAULT_TEXTBOX_FILL:()=>Ih,DEFAULT_TEXTBOX_STROKE:()=>Nh,DEFAULT_TEXT_ANNOTATION_COLOR:()=>Mh,DEFAULT_TOOLBAR_POSITION:()=>Eh,IS_COMMUNITY:()=>Kb,IS_DARK_THEME:()=>wl,IS_ENTERPRISE:()=>Zb,PALETTE_ALT_DOWN_FILL:()=>Qb,PALETTE_ALT_DOWN_STROKE:()=>$b,PALETTE_ALT_NEUTRAL_FILL:()=>Jb,PALETTE_ALT_NEUTRAL_STROKE:()=>Bp,PALETTE_ALT_UP_FILL:()=>qb,PALETTE_ALT_UP_STROKE:()=>Xb,PALETTE_DOWN_FILL:()=>vh,PALETTE_DOWN_STROKE:()=>zp,PALETTE_NEUTRAL_FILL:()=>Pp,PALETTE_NEUTRAL_STROKE:()=>sc,PALETTE_UP_FILL:()=>xh,PALETTE_UP_STROKE:()=>_p});var wl=Symbol("is-dark-theme"),Kb=Symbol("is-community"),Zb=Symbol("is-enterprise"),bh=Symbol("default-separation-lines-colour"),jp=Symbol("default-background-colour"),Nr=Symbol("default-shadow-colour"),cr=Symbol("default-caption-layout-style"),ur=Symbol("default-caption-alignment"),_p=Symbol("palette-up-stroke"),zp=Symbol("palette-down-stroke"),xh=Symbol("palette-up-fill"),vh=Symbol("palette-down-fill"),sc=Symbol("palette-neutral-stroke"),Pp=Symbol("palette-neutral-fill"),Xb=Symbol("palette-alt-up-stroke"),$b=Symbol("palette-alt-down-stroke"),qb=Symbol("palette-alt-up-fill"),Qb=Symbol("palette-alt-down-fill"),Jb=Symbol("palette-gray-fill"),Bp=Symbol("palette-gray-stroke"),Fp=Symbol("default-polar-series-stroke"),hn=Symbol("default-diverging-series-colour-range"),Gp=Symbol("default-colour-range"),Up=Symbol("default-sparkline-crosshair-stroke"),ts=Symbol("default-gauge-series-colour-range"),Bs=Symbol("default-funnel-series-colour-range"),Yp=Symbol("default-hierarchy-fills"),Vp=Symbol("default-hierarchy-strokes"),Ee=Symbol("default-financial-charts-annotation-stroke"),Hu=Symbol("default-hierarchy-strokes"),Mh=Symbol("default-text-annotation-color"),$e=Symbol("default-financial-charts-annotation-background-fill"),Sh=Symbol("default-annotation-handle-fill"),Dh=Symbol("default-annotation-statistics-fill"),Ah=Symbol("default-annotation-statistics-stroke"),Lh=Symbol("default-annotation-statistics-color"),Th=Symbol("default-annotation-statistics-divider-stroke"),Wu=Symbol("default-annotation-statistics-fill"),Ku=Symbol("default-annotation-statistics-stroke"),Ih=Symbol("default-textbox-fill"),Nh=Symbol("default-textbox-stroke"),Ch=Symbol("default-textbox-color"),Eh=Symbol("default-toolbar-position"),Is=Symbol("default-gridline-enabled");function qN(t,e){return i=>e(i)?[{...t[0],position:t[1].position},{...t[1],position:t[0].position}]:t}function kh({takeColors:t}){const{fills:[e],strokes:[i]}=t(1);return{fill:e,stroke:i}}function tx(t){return{marker:kh(t)}}function Uf(t,e,i,n,s){const{addPhaseFn:r,updatePhaseFn:l,removePhaseFn:c}=s,h=(d,p,g)=>{i.animate({id:`${t}_${e}_${p.id}_${d}`,groupId:t,from:0,to:1,ease:_u,collapsable:!1,onUpdate(m,b){b&&d!=="removed"||(p.path.clear(!0),g(m,p),p.checkPathDirty())},onStop(){d==="added"&&(p.path.clear(!0),g(1,p),p.checkPathDirty())},phase:us[d]})};for(const d of n)i.isSkipped()||(h("removed",d,c),h("updated",d,l)),h("added",d,r)}function Xt({id:t},e,i,...n){xa(t,e,i,n,{opacity:0},{opacity:1},{phase:"trailing"})}function hr({id:t},e,i,...n){xa(t,e,i,n,{opacity:1},{opacity:0},{phase:"remove"})}function ka(t){return{opacity:1}}var bs=class extends Gb{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}};M([T(At),yt()],bs.prototype,"enabled",2);M([T($t),yt()],bs.prototype,"color",2);M([T(Ut),yt()],bs.prototype,"xOffset",2);M([T(Ut),yt()],bs.prototype,"yOffset",2);M([T(ft),yt()],bs.prototype,"blur",2);var QN=class extends Ct{constructor(){super(...arguments),this.enabled=!1}};M([T(At)],QN.prototype,"enabled",2);var _i=class extends Ct{constructor(){super(...arguments),this.enabled=!0,this.interaction=new QN,this.position=new ql,this.range=void 0,this.class=void 0}formatTooltip(t,e){var n;const i=(n=this.renderer)==null?void 0:n.call(this,e);return typeof i=="string"?{type:"raw",rawHtmlString:i}:i!=null?{type:"structured",...t,...i}:{type:"structured",...t}}};M([T(At)],_i.prototype,"enabled",2);M([T(At,{optional:!0})],_i.prototype,"showArrow",2);M([T($i,{optional:!0})],_i.prototype,"renderer",2);M([T(mt)],_i.prototype,"interaction",2);M([T(mt)],_i.prototype,"position",2);M([T(fp,{optional:!0})],_i.prototype,"range",2);M([T(rt,{optional:!0})],_i.prototype,"class",2);var JN=ue(["linear","smooth","step"],"a line style"),t1=ue(["start","middle","end"]),ac=class extends Ct{constructor(){super(...arguments),this.type="linear",this.tension=1,this.position="end"}};M([T(JN)],ac.prototype,"type",2);M([T(ee)],ac.prototype,"tension",2);M([T(t1)],ac.prototype,"position",2);var Ve=class extends Ca{constructor(){super(...arguments),this.xName=void 0,this.defaultColorRange=[],this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new ac,this.shadow=new bs,this.marker=new ji,this.label=new ri,this.tooltip=new _i,this.connectMissingData=!1}};M([T(rt)],Ve.prototype,"xKey",2);M([T(rt,{optional:!0})],Ve.prototype,"xName",2);M([T(rt)],Ve.prototype,"yKey",2);M([T(rt,{optional:!0})],Ve.prototype,"yName",2);M([T(rt,{optional:!0})],Ve.prototype,"yFilterKey",2);M([T(ft,{optional:!0})],Ve.prototype,"normalizedTo",2);M([T(Sn)],Ve.prototype,"defaultColorRange",2);M([T(br(AT,$t))],Ve.prototype,"fill",2);M([T(ee)],Ve.prototype,"fillOpacity",2);M([T($t)],Ve.prototype,"stroke",2);M([T(ft)],Ve.prototype,"strokeWidth",2);M([T(ee)],Ve.prototype,"strokeOpacity",2);M([T(_s)],Ve.prototype,"lineDash",2);M([T(ft)],Ve.prototype,"lineDashOffset",2);M([T(mt)],Ve.prototype,"interpolation",2);M([T(mt)],Ve.prototype,"shadow",2);M([T(mt)],Ve.prototype,"marker",2);M([T(mt)],Ve.prototype,"label",2);M([T(mt)],Ve.prototype,"tooltip",2);M([T(At)],Ve.prototype,"connectMissingData",2);function Rs(t){switch(t.type){case"linear":case"step":return[{x:t.x0,y:t.y0},{x:t.x1,y:t.y1}];case"cubic":return[{x:t.cp0x,y:t.cp0y},{x:t.cp3x,y:t.cp3y}]}}function h4(t){const e=Rs(t);return e[0].x>e[1].x&&e.reverse(),e}function d4(t,e){const{x:i,y:n}=e;switch(t.type){case"linear":return{type:"linear",moveTo:t.moveTo,x0:i,y0:n,x1:i,y1:n};case"step":return{type:"step",moveTo:t.moveTo,x0:i,y0:n,x1:i,y1:n,stepX:i};case"cubic":return{type:"cubic",moveTo:t.moveTo,cp0x:i,cp0y:n,cp1x:i,cp1y:n,cp2x:i,cp2y:n,cp3x:i,cp3y:n}}}function Zu(t,e,i){const[n,s]=Rs(t),r=s.x!==n.x?(i.x-e.x)/(s.x-n.x):0,l=s.y!==n.y?(i.y-e.y)/(s.y-n.y):0;switch(t.type){case"linear":return{type:"linear",moveTo:t.moveTo,x0:e.x,y0:e.y,x1:i.x,y1:i.y};case"cubic":return{type:"cubic",moveTo:t.moveTo,cp0x:e.x,cp0y:e.y,cp1x:i.x-(t.cp2x-n.x)*r,cp1y:i.y-(t.cp2y-n.y)*l,cp2x:i.x-(t.cp1x-n.x)*r,cp2y:i.y-(t.cp1y-n.y)*l,cp3x:i.x,cp3y:i.y};case"step":return{type:"step",moveTo:t.moveTo,x0:e.x,y0:e.y,x1:i.x,y1:i.y,stepX:i.x-(t.stepX-n.x)*r}}}function e1(t,e,i){const{moveTo:n}=t,[s,r]=h4(t),{x:l,y:c}=s,{x:h,y:d}=r;if(i<l)return Zu(t,s,s);if(e>h)return Zu(t,r,r);switch(t.type){case"linear":{const p=c===d?void 0:(d-c)/(h-l),g=p==null?c:p*(e-l)+c,m=p==null?c:p*(i-l)+c;return{type:"linear",moveTo:n,x0:e,y0:g,x1:i,y1:m}}case"step":if(i<=t.stepX){const p=t.y0;return{type:"step",moveTo:n,x0:e,y0:p,x1:i,y1:p,stepX:i}}else if(e>=t.stepX){const p=t.y1;return{type:"step",moveTo:n,x0:e,y0:p,x1:i,y1:p,stepX:e}}else{const{y0:p,y1:g,stepX:m}=t;return{type:"step",moveTo:n,x0:e,y0:p,x1:i,y1:g,stepX:m}}case"cubic":{const p=Pf(t.cp0x,t.cp1x,t.cp2x,t.cp3x,e);let[g,m]=Bf(t.cp0x,t.cp0y,t.cp1x,t.cp1y,t.cp2x,t.cp2y,t.cp3x,t.cp3y,p);const b=Pf(m[0].x,m[1].x,m[2].x,m[3].x,i);return[m,g]=Bf(m[0].x,m[0].y,m[1].x,m[1].y,m[2].x,m[2].y,m[3].x,m[3].y,b),{type:"cubic",moveTo:n,cp0x:m[0].x,cp0y:m[0].y,cp1x:m[1].x,cp1y:m[1].y,cp2x:m[2].x,cp2y:m[2].y,cp3x:m[3].x,cp3y:m[3].y}}}}function f4(t){const e=[];let i=0,n=NaN,s=NaN;for(const{x:r,y:l}of t){if(i>0){const c=i===1;e.push({type:"linear",moveTo:c,x0:n,y0:s,x1:r,y1:l})}i+=1,n=r,s=l}return e}var p4={start:0,middle:.5,end:1};function g4(t,e){const i=[];let n=0,s=NaN,r=NaN;const l=typeof e=="number"?e:p4[e];for(const{x:c,y:h}of t){if(n>0){const d=n===1,p=s+(c-s)*l;i.push({type:"step",moveTo:d,x0:s,y0:r,x1:c,y1:h,stepX:p})}n+=1,s=c,r=h}return i}var af=.05;function m4(t,e){const i=Array.isArray(t)?t:Array.from(t);if(i.length<=1)return[];const n=i.map((r,l)=>{const c=l===0?r:i[l-1],h=l===i.length-1?r:i[l+1],d=l===0||l===i.length-1;if(Math.sign(c.y-r.y)===Math.sign(h.y-r.y))return 0;if(!d){const p=Math.abs(c.y-h.y),g=Math.abs(r.y-c.y)/p,m=Math.abs(r.y-h.y)/p;if(g<=af||1-g<=af||m<=af||1-m<=af)return 0}return(h.y-c.y)/(h.x-c.x)});n[1]===0&&(n[0]*=2),n[n.length-2]===0&&(n[n.length-1]*=2);const s=[];for(let r=1;r<i.length;r+=1){const l=i[r-1],c=n[r-1],h=i[r],d=n[r],p=h.x-l.x,g=h.y-l.y;let m=p*e/3,b=p*c*e/3,v=p*e/3,S=p*d*e/3;d===0&&Math.abs(b)>Math.abs(g)&&(m*=Math.abs(g/b),b=Math.sign(b)*Math.abs(g)),c===0&&Math.abs(S)>Math.abs(g)&&(v*=Math.abs(g/S),S=Math.sign(S)*Math.abs(g)),s.push({type:"cubic",moveTo:r===1,cp0x:l.x,cp0y:l.y,cp1x:l.x+m,cp1y:l.y+b,cp2x:h.x-v,cp2y:h.y-S,cp3x:h.x,cp3y:h.y})}return s}function Ze(t,e,i){return(e-t)*i+t}function y4(t,e){const{x0:i,y0:n,x1:s,y1:r}=t,c=(r-n)/(s-i)*(e-i)+n;return{leftCp1x:i,leftCp1y:n,leftCp2x:e,leftCp2y:c,stepX:e,stepY0:c,stepY1:c,rightCp1x:e,rightCp1y:c,rightCp2x:s,rightCp2y:r}}function b4(t,e){const{cp0x:i,cp0y:n,cp1x:s,cp1y:r,cp2x:l,cp2y:c,cp3x:h,cp3y:d}=t,p=Pf(i,s,l,h,e),[g,m]=Bf(i,n,s,r,l,c,h,d,p),b=g[3].y;return{leftCp1x:g[1].x,leftCp1y:g[1].y,leftCp2x:g[2].x,leftCp2y:g[2].y,stepX:e,stepY0:b,stepY1:b,rightCp1x:m[1].x,rightCp1y:m[1].y,rightCp2x:m[2].x,rightCp2y:m[2].y}}function x4(t){const{x0:e,y0:i,x1:n,y1:s,stepX:r}=t;return{leftCp1x:(e+r)/2,leftCp1y:i,leftCp2x:(e+r)/2,leftCp2y:i,stepX:r,stepY0:i,stepY1:s,rightCp1x:(r+n)/2,rightCp1y:s,rightCp2x:(r+n)/2,rightCp2y:s}}function tL(t,e){return t.type==="linear"?y4(t,e):t.type==="cubic"?b4(t,e):x4(t)}function i1(t,e,i,n,s,r,l){switch(e){case 0:l?t.moveTo(s,r):t.moveTo(i,n);break;case 1:l?t.lineTo(s,r):t.lineTo(i,n);break}}function n1(t,e,i,n,s,r){r?t.lineTo(e,i):t.lineTo(n,s)}function s1(t,e,i,n,s,r,l,c,h,d){d?t.cubicCurveTo(r,l,n,s,e,i):t.cubicCurveTo(n,s,r,l,c,h)}function a1(t,e,i,n,s,r,l){l?(t.lineTo(r,s),t.lineTo(r,i),t.lineTo(e,i)):(t.lineTo(r,i),t.lineTo(r,s),t.lineTo(n,s))}function v0(t,e,i,n){const[s,r]=Rs(e);switch(i1(t,i,s.x,s.y,r.x,r.y,n),e.type){case"linear":n1(t,e.x0,e.y0,e.x1,e.y1,n);break;case"cubic":s1(t,e.cp0x,e.cp0y,e.cp1x,e.cp1y,e.cp2x,e.cp2y,e.cp3x,e.cp3y,n);break;case"step":a1(t,e.x0,e.y0,e.x1,e.y1,e.stepX,n);break}}function r1(t,e,i){const[n,s]=Rs(t),[r,l]=Rs(e),c=Ze(n.x,r.x,i),h=Ze(n.y,r.y,i),d=Ze(s.x,l.x,i),p=Ze(s.y,l.y,i);return[{x:c,y:h},{x:d,y:p}]}function M0(t,e,i,n,s,r){const[{x:l,y:c},{x:h,y:d}]=r1(e,i,n);if(i1(t,s,l,c,h,d,r),e.type==="cubic"&&i.type==="cubic"){const p=Ze(e.cp1x,i.cp1x,n),g=Ze(e.cp1y,i.cp1y,n),m=Ze(e.cp2x,i.cp2x,n),b=Ze(e.cp2y,i.cp2y,n);s1(t,l,c,p,g,m,b,h,d,r)}else if(e.type==="step"&&i.type==="step"){const p=Ze(e.stepX,i.stepX,n);a1(t,l,c,h,d,p,r)}else if(e.type==="linear"&&i.type==="linear")n1(t,l,c,h,d,r);else{let p;e.type==="step"?p=e.stepX:i.type==="step"?p=i.stepX:p=(l+h)/2;const g=tL(e,p),m=tL(i,p),b=Ze(g.leftCp1x,m.leftCp1x,n),v=Ze(g.leftCp1y,m.leftCp1y,n),S=Ze(g.leftCp2x,m.leftCp2x,n),A=Ze(g.leftCp2y,m.leftCp2y,n),D=Ze(g.stepX,m.stepX,n),L=Ze(g.stepY0,m.stepY0,n),C=Ze(g.stepY1,m.stepY1,n),N=Ze(g.rightCp1x,m.rightCp1x,n),k=Ze(g.rightCp1y,m.rightCp1y,n),O=Ze(g.rightCp2x,m.rightCp2x,n),_=Ze(g.rightCp2y,m.rightCp2y,n);r?(t.cubicCurveTo(O,_,N,k,D,C),t.lineTo(D,L),t.cubicCurveTo(S,A,b,v,l,c)):(t.cubicCurveTo(b,v,S,A,D,L),t.lineTo(D,C),t.cubicCurveTo(N,k,O,_,h,d))}}var o1=(t=>(t[t.Zero=0]="Zero",t[t.Split=1]="Split",t))(o1||{});function v4(t,e){return t==null||e==null||typeof t!="object"||typeof e!="object"?!1:"id"in t&&"id"in e?t.id===e.id:t.toString()===e.toString()}function Ci(t,e){if(!e)return NaN;if(t instanceof Date&&(t=t.getTime()),e.type==="continuous"&&typeof t=="number")return(t-e.domain[0])/(e.domain[1]-e.domain[0])*(e.range[1]-e.range[0])+e.range[0];if(e.type==="log"&&typeof t=="number")return e.convert(t);if(e.type!=="category")return NaN;const i=e.domain.findIndex(s=>s===t);return i>=0||e.domain.findIndex(s=>v4(t,s))>=0?e.inset+e.step*i:NaN}function Wn(t){return s0(t).valueOf()}function eL({data:t},e){return t.map((i,n)=>({xValue0Index:e.indexOf(Wn(i.xValue0)),xValue1Index:e.indexOf(Wn(i.xValue1)),datumIndex:n}))}function M4(t,e){const i=e.scales.x,n=t.scales.x;if((i==null?void 0:i.type)!=="category"||(n==null?void 0:n.type)!=="category")return!0;let s=-1/0;for(const r of i.domain){const l=Ci(r,n);if(Number.isFinite(l)){if(l<s)return!1;s=l}}return!0}function S4(t,e){let i=-1/0;for(const n of t){const s=Ci(n.value,e.scales.x);if(Number.isFinite(s)){if(s<i)return!1;i=s}}return!0}function D4(t,e){const i=new Map;for(const{xValue0:p,xValue1:g}of t.data){const m=Wn(p),b=Wn(g);i.set(m,p).set(b,g)}const n=Array.from(i,([p,g])=>({axisValue:p,value:g}));n.sort((p,g)=>Ci(p.value,t.scales.x)-Ci(g.value,t.scales.x));const s=[];for(const{xValue0:p,xValue1:g}of e.data){const m=Wn(p),b=Wn(g);i.has(m)||(i.set(m,p),s.push({axisValue:m,value:p})),i.has(b)||(i.set(b,g),s.push({axisValue:b,value:g}))}s.sort((p,g)=>Ci(p.value,e.scales.x)-Ci(g.value,e.scales.x));const r=n;let l=0;for(const p of s){for(let g=r.length-1;g>l;g-=1){const m=Ci(p.value,e.scales.x),b=Ci(r[g].value,e.scales.x);if(m>b){l=g+1;break}}r.splice(l,0,p),l+=1}if(!S4(r,e))return;const c=r.map(p=>p.axisValue),h=eL(e,c),d=eL(t,c);return{axisValues:c,oldDataAxisIndices:h,newDataAxisIndices:d}}function iL(t,e,i){if(i.xValue1Index===i.xValue0Index+1)return t;const n=Rs(t),s=(n[1].x-n[0].x)/(i.xValue1Index-i.xValue0Index),r=n[0].x+(e-i.xValue0Index)*s,l=r+s;return e1(t,r,l)}function l1(t,e){const[i,n]=Rs(t),s=Ci(0,e.scales.y);return Zu(t,{x:i.x,y:s},{x:n.x,y:s})}function c1(t){const[e,i]=Rs(t);return d4(t,{x:(e.x+i.x)/2,y:(e.y+i.y)/2})}function u1(t,e,i,n,s,r){var g,m;let l,c;if(s.xValue0Index>=r.xValue1Index){const b=(g=n.findLast(S=>S.xValue1Index<=r.xValue1Index))==null?void 0:g.datumIndex,v=b!=null?i.data[b]:void 0;l=v==null?void 0:v.xValue1,c=v==null?void 0:v.yValue1}else if(s.xValue0Index<=r.xValue0Index){const b=(m=n.find(S=>S.xValue0Index>=r.xValue0Index))==null?void 0:m.datumIndex,v=b!=null?i.data[b]:void 0;l=v==null?void 0:v.xValue0,c=v==null?void 0:v.yValue0}if(l==null||c==null)switch(e){case 0:return l1(t,i);case 1:return c1(t)}const h=Ci(l,i.scales.x),d=Ci(c,i.scales.y),p={x:h,y:d};return Zu(t,p,p)}function ex(t,e){var s;if(e==null)return;const i=Wn(t.xValue0),n=Wn(t.xValue1);return(s=e.find(r=>Wn(r.xValue0)===i&&Wn(r.xValue1)===n))==null?void 0:s.span}function nL(t,e,i,n,s,r,l){const c=t.data[n.datumIndex],h=c.span,d=ex(c,s);if(d!=null)l.removed.push({from:d,to:d}),l.moved.push({from:d,to:h}),l.added.push({from:h,to:h});else{const p=u1(h,e,t,i,n,r);l.added.push({from:p,to:h})}}function sL(t,e,i,n,s,r,l){const c=t.data[n.datumIndex],h=c.span,d=ex(c,s);if(d!=null)l.removed.push({from:h,to:h}),l.moved.push({from:h,to:d}),l.added.push({from:d,to:d});else{const p=u1(h,e,t,i,n,r);l.removed.push({from:h,to:p})}}function aL(t,e,i,n,s){const r=e[s.xValue0Index],l=i.data.find(A=>Wn(A.xValue0)===r),c=e[s.xValue1Index],h=i.data.find(A=>Wn(A.xValue1)===c);if(l==null||h==null)return;const[{x:d},{x:p}]=Rs(t),g=Ci(l.xValue0,i.scales.x),m=Ci(l.yValue0,i.scales.y),b=Ci(h.xValue1,i.scales.x),v=Ci(h.yValue1,i.scales.y);let S=n.data[s.datumIndex].span;return S=Zu(S,{x:g,y:m},{x:b,y:v}),S=e1(S,d,p),S}function A4(t,e,i,n,s,r,l,c,h){const d=s+1,p=l.find(C=>C.xValue0Index<=s&&C.xValue1Index>=d),g=r.find(C=>C.xValue0Index<=s&&C.xValue1Index>=d),m=e.zeroData,b=t.zeroData;if(p==null&&g!=null){nL(t,i,r,g,m,c,h);return}else if(p!=null&&g==null){sL(e,i,l,p,b,c,h);return}else if(p==null||g==null)return;let v;p.xValue0Index===g.xValue0Index&&p.xValue1Index===g.xValue1Index?v=0:p.xValue0Index<=g.xValue0Index&&p.xValue1Index>=g.xValue1Index?v=-1:p.xValue0Index>=g.xValue0Index&&p.xValue1Index<=g.xValue1Index?v=1:v=0;const S=e.data[p.datumIndex],A=iL(S.span,s,p),D=t.data[g.datumIndex],L=iL(D.span,s,g);if(v===1){const C=aL(A,n,e,t,g);C!=null?(h.removed.push({from:A,to:C}),h.moved.push({from:C,to:L}),h.added.push({from:L,to:L})):sL(e,i,l,p,b,c,h)}else if(v===-1){const C=aL(L,n,t,e,p);C!=null?(h.removed.push({from:A,to:A}),h.moved.push({from:A,to:C}),h.added.push({from:C,to:L})):nL(t,i,r,g,m,c,h)}else h.removed.push({from:A,to:A}),h.moved.push({from:A,to:L}),h.added.push({from:L,to:L})}function L4(t,e,i,n){var d,p,g,m;const s={removed:[],moved:[],added:[]},{axisValues:r,oldDataAxisIndices:l,newDataAxisIndices:c}=t,h={xValue0Index:Math.max(((d=l.at(0))==null?void 0:d.xValue0Index)??-1/0,((p=c.at(0))==null?void 0:p.xValue0Index)??-1/0),xValue1Index:Math.min(((g=l.at(-1))==null?void 0:g.xValue1Index)??1/0,((m=c.at(-1))==null?void 0:m.xValue1Index)??1/0)};for(let b=0;b<r.length-1;b+=1)A4(e,i,n,r,b,c,l,h,s);return s}function rL(t,e,i){const{span:n}=e;switch(i){case 0:return ex(e,t.zeroData)??l1(n,t);case 1:return c1(n)}}function T4(t,e,i){const n=[],s=[];for(const r of e.data){const l=r.span,c=rL(e,r,i);s.push({from:l,to:c})}for(const r of t.data){const l=r.span,c=rL(t,r,i);n.push({from:c,to:l})}return{removed:s,moved:[],added:n}}function ku(t,e,i){if(!M4(t,e))return;const n=D4(t,e);return n==null?T4(t,e,i):L4(n,t,e,i)}function oL(t){return t.type==="continuous"||t.type==="log"}function lL(t){return t.type==="category"}function Ol(t,e){return t===void 0||e===void 0?t!==void 0||e!==void 0:oL(t)&&oL(e)?t.type===e.type&&Cs(t.domain,e.domain)&&Cs(t.range,e.range):lL(t)&&lL(e)?t.inset===e.inset&&t.step===e.step&&Cs(t.domain,e.domain):!1}function Xu(t){return t==null?!1:t.type==="category"?t.domain.every(e=>e!=null):t.domain.every(e=>Number.isFinite(e)||e instanceof Date)&&t.range.every(e=>Number.isFinite(e))}function Yf(t,e){let i;const n=t.map(s=>s.point);switch(e.type){case"linear":i=f4(n);break;case"smooth":i=m4(n,e.tension);break;case"step":i=g4(n,e.position);break}return i.map((s,r)=>({span:s,xValue0:t[r].xDatum,yValue0:t[r].yDatum,xValue1:t[r+1].xDatum,yValue1:t[r+1].yDatum}))}function h1(t,e,i=.001){return Math.abs(t.x-e.x)<i&&Math.abs(t.y-e.y)<i}function ix({path:t},e){let i;for(const{span:n}of e){const[s,r]=Rs(n),l=i!=null&&h1(i,s)?1:0;v0(t,n,l,!1),i=r}}function bf(t,e,i){let n;for(const s of i){const[r,l]=r1(s.from,s.to,t),c=n!=null&&h1(n,r)?1:0;M0(e.path,s.from,s.to,t,c,!1),n=l}}function nx(t,e,i){const n=(c,h)=>bf(c,h,e.removed),s=(c,h)=>bf(c,h,e.moved),r=(c,h)=>bf(c,h,e.added),l=sx(t,i);return{status:t,path:{addPhaseFn:r,updatePhaseFn:s,removePhaseFn:n},pathProperties:l}}function sx(t,e){const i=e==="none"?"updated":t,n={fromFn:s=>{let r;return t==="removed"?r={finish:{visible:!1}}:t==="added"?r={start:{visible:!0}}:r={},{phase:us[i],...r}},toFn:s=>({phase:us[i]})};return e==="fade"?{fromFn:s=>({opacity:t==="added"?0:s.opacity,...n.fromFn(s)}),toFn:s=>({opacity:t==="removed"?0:1,...n.toFn(s)})}:n}function d1(t,e,i){var d,p;const n=((d=t.scales.x)==null?void 0:d.type)==="category",s=((p=e.scales.x)==null?void 0:p.type)==="category";if(n!==s||!Xu(t.scales.x)||!Xu(e.scales.x)||t.strokeData==null||e.strokeData==null)return;let r="updated";e.visible&&!t.visible?r="removed":!e.visible&&t.visible&&(r="added");const l=ku({scales:t.scales,data:t.strokeData.spans},{scales:e.scales,data:e.strokeData.spans},1);if(l==null)return;const c=nx(r,l,"fade"),h=((i==null?void 0:i.changed)??!0)||!Ol(t.scales.x,e.scales.x)||!Ol(t.scales.y,e.scales.y)||r!=="updated";return{status:r,stroke:c,hasMotion:h}}function f1({path:t},{spans:e,phantomSpans:i}){for(let n=0;n<e.length;n+=1){const{span:s}=e[n],r=i[n].span;v0(t,s,0,!1),v0(t,r,1,!0),t.closePath()}}function xf(t,{path:e},i,n){for(let s=0;s<i.length;s+=1){const r=i[s],l=n[s];M0(e,r.from,r.to,t,0,!1),M0(e,l.from,l.to,t,1,!0),e.closePath()}}function p1(t,e,i,n){const s=(h,d)=>xf(h,d,e.removed,i.removed),r=(h,d)=>xf(h,d,e.moved,i.moved),l=(h,d)=>xf(h,d,e.added,i.added),c=sx(t,n);return{status:t,path:{addPhaseFn:l,updatePhaseFn:r,removePhaseFn:s},pathProperties:c}}function g1(t,e){var g,m;const i=((g=t.scales.x)==null?void 0:g.type)==="category",n=((m=e.scales.x)==null?void 0:m.type)==="category";if(i!==n||!Xu(t.scales.x)||!Xu(e.scales.x))return;let s="updated";e.visible&&!t.visible?s="removed":!e.visible&&t.visible&&(s="added");const r=ku({scales:t.scales,data:t.fillData.spans},{scales:e.scales,data:e.fillData.spans},0);if(r==null)return;const l=ku({scales:t.scales,data:t.fillData.phantomSpans},{scales:e.scales,data:e.fillData.phantomSpans},0);if(l==null)return;const c=ku({scales:t.scales,data:t.strokeData.spans,zeroData:t.fillData.phantomSpans},{scales:e.scales,data:e.strokeData.spans,zeroData:e.fillData.phantomSpans},0);if(c==null)return;const h="none",d=p1(s,r,l,h),p=nx(s,c,h);return{status:s,fill:d,stroke:p}}function $u({id:t},e,i,...n){const s={phase:i?us[i]:"trailing"};xa(t,"markers",e,n,{opacity:0},{opacity:1},s),n.forEach(r=>r.cleanup())}function ax({id:t},e,...i){xa(t,"markers",e,i,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1},{phase:"initial"}),i.forEach(n=>n.cleanup())}function rx({id:t,nodeDataDependencies:e},i,...n){const s=e.seriesRectWidth;Ce(t,"markers",i,n,{fromFn:(c,h)=>{var g;const d=((g=h.midPoint)==null?void 0:g.x)??s;let p=Et(0,rT(d/s),1);return isNaN(p)&&(p=0),{scalingX:0,scalingY:0,delay:p,duration:Tf,phase:"initial"}},toFn:()=>({scalingX:1,scalingY:1})})}function wh(t){return{opacity:1,scalingX:1,scalingY:1}}function qu(t,e){var i,n;return{translationX:((i=e.point)==null?void 0:i.x)??NaN,translationY:((n=e.point)==null?void 0:n.y)??NaN}}function Oh(t,{datumIndex:e}){const i=t.getNodeData();if(i===void 0)return;const n=i[e],{point:s}=n;if(n==null||s==null)return;const r=4+(s.focusSize??t.getFormattedMarkerStyle(n).size),l=r/2,c=n.point.x-l,h=n.point.y-l;return ke.toCanvas(t.contentGroup,new bt(c,h,r,r))}function ox({id:t,visible:e,nodeDataDependencies:i},n,...s){const{seriesRectWidth:r,seriesRectHeight:l}=i;xa(t,"path_properties",n,s,{clipX:0},{clipX:r},{phase:"initial",start:{clip:!0,clipY:l,visible:e},finish:{clip:!1,visible:e}})}function Vf({id:t},e,i,n="add",...s){xa(t,e,i,s,{opacity:0},{opacity:1},{phase:n})}function lx(t){return e=>({visible:t.getVisible(),opacity:t.getOpacity(),clipScalingX:1,clip:!1})}function Hf({nodeDataDependencies:t},e){const i=n=>isFinite(n)?n:0;e.clipX=i(t.seriesRectWidth),e.clipY=i(t.seriesRectHeight)}var I4=.125,N4=.25,cx=class extends Lr{constructor(t){super({moduleCtx:t,directionKeys:ko,directionNames:wo,pathsPerSeries:["fill","stroke"],pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,markerSelectionGarbageCollection:!1,pickModes:[2,0],animationResetFns:{path:lx({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:ka,marker:(e,i)=>({...wh(),...qu(e,i)})}}),this.properties=new Ve,this.connectsToYAxis=!0,this.backgroundGroup=new Tt({name:`${this.id}-background`,zIndex:0}),this._isStacked=void 0}get pickModeAxis(){return"main"}renderToOffscreenCanvas(){return super.renderToOffscreenCanvas()||this.contextNodeData!=null&&(this.contextNodeData.fillData.spans.length>Ff||this.contextNodeData.strokeData.spans.length>Ff)}attachSeries(t,e,i){super.attachSeries(t,e,i),t.appendChild(this.backgroundGroup)}detachSeries(t,e,i){super.detachSeries(t,e,i),t==null||t.removeChild(this.backgroundGroup)}attachPaths([t,e]){this.backgroundGroup.appendChild(t),this.contentGroup.appendChild(e),e.zIndex=-1}detachPaths([t,e]){this.backgroundGroup.removeChild(t),this.contentGroup.removeChild(e)}isStacked(){var e;return(((e=this.seriesGrouping)==null?void 0:e.stackCount)??1)>1}setSeriesIndex(t){const e=this.isStacked();return!super.setSeriesIndex(t)&&this._isStacked===e?!1:(this._isStacked=e,e?(this.backgroundGroup.zIndex=[0,t],this.contentGroup.zIndex=[1,t,0]):(this.backgroundGroup.zIndex=[1,t,0,0],this.contentGroup.zIndex=[1,t,0,1]),!0)}async processData(t){var L,C;if(this.data==null||!this.properties.isValid())return;const{data:e,visible:i,seriesGrouping:{groupIndex:n=this.id,stackCount:s=1}={}}=this,{xKey:r,yKey:l,yFilterKey:c,connectMissingData:h,normalizedTo:d}=this.properties,p=!this.ctx.animationManager.isSkipped(),g=(L=this.axes.x)==null?void 0:L.scale,m=(C=this.axes.y)==null?void 0:C.scale,{xScaleType:b,yScaleType:v}=this.getScaleInformation({xScale:g,yScale:m}),S={value:`area-stack-${n}-yValue`,values:`area-stack-${n}-yValues`,stack:`area-stack-${n}-yValue-stack`,marker:`area-stack-${n}-yValues-marker`},A=[];df(d)&&A.push(wp(Object.values(S),d)),p&&A.push(Ql());const D={invalidValue:null};(df(d)||h)&&s>1&&(D.invalidValue=0),i||(D.forceValue=0),await this.requestDataModel(t,e,{props:[ps(r,b,{id:"xValue"}),jt(l,v,{id:"yValueRaw",...D}),...c!=null?[jt(c,v,{id:"yFilterRaw"})]:[],...ON(l,v,{id:"yValueStack",...D,groupId:S.stack}),jt(l,v,{id:"yValue",...D,groupId:S.value}),...gr(l,"window","current",{id:"yValueEnd",...D,groupId:S.values},v),...gr(l,"normal","current",{id:"yValueCumulative",...D,groupId:S.marker},v),...A],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")}xCoordinateRange(t,e){const{marker:i}=this.properties,n=this.axes.x.scale.convert(t),s=i.enabled?.5*i.size*e:0;return[n-s,n+s]}yCoordinateRange(t,e){const{marker:i}=this.properties,n=this.axes.y.scale.convert(t[0]),s=i.enabled?.5*i.size*e:0;return[n-s,n+s]}getSeriesDomain(t){const{processedData:e,dataModel:i,axes:n}=this;if(!e||!i)return[];const s=n.y;if(t==="x"){const l=i.resolveProcessedDataDefById(this,"xValue"),c=i.getDomain(this,"xValue","key",e);return(l==null?void 0:l.def.type)==="key"&&l.def.valueType==="category"?c:on(Ia(c))}const r=this.domainForClippedRange("y",["yValueEnd"],"xValue",!0);if(s instanceof Oo||s instanceof Eo)return on(r);{const l=Number.isFinite(r[1]-r[0])?[r[0]>0?0:r[0],r[1]<0?0:r[1]]:[];return on(l)}}getSeriesRange(t,e){const[i,n]=this.domainForVisibleRange("y",["yValueEnd"],"xValue",e,!0);return[Math.min(i,0),Math.max(n,0)]}getVisibleItems(t,e,i){return this.countVisibleItems("xValue",["yValueEnd"],t,e,i)}createNodeData(){var ct;const{axes:t,data:e,processedData:i,dataModel:n}=this,s=t.x,r=t.y;if(!s||!r||!e||!n||(i==null?void 0:i.type)!=="grouped"||!this.properties.isValid())return;const{yKey:l,xKey:c,yFilterKey:h,marker:d,label:p,fill:g,stroke:m,connectMissingData:b,interpolation:v}=this.properties,{scale:S}=s,{scale:A}=r,{isContinuousY:D}=this.getScaleInformation({xScale:S,yScale:A}),L=(S.bandwidth??0)/2,C=n.resolveKeysById(this,"xValue",i),N=n.resolveColumnById(this,"yValueEnd",i),k=n.resolveColumnById(this,"yValueRaw",i),O=n.resolveColumnById(this,"yValueCumulative",i),_=h!=null?n.resolveColumnById(this,"yFilterRaw",i):void 0,j=n.resolveColumnById(this,"yValueStack",i),z=(pt,J,et)=>{let ht;return(df(this.properties.normalizedTo)?D&&mp(et):!isNaN(et))&&(ht=J),{x:S.convert(pt)+L,y:A.convert(ht),size:d.size}},B=[],q=[],{visibleSameStackCount:at}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);let nt=!1;const{dataSources:xt}=i,St=xt.get(this.id)??[];for(const{datumIndex:pt}of n.forEachGroupDatum(this,i)){const J=C[pt];if(J==null)return;const et=St[pt],ht=k[pt],Mt=O[pt],wt=N[pt],Bt=Number.isFinite(ht),Yt=z(J,+Mt,ht),Kt=_!=null?_[pt]===ht:void 0;if(Kt===!1&&(nt=!0),Bt&&d&&q.push({series:this,itemId:l,datum:et,datumIndex:pt,midPoint:{x:Yt.x,y:Yt.y},cumulativeValue:wt,yValue:ht,xValue:J,yKey:l,xKey:c,point:Yt,fill:d.fill??g,stroke:d.stroke??m,strokeWidth:d.strokeWidth??this.getStrokeWidth(this.properties.strokeWidth),selected:Kt}),Bt&&p){const se=this.getLabelText(p,{value:ht,datum:et,xKey:c,yKey:l,xName:this.properties.xName,yName:this.properties.yName});B.push({series:this,itemId:l,datum:et,datumIndex:pt,x:Yt.x,y:Yt.y,labelText:se})}}const W=pt=>pt.flatMap(J=>Array.isArray(J)?Yf(J,v):new Array(J.skip).fill(null)),lt=(pt,J)=>({point:{x:S.convert(pt)+L,y:A.convert(J)},xDatum:pt,yDatum:J}),it=pt=>{const J=[];for(const{datumIndexes:[et,ht,Mt]}of n.forEachGroupDatumTuple(this,i)){const wt=C[ht],Bt=j[ht],Yt=Bt[pt],Kt=Number.isFinite(Yt);if(b&&!Kt)continue;const se=et!=null?j[et]:void 0,me=Mt!=null?j[Mt]:void 0;let Me=0,li=0;for(let Se=0;Se<=pt;Se+=1){const Ai=Bt[Se];if(Number.isFinite(Ai)){const zi=se==null||Number.isFinite(se[Se]),Ji=me==null||Number.isFinite(me[Se]);zi&&(Me+=Ai),Ji&&(li+=Ai)}}const _e=J[J.length-1];if(!b&&(Me!==li||!Kt))if(!Kt&&Array.isArray(_e)&&_e.length===1)J[J.length-1]={skip:1};else{const Se=lt(wt,Me),Ai=lt(wt,li);Array.isArray(_e)?_e.push(Se):_e!=null&&(_e.skip+=1),J.push(Kt?[Ai]:{skip:0})}else{const Se=Math.max(Me,li),Ai=lt(wt,Se);Array.isArray(_e)?_e.push(Ai):_e!=null?(_e.skip+=1,J.push([Ai])):J.push([Ai])}}return W(J)},ut=((ct=this.seriesGrouping)==null?void 0:ct.stackIndex)??0,w=()=>{const pt=Array.from(n.forEachGroupDatum(this,i),({datumIndex:J})=>{const et=C[J],Mt=j[J][ut];if(!(b&&!Number.isFinite(Mt)))return lt(et,0)}).filter(J=>J!=null);return Yf(pt,v)},U=it(ut),Q=U.map(()=>null);for(let pt=ut-1;pt>=-1;pt-=1){let J;for(let et=0;et<Q.length;et+=1)Q[et]==null&&(J??(J=pt!==-1?it(pt):w()),Q[et]=J[et])}const $=U.map((pt,J)=>pt??Q[J]),X=U.filter(pt=>pt!=null);return{itemId:l,fillData:{itemId:l,spans:$,phantomSpans:Q},strokeData:{itemId:l,spans:X},labelData:B,nodeData:q,scales:this.calculateScaling(),visible:this.visible,stackVisible:at>0,crossFiltering:nt}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}updatePathNodes(t){var d;const{opacity:e,visible:i,animationEnabled:n}=t,[s,r]=t.paths,l=((d=this.contextNodeData)==null?void 0:d.crossFiltering)===!0,c=this.getStrokeWidth(this.properties.strokeWidth);r.setProperties({fill:void 0,lineCap:"round",lineJoin:"round",pointerEvents:1,stroke:this.properties.stroke,strokeWidth:c,strokeOpacity:this.properties.strokeOpacity*(l?N4:1),lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:e,visible:i||n});const{fill:h}=this.properties;if(zT(h)){const p=this.getGradientFillOptions(h,this.properties.defaultColorRange);s.gradientFillOptions=p}s.setProperties({stroke:void 0,lineJoin:"round",pointerEvents:1,fill:this.properties.fill,fillOpacity:this.properties.fillOpacity*(l?I4:1),fillShadow:this.properties.shadow,opacity:e,visible:i||n}),Hf(this,r),Hf(this,s)}updatePaths(t){this.updateAreaPaths(t.paths,t.contextData)}updateAreaPaths(t,e){for(const i of t)i.visible=e.visible;if(e.visible)this.updateFillPath(t,e),this.updateStrokePath(t,e);else for(const i of t)i.path.clear(),i.markDirty()}updateFillPath(t,e){const[i]=t;i.path.clear(),f1(i,e.fillData),i.markDirty()}updateStrokePath(t,e){const{spans:i}=e.strokeData,[,n]=t;n.path.clear(),ix(n,i),n.markDirty()}updateMarkerSelection(t){var s;const{nodeData:e,markerSelection:i}=t,n=this.properties.marker.enabled||((s=this.contextNodeData)==null?void 0:s.crossFiltering)===!0;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(n?e:[])}getMarkerItemBaseStyle(t){const{marker:e}=this.properties,i=t?this.properties.highlightStyle.item:void 0;return{fill:(i==null?void 0:i.fill)??e.fill,fillOpacity:(i==null?void 0:i.fillOpacity)??e.fillOpacity,stroke:(i==null?void 0:i.stroke)??e.stroke,strokeWidth:(i==null?void 0:i.strokeWidth)??e.strokeWidth,strokeOpacity:(i==null?void 0:i.strokeOpacity)??e.strokeOpacity}}getMarkerItemStyleOverrides(t,e,i,n,s,r){const{marker:l}=this.properties,{itemStyler:c}=l;if(c==null)return;const{id:h,properties:d}=this,{xKey:p,yKey:g}=d,{xDomain:m,yDomain:b}=this.cachedDatumCallback("domain",()=>({xDomain:this.getSeriesDomain("x"),yDomain:this.getSeriesDomain("y")}));return this.cachedDatumCallback(Ye(t,r?"highlight":"node"),()=>c({seriesId:h,...pr(e,p,g,m,b),xValue:i,yValue:n,highlighted:r,...s}))}updateMarkerNodes(t){const{markerSelection:e,isHighlight:i}=t,{xKey:n,yKey:s,marker:r,fill:l,stroke:c,strokeWidth:h,fillOpacity:d,strokeOpacity:p,highlightStyle:g}=this.properties,m=this.getSeriesDomain("x"),b=this.getSeriesDomain("y"),v=Rt(i&&g.item,r.getStyle(),{fill:l,stroke:c,strokeWidth:h,fillOpacity:d,strokeOpacity:p});e.each((S,A)=>{this.updateMarkerStyle(S,r,{...pr(A,n,s,m,b),highlighted:i},v,{selected:A.selected})}),i||this.properties.marker.markClean()}updateLabelSelection(t){const{labelData:e,labelSelection:i}=t;return i.update(e)}updateLabelNodes(t){const{labelSelection:e}=t,{enabled:i,fontStyle:n,fontWeight:s,fontSize:r,fontFamily:l,color:c}=this.properties.label;e.each((h,d)=>{const{x:p,y:g,labelText:m}=d;m&&i&&this.visible?(h.fontStyle=n,h.fontWeight=s,h.fontSize=r,h.fontFamily=l,h.textAlign="center",h.textBaseline="bottom",h.text=m,h.x=p,h.y=g-10,h.fill=c,h.visible=!0):h.visible=!1})}getTooltipContent(t){var L;const{id:e,dataModel:i,processedData:n,axes:s,properties:r}=this,{xKey:l,xName:c,yKey:h,yName:d,tooltip:p}=r,g=s.x,m=s.y;if(!i||!n||!g||!m)return;const{datumIndex:b}=t,v=(L=n.dataSources.get(this.id))==null?void 0:L[b],S=i.resolveKeysById(this,"xValue",n)[b],A=i.resolveColumnById(this,"yValueRaw",n)[b];if(S==null)return;const D=this.getMarkerItemBaseStyle(!1);return Object.assign(D,this.getMarkerItemStyleOverrides(String(b),v,S,A,D,!1)),p.formatTooltip({heading:g.formatDatum(S),symbol:this.legendItemSymbol(),data:[{label:d,fallbackLabel:h,value:m.formatDatum(A)}]},{seriesId:e,datum:v,title:d,xKey:l,xName:c,yKey:h,yName:d,...D,...this.getModuleTooltipParams()})}legendItemSymbol(){const{fill:t,stroke:e,fillOpacity:i,strokeOpacity:n,strokeWidth:s,lineDash:r,marker:l}=this.properties,c=!l.enabled||l.fill===void 0;return{marker:{shape:l.shape,fill:c?t:l.fill,fillOpacity:c?i:l.fillOpacity,stroke:l.stroke??e,strokeOpacity:l.strokeOpacity,strokeWidth:l.strokeWidth,lineDash:l.lineDash,lineDashOffset:l.lineDashOffset,enabled:l.enabled||s<=0},line:{stroke:e,strokeOpacity:n,strokeWidth:s,lineDash:r}}}getLegendData(t){if(!this.properties.isValid()||t!=="category")return[];const{id:e,ctx:{legendManager:i},visible:n}=this,{yKey:s,yName:r,legendItemName:l,showInLegend:c}=this.properties;return[{legendType:t,id:e,itemId:s,seriesId:e,enabled:n&&i.getItemEnabled({seriesId:e,itemId:s}),label:{text:l??r??s},symbol:this.legendItemSymbol(),legendItemName:l,hideInLegend:!c}]}animateEmptyUpdateReady(t){const{markerSelection:e,labelSelection:i,contextData:n,paths:s}=t,{animationManager:r}=this.ctx;this.updateAreaPaths(s,n),ox(this,r,...s),fi([e],qu),rx(this,r,e),Xt(this,"labels",r,i)}animateReadyResize(t){const{contextData:e,paths:i}=t;this.updateAreaPaths(i,e),super.animateReadyResize(t)}animateWaitingUpdateReady(t){const{animationManager:e}=this.ctx,{markerSelection:i,labelSelection:n,contextData:s,paths:r,previousContextData:l}=t,[c,h]=r;if(c==null&&h==null)return;this.resetMarkerAnimation(t),this.resetLabelAnimation(t);const d=()=>{this.resetPathAnimation(t),this.updateAreaPaths(r,s)},p=()=>{e.skipCurrentBatch(),d()};if(s==null||l==null){d(),$u(this,e,"added",i),Vf(this,"fill_path_properties",e,"add",c),Vf(this,"stroke_path_properties",e,"add",h),Xt(this,"labels",e,n);return}if(s.crossFiltering!==l.crossFiltering){p();return}const g=g1(s,l);if(g===void 0){p();return}else if(g.status==="no-op")return;$u(this,e,void 0,i),Ce(this.id,"fill_path_properties",e,[c],g.fill.pathProperties),Uf(this.id,"fill_path_update",e,[c],g.fill.path),Ce(this.id,"stroke_path_properties",e,[h],g.stroke.pathProperties),Uf(this.id,"stroke_path_update",e,[h],g.stroke.path),Xt(this,"labels",e,n),this.ctx.animationManager.animate({id:this.id,groupId:"reset_after_animation",phase:"trailing",from:{},to:{},onComplete:()=>this.updateAreaPaths(r,s)})}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Tt}getFormattedMarkerStyle(t){const{xKey:e,yKey:i}=t,n=this.getSeriesDomain("x"),s=this.getSeriesDomain("y");return this.getMarkerStyle(this.properties.marker,{...pr(t,e,i,n,s),highlighted:!0})}computeFocusBounds(t){return Oh(this,t)}};cx.className="AreaSeries";cx.type="area";var C4={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",moduleFactory:t=>new cx(t),stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{nodeClickRange:"nearest",tooltip:{position:{type:"node"}},fillOpacity:.8,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:Nr,xOffset:3,yOffset:3,blur:5},interpolation:{type:"linear",tension:1,position:"end"},marker:{enabled:!1,shape:"circle",size:7,strokeWidth:0},label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}}},paletteFactory:t=>{const{marker:e}=tx(t),i=t.themeTemplateParameters.get(Gp);return{fill:e.fill,stroke:e.stroke,marker:e,defaultColorRange:i}}};function ux(t,e){for(const i of e){const n=i.datum;n===void 0?ot.error("undefined datum"):t.addValue(i,n)}}function hx(t,e){const{x:i,y:n}=e,{nearest:s,distanceSquared:r}=t.getQuadTree().find(i,n);if(s!==void 0)return{datum:s.value,distance:Math.sqrt(r)}}var dx=class extends Ca{constructor(){super(...arguments),this.direction="vertical"}};M([T(IT)],dx.prototype,"direction",2);var m1=class extends Lr{constructor(){super(...arguments),this.groupScale=new rh,this.smallestDataInterval=void 0,this.largestDataInterval=void 0}padBandExtent(t,e){const i=typeof e=="boolean"?1:.5,n=Wt(this.smallestDataInterval)?this.smallestDataInterval*i:0,s=Ia(t)??[NaN,NaN];return typeof e=="boolean"?s[e?0:1]-=(e?1:-1)*n:(s[0]-=n,s[1]+=n),on(s)}getBandScalePadding(){return{inner:.3,outer:.15}}shouldFlipXY(){return!this.isVertical()}isVertical(){return this.properties.direction==="vertical"}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){const t=this.getBarDirection();return this.axes[t]}getCategoryAxis(){const t=this.getCategoryDirection();return this.axes[t]}getBandwidth(t){return te.is(t.scale)?t.scale.calcBandwidth(this.smallestDataInterval):t.scale.bandwidth}xCoordinateRange(t){const e=this.axes[this.getCategoryDirection()],i=e.scale,n=this.getBandwidth(e)??0,s=te.is(i)?n*-.5:0,r=i.convert(t)+s;return[r,r+n]}yCoordinateRange(t){const i=this.axes[this.getBarDirection()].scale,n=t.map(s=>i.convert(s));if(n.length===1){const s=i.convert(0);return[Math.min(n[0],s),Math.max(n[0],s)]}return[Math.min(...n),Math.max(...n)]}updateGroupScale(t){const e=[],{groupScale:i}=this,n=this.getBandwidth(t),{index:s,visibleGroupCount:r}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);for(let c=0;c<r;c++)e.push(String(c));return i.domain=e,i.range=[0,n??0],t instanceof tc?i.paddingInner=t.groupPaddingInner:t instanceof Zl?(i.paddingInner=t.groupPaddingInner,i.round=i.padding!==0):i.padding=0,{barWidth:i.bandwidth>=1?i.bandwidth:i.rawBandwidth,groupIndex:s}}resolveKeyDirection(t){return this.getBarDirection()==="x"?t==="x"?"y":"x":t}initQuadTree(t){ux(t,this.datumNodesIter())}pickNodeClosestDatum(t){return hx(this,t)}},fx=class extends ri{constructor(){super(...arguments),this.placement="inside-center",this.padding=0}};M([T(ue(["inside-center","inside-start","inside-end","outside-start","outside-end"],"a placement"))],fx.prototype,"placement",2);M([T(Ut)],fx.prototype,"padding",2);var we=class extends dx{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.crisp=void 0,this.shadow=new bs,this.label=new fx,this.tooltip=new _i,this.sparklineMode=!1,this.fastDataProcessing=!1}};M([T(rt)],we.prototype,"xKey",2);M([T(rt,{optional:!0})],we.prototype,"xName",2);M([T(rt)],we.prototype,"yKey",2);M([T(rt,{optional:!0})],we.prototype,"yName",2);M([T(rt,{optional:!0})],we.prototype,"yFilterKey",2);M([T(rt,{optional:!0})],we.prototype,"stackGroup",2);M([T(Ut,{optional:!0})],we.prototype,"normalizedTo",2);M([T($t)],we.prototype,"fill",2);M([T(ee)],we.prototype,"fillOpacity",2);M([T($t)],we.prototype,"stroke",2);M([T(ft)],we.prototype,"strokeWidth",2);M([T(ee)],we.prototype,"strokeOpacity",2);M([T(_s)],we.prototype,"lineDash",2);M([T(ft)],we.prototype,"lineDashOffset",2);M([T(ft)],we.prototype,"cornerRadius",2);M([T(At,{optional:!0})],we.prototype,"crisp",2);M([T($i,{optional:!0})],we.prototype,"itemStyler",2);M([T(mt,{optional:!0})],we.prototype,"shadow",2);M([T(mt)],we.prototype,"label",2);M([T(mt)],we.prototype,"tooltip",2);M([T(At)],we.prototype,"sparklineMode",2);M([T(At)],we.prototype,"fastDataProcessing",2);function y1(t,e,i,n){if(e!=null){const[s,r]=e;if(s!==0||r!==1)return!1}if(te.is(t)){const s=t.calcBandwidth(n)-t.calcBandwidth(i);if(s>0&&s<1)return!1}return!0}var Oy=t=>ep(t.yValue??0);function Qu(t,e,i){const{startingX:n,startingY:s}=k4(t,e);return{isVertical:t,calculate:(l,c)=>{let h=t?l.x:n,d=t?s:l.y,p=t?l.width:0,g=t?0:l.height;const{opacity:m=1}=l;c&&(isNaN(h)||isNaN(d))&&({x:h,y:d}=c,p=t?c.width:0,g=t?0:c.height,t&&!Oy(c)?d+=c.height:!t&&Oy(c)&&(h+=c.width));let b;return l.clipBBox==null?b=void 0:Oy(l)?b=t?new bt(h,d-g,p,g):new bt(h-p,d,p,g):b=new bt(h,d,p,g),{x:h,y:d,width:p,height:g,clipBBox:b,opacity:m}},mode:i}}function E4(t,e){return{isVertical:t,calculate:i=>({x:t?i.x:i.x+i.width/2,y:t?i.y+i.height/2:i.y,width:t?i.width:0,height:t?0:i.height,clipBBox:i.clipBBox,opacity:i.opacity??1}),mode:e}}function Ju(t){const e=r=>r==null||isNaN(r.x)||isNaN(r.y);return{toFn:(r,l,c)=>c==="removed"&&r.datum==null&&t.mode==="fade"?{...th(r,l),opacity:0}:c==="removed"||e(l)?t.calculate(l,r.previousDatum):{x:l.x,y:l.y,width:l.width,height:l.height,clipBBox:l.clipBBox,opacity:l.opacity??1},fromFn:(r,l,c)=>{c==="updated"&&e(l)?c="removed":c==="updated"&&e(r.previousDatum)&&(c="added");let h;c==="added"&&r.previousDatum==null&&t.mode==="fade"?h={...th(r,l),opacity:0}:c==="unknown"||c==="added"?h=t.calculate(l,r.previousDatum):h={x:r.x,y:r.y,width:r.width,height:r.height,clipBBox:r.clipBBox,opacity:r.opacity??1};const d=us[c];return{...h,phase:d}},applyFn:(r,l,c)=>{var h;r.setProperties(l),r.crisp=c==="end"&&(((h=r.datum)==null?void 0:h.crisp)??!1)}}}function k4(t,e){const i=e[t?"y":"x"];let n=1/0,s=0;return i?(t?s=i.scale.convert(te.is(i.scale)?0:Math.max(...i.range)):n=i.scale.convert(te.is(i.scale)?0:Math.min(...i.range)),{startingX:n,startingY:s}):{startingX:n,startingY:s}}function th(t,{x:e,y:i,width:n,height:s,clipBBox:r,opacity:l=1}){var c;return{x:e,y:i,width:n,height:s,clipBBox:r,opacity:l,crisp:((c=t.datum)==null?void 0:c.crisp)??!1}}function px(t,e){if(e===void 0)return;const{x:i,y:n,width:s,height:r}=e;return ke.toCanvas(t.contentGroup,new bt(i,n,s,r))}function b1(t,e,i){if(e.enabled&&i){const{x:n,y:s,text:r,textAlign:l,textBaseline:c}=i,{color:h,fontStyle:d,fontWeight:p,fontSize:g,fontFamily:m}=e;t.setProperties({visible:!0,x:n,y:s,text:r,fill:h,fontStyle:d,fontWeight:p,fontSize:g,fontFamily:m,textAlign:l,textBaseline:c})}else t.visible=!1}var w4={"inside-start":{inside:!0,direction:-1,textAlignment:1},"inside-end":{inside:!0,direction:1,textAlignment:-1},"outside-start":{inside:!1,direction:-1,textAlignment:-1},"outside-end":{inside:!1,direction:1,textAlignment:1}};function x1({isUpward:t,isVertical:e,placement:i,padding:n=0,rect:s}){let r=s.x+s.width/2,l=s.y+s.height/2,c="center",h="middle";if(i!=="inside-center"){const d=(t?1:-1)*(e?-1:1),{direction:p,textAlignment:g}=w4[i],m=(p+1)*.5;if(e){const b=t?s.y+s.height:s.y,v=s.height*d;l=b+v*m+n*g*d,h=g===d?"top":"bottom"}else{const b=t?s.x:s.x+s.width,v=s.width*d;r=b+v*m+n*g*d,c=g===d?"left":"right"}}return{x:r,y:l,textAlign:c,textBaseline:h}}var O4=0,R4=1,j4=2,_4=3,z4=4,Hp=class extends m1{constructor(t){super({moduleCtx:t,directionKeys:ko,directionNames:wo,pickModes:[2,1,0],pathsPerSeries:[],hasHighlightedLabels:!0,datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:th,label:ka}}),this.properties=new we,this.connectsToYAxis=!0,this.dataAggregationFilters=void 0}get pickModeAxis(){return this.properties.sparklineMode?"main":void 0}crossFilteringEnabled(){return this.properties.yFilterKey!=null&&(this.seriesGrouping==null||this.seriesGrouping.stackIndex===0)}async processData(t){var j,z,B,q,at,nt;if(!this.properties.isValid()||!this.data)return;const{xKey:e,yKey:i,yFilterKey:n,normalizedTo:s,fastDataProcessing:r}=this.properties,{seriesGrouping:{groupIndex:l=this.id}={},data:c}=this,h=((j=this.seriesGrouping)==null?void 0:j.groupCount)??0,p=(((z=this.seriesGrouping)==null?void 0:z.stackCount)??0)>=1||s!=null,g=!r||h>1||p,m=!this.ctx.animationManager.isSkipped(),b=(B=this.getCategoryAxis())==null?void 0:B.scale,v=(q=this.getValueAxis())==null?void 0:q.scale,{isContinuousX:S,xScaleType:A,yScaleType:D}=this.getScaleInformation({xScale:b,yScale:v}),L=`bar-stack-${l}-yValues`,C=`${L}-trailing`,N=this.visible?{}:{forceValue:0},k=[ps(e,A,{id:"xValue"}),jt(i,D,{id:"yValue-raw",invalidValue:null,...N})];this.crossFilteringEnabled()&&k.push(jt(n,D,{id:"yFilterValue",invalidValue:null,...N})),p&&k.push(...gr(i,"normal","current",{id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:L,separateNegative:!0,...N},D),...gr(i,"trailing","current",{id:"yValue-start",invalidValue:null,missingValue:0,groupId:C,separateNegative:!0,...N},D)),S&&k.push(RN,jN),Wt(s)&&k.push(wp([L,C],Math.abs(s))),m&&this.processedData&&k.push(Jl(this.id,this.processedData)),(m||!g)&&k.push(Ql());const{dataModel:O,processedData:_}=await this.requestDataModel(t,c,{props:k,groupByKeys:g,groupByData:!g});this.dataAggregationFilters=this.aggregateData(O,_),this.smallestDataInterval=(at=_.reduced)==null?void 0:at.smallestKeyInterval,this.largestDataInterval=(nt=_.reduced)==null?void 0:nt.largestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(t){var l;const{processedData:e,dataModel:i}=this;if(i==null||e==null)return[];if(t===this.getCategoryDirection()){const c=i.resolveProcessedDataDefById(this,"xValue"),h=i.getDomain(this,"xValue","key",e);return(c==null?void 0:c.def.type)==="key"&&c.def.valueType==="category"?h:this.padBandExtent(h)}const n=(l=this.dataModel)!=null&&l.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw";let s=this.domainForClippedRange("y",[n],"xValue",!0);const r=this.crossFilteringEnabled()?i.getDomain(this,"yFilterValue","value",e):void 0;if(r!=null&&(s=[Math.min(s[0],r[0]),Math.max(s[1],r[1])]),this.getValueAxis()instanceof Oo)return on(s);{const c=Number.isFinite(s[1]-s[0])?[Math.min(0,s[0]),Math.max(0,s[1])]:[];return on(c)}}getSeriesRange(t,e){var r;const i=(r=this.dataModel)!=null&&r.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw",[n,s]=this.domainForVisibleRange("y",[i],"xValue",e,!0);return[Math.min(n,0),Math.max(s,0)]}getVisibleItems(t,e,i){var s;const n=(s=this.dataModel)!=null&&s.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw";return this.countVisibleItems("xValue",[n],t,e,i)}aggregateData(t,e){}createNodeData(){var w;const{dataModel:t,processedData:e,groupScale:i,dataAggregationFilters:n}=this,s=this.getCategoryAxis(),r=this.getValueAxis();if(!t||!e||!s||!r||!this.properties.isValid())return;const l=(w=e.dataSources)==null?void 0:w.get(this.id);if(l==null)return;const c=s.scale,h=r.scale,{xKey:d,yKey:p,xName:g,yName:m,legendItemName:b,label:v}=this.properties,S=r.isReversed(),{barWidth:A,groupIndex:D}=this.updateGroupScale(s),L=i.convert(String(D)),C=te.is(c)?A*-.5:0,N=t.resolveKeysById(this,"xValue",e),k=t.resolveColumnById(this,"yValue-raw",e),O=this.crossFilteringEnabled()?t.resolveColumnById(this,"yFilterValue",e):void 0,_=!this.ctx.animationManager.isSkipped(),j=U=>c.convert(N[U])+L+C,z=this.properties.crisp??y1(s==null?void 0:s.scale,s==null?void 0:s.visibleRange,this.smallestDataInterval,this.largestDataInterval),B=h.convert(0),q=({datum:U,datumIndex:Q,valueIndex:$,xValue:X,yValue:dt,cumulativeValue:ct,phantom:pt,currY:J,prevY:et,x:ht,width:Mt,isPositive:wt,yRange:Bt,labelText:Yt,opacity:Kt,crossScale:se=1})=>{const me=wt!==S,Me=h.convert(J),li=h.convert(et),_e=h.convert(Bt),Se=this.getBarDirection()==="x",Ai=Mt*.5*(1-se),zi={x:Se?Math.min(Me,li):ht+Ai,y:Se?ht+Ai:Math.min(Me,li),width:Se?Math.abs(li-Me):Mt*se,height:Se?Mt*se:Math.abs(li-Me)},Ji=new bt(zi.x,zi.y,zi.width,zi.height),jo={x:Se?Math.min(B,_e):ht+Ai,y:Se?ht+Ai:Math.min(B,_e),width:Se?Math.abs(B-_e):Mt*se,height:Se?Mt*se:Math.abs(B-_e)},uc=this.shouldFlipXY()?zi.height:zi.width;return{series:this,itemId:pt?Ye(p,pt):p,datum:U,datumIndex:Q,valueIndex:$,cumulativeValue:ct,phantom:pt,xValue:X,yValue:dt,yKey:p,xKey:d,capDefaults:{lengthRatioMultiplier:uc,lengthMax:uc},x:jo.x,y:jo.y,width:jo.width,height:jo.height,midPoint:{x:zi.x+zi.width/2,y:zi.y+zi.height/2},opacity:Kt,topLeftCornerRadius:Se!==me,topRightCornerRadius:me,bottomRightCornerRadius:Se===me,bottomLeftCornerRadius:!me,clipBBox:Ji,crisp:z,label:Yt!=null?{text:Yt,...x1({isUpward:me,isVertical:!Se,placement:v.placement,padding:v.padding,rect:zi})}:void 0,missing:dt==null,focusable:!pt}},at=[],nt=[],xt=[],St=(U,Q,$,X,dt,ct,pt,J)=>{const et=N[U];if(et==null)return;const ht=k[U],Mt=O!=null?Number(O[U]):void 0,wt=ht>=0&&!Object.is(ht,-0);if(!Number.isFinite(ct)||Mt!=null&&!Number.isFinite(Mt))return;const Bt=ht!=null?this.getLabelText(this.properties.label,{datum:l[U],value:Mt??ht,xKey:d,yKey:p,xName:g,yName:m,legendItemName:b}):void 0,Yt=Mt!=null&&Mt>ht,Kt=q({datum:l[U],datumIndex:U,valueIndex:Q,xValue:et,yValue:Mt??ht,cumulativeValue:Mt??ct,phantom:!1,currY:Mt!=null?dt+Mt:ct,prevY:dt,x:$,width:X,isPositive:wt,yRange:Math.max(dt+(Mt??-1/0),pt),labelText:Bt,opacity:J,crossScale:Yt?.6:void 0});if(nt.push(Kt),xt.push(Kt),Mt!=null){const se=q({datum:l[U],datumIndex:U,valueIndex:Q,xValue:et,yValue:Mt,cumulativeValue:Mt,phantom:!0,currY:ct,prevY:dt,x:$,width:X,isPositive:wt,yRange:pt,labelText:void 0,opacity:J,crossScale:void 0});at.push(se)}},[W,lt]=c.range,it=lt-W,ut=n==null?void 0:n.find(U=>U.maxRange>it);if(e.type==="grouped"){const U=A,Q=t.hasColumnById(this,"yValue-start"),$=Q?t.resolveColumnById(this,"yValue-start",e):void 0,X=Q?t.resolveColumnById(this,"yValue-end",e):void 0,dt=Q?t.resolveProcessedDataIndexById(this,"yValue-range"):-1;for(const{datumIndex:ct,valueIndex:pt,group:{aggregation:J}}of t.forEachGroupDatum(this,e)){const et=j(ct),ht=k[ct],Mt=ht>=0&&!Object.is(ht,-0),wt=Q?Number($==null?void 0:$[ct]):0,Bt=Q?Number(X==null?void 0:X[ct]):ht;let Yt=Bt;Q&&(Yt=J[dt][Mt?1:0]),St(ct,pt,et,U,wt,Bt,Yt,1)}}else if(ut==null){const U=A;let[Q,$]=this.visibleRange("xValue",s.range);e.input.count<1e3&&(Q=0,$=e.input.count);for(let X=Q;X<$;X+=1){const dt=j(X),ct=Number(k[X]);St(X,0,dt,U,0,ct,ct,1)}}else{const{indexData:U,indices:Q}=ut,[$,X]=this.visibleRange("xValue",s.range,Q);for(let dt=$;dt<X;dt+=1){const ct=dt*z4,pt=U[ct+O4],J=U[ct+R4],et=U[ct+j4],ht=U[ct+_4];if(pt===-1)continue;const Mt=j((pt+J)/2|0),wt=Math.abs(j(J)-j(pt))+A,Bt=N[ht]!=null?Number(k[ht]):NaN,Yt=N[et]!=null?Number(k[et]):NaN;if(Bt>0){const Kt=Yt>=0?Yt/Bt:1;St(ht,0,Mt,wt,0,Bt,Bt,Kt)}if(Yt<0){const Kt=Bt<=0?Bt/Yt:1;St(et,1,Mt,wt,0,Yt,Yt,Kt)}}}return{itemId:p,nodeData:at.length>0?[...at,...nt]:nt,labelData:xt,scales:this.calculateScaling(),visible:this.visible||_,groupScale:this.getScaling(this.groupScale)}}nodeFactory(){return new Ri}getHighlightData(t,e){const i=t.find(n=>n.datum===e.datum&&!n.phantom);return i!=null?[i]:void 0}updateDatumSelection(t){return t.datumSelection.update(t.nodeData,void 0,e=>this.getDatumId(e))}getItemBaseStyle(t){const{properties:e}=this,{cornerRadius:i}=e,n=t?e.highlightStyle.item:void 0;return{fill:(n==null?void 0:n.fill)??e.fill,fillOpacity:(n==null?void 0:n.fillOpacity)??e.fillOpacity,stroke:(n==null?void 0:n.stroke)??e.stroke,strokeWidth:(n==null?void 0:n.strokeWidth)??this.getStrokeWidth(e.strokeWidth),strokeOpacity:(n==null?void 0:n.strokeOpacity)??e.strokeOpacity,lineDash:(n==null?void 0:n.lineDash)??e.lineDash??[],lineDashOffset:(n==null?void 0:n.lineDashOffset)??e.lineDashOffset,cornerRadius:i}}getItemStyleOverrides(t,e,i,n,s,r){const{id:l,properties:c}=this,{xKey:h,yKey:d,itemStyler:p}=c;if(p==null)return;const{xDomain:g,yDomain:m}=this.cachedDatumCallback("domain",()=>({xDomain:this.getSeriesDomain("x"),yDomain:this.getSeriesDomain("y")}));return this.cachedDatumCallback(Ye(t,r?"highlight":"node"),()=>p({seriesId:l,...pr(e,h,d,g,m),xValue:i,yValue:n,highlighted:r,...s}))}updateDatumNodes(t){if(!this.properties.isValid())return;const{shadow:e}=this.properties,i=this.getCategoryDirection()==="x",n=this.getItemBaseStyle(t.isHighlight);t.datumSelection.each((s,r)=>{var h,d;const l=this.getItemStyleOverrides(String(r.datumIndex),r.datum,r.xValue,r.yValue,n,t.isHighlight);s.opacity=r.opacity??0,Vu(s,n,l);const c=(l==null?void 0:l.cornerRadius)??n.cornerRadius;s.topLeftCornerRadius=r.topLeftCornerRadius?c:0,s.topRightCornerRadius=r.topRightCornerRadius?c:0,s.bottomRightCornerRadius=r.bottomRightCornerRadius?c:0,s.bottomLeftCornerRadius=r.bottomLeftCornerRadius?c:0,s.visible=i?(((h=r.clipBBox)==null?void 0:h.width)??r.width)>0:(((d=r.clipBBox)==null?void 0:d.height)??r.height)>0,s.crisp=r.crisp,s.fillShadow=e})}updateLabelSelection(t){const e=this.isLabelEnabled()?t.labelData:[];return t.labelSelection.update(e,i=>{i.pointerEvents=1})}updateLabelNodes(t){t.labelSelection.each((e,i)=>{b1(e,this.properties.label,i.label)})}getTooltipContent(t){var C;const{id:e,dataModel:i,processedData:n,properties:s}=this,{xKey:r,xName:l,yKey:c,yName:h,legendItemName:d,stackGroup:p,tooltip:g}=s,m=this.getCategoryAxis(),b=this.getValueAxis();if(!i||!n||!m||!b)return;const{datumIndex:v}=t,S=(C=n.dataSources.get(this.id))==null?void 0:C[v],A=i.resolveKeysById(this,"xValue",n)[v],D=i.resolveColumnById(this,"yValue-raw",n)[v];if(A==null)return;const L=this.getItemBaseStyle(!1);return Object.assign(L,this.getItemStyleOverrides(String(v),S,A,D,L,!1)),g.formatTooltip({heading:m.formatDatum(A),symbol:this.legendItemSymbol(),data:[{label:h,fallbackLabel:c,value:b.formatDatum(D)}]},{seriesId:e,datum:S,title:h,xKey:r,xName:l,yKey:c,yName:h,legendItemName:d,stackGroup:p,...L,...this.getModuleTooltipParams()})}legendItemSymbol(){const{fill:t,stroke:e,strokeWidth:i,fillOpacity:n,strokeOpacity:s,lineDash:r,lineDashOffset:l}=this.properties;return{marker:{fill:t,fillOpacity:n,stroke:e,strokeWidth:i,strokeOpacity:s,lineDash:r,lineDashOffset:l}}}getLegendData(t){const{showInLegend:e}=this.properties;if(t!=="category"||!this.properties.isValid())return[];const{id:i,ctx:{legendManager:n},visible:s}=this,{yKey:r,yName:l,legendItemName:c}=this.properties;return[{legendType:"category",id:i,itemId:r,seriesId:i,enabled:s&&n.getItemEnabled({seriesId:i,itemId:r}),label:{text:c??l??r},symbol:this.legendItemSymbol(),legendItemName:c,hideInLegend:!e}]}animateEmptyUpdateReady({datumSelection:t,labelSelection:e,annotationSelections:i}){const n=Ju(Qu(this.isVertical(),this.axes,"normal"));Ce(this.id,"nodes",this.ctx.animationManager,[t],n),Xt(this,"labels",this.ctx.animationManager,e),Xt(this,"annotations",this.ctx.animationManager,...i)}animateWaitingUpdateReady(t){var p,g,m,b,v;const{datumSelection:e,labelSelection:i,annotationSelections:n,previousContextData:s}=t;this.ctx.animationManager.stopByAnimationGroupId(this.id);let r=(m=(g=(p=this.processedData)==null?void 0:p.reduced)==null?void 0:g.diff)==null?void 0:m[this.id];r==null&&((v=(b=this.processedData)==null?void 0:b.reduced)==null?void 0:v.diff)!=null&&(r={changed:!0,added:new Set(Array.from(e,({datum:S})=>this.getDatumId(S))),updated:new Set,removed:new Set,moved:new Set});const l=s==null?"fade":"normal",c=Ju(Qu(this.isVertical(),this.axes,l));Ce(this.id,"nodes",this.ctx.animationManager,[e],c,(S,A)=>this.getDatumId(A),r);const h=s!=null&&(!Ol(t.contextData.scales.x,s.scales.x)||!Ol(t.contextData.scales.y,s.scales.y)||!Ol(t.contextData.groupScale,t.previousContextData.groupScale));(((r==null?void 0:r.changed)??!1)||h)&&(Xt(this,"labels",this.ctx.animationManager,i),Xt(this,"annotations",this.ctx.animationManager,...n))}getDatumId(t){return Ye(t.xValue,t.valueIndex,t.phantom)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:t}){var i;const e=(i=this.contextNodeData)==null?void 0:i.nodeData[t].clipBBox;return px(this,e)}};Hp.className="BarSeries";Hp.type="bar";var v1={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",moduleFactory:t=>new Hp(t),stackable:!0,groupable:!0,tooltipDefaults:{range:"exact"},defaultAxes:qN([{type:"number",position:"left"},{type:"category",position:"bottom"}],t=>(t==null?void 0:t.direction)==="horizontal"),themeTemplate:{series:{direction:"vertical",fillOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$if:[{$or:[{$eq:[{$path:"./placement"},"outside-start"]},{$eq:[{$path:"./placement"},"outside-end"]}]},{$ref:"textColor"},{$ref:"backgroundColor"}]},placement:"inside-center"},shadow:{enabled:!1,color:Nr,xOffset:3,yOffset:3,blur:5},errorBar:{cap:{lengthRatio:.3}}}},paletteFactory:kh},gx=class extends ji{constructor(){super(...arguments),this.maxSize=30}};M([T(ft),yt()],gx.prototype,"maxSize",2);M([T(hp,{optional:!0}),yt()],gx.prototype,"domain",2);var M1=class extends ri{constructor(){super(...arguments),this.placement="top"}};M([T(K0)],M1.prototype,"placement",2);var ne=class extends Ca{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.label=new M1,this.tooltip=new _i,this.marker=new gx}};M([T(rt)],ne.prototype,"xKey",2);M([T(rt)],ne.prototype,"yKey",2);M([T(rt)],ne.prototype,"sizeKey",2);M([T(rt,{optional:!0})],ne.prototype,"labelKey",2);M([T(rt,{optional:!0})],ne.prototype,"colorKey",2);M([T(rt,{optional:!0})],ne.prototype,"xFilterKey",2);M([T(rt,{optional:!0})],ne.prototype,"yFilterKey",2);M([T(rt,{optional:!0})],ne.prototype,"sizeFilterKey",2);M([T(rt,{optional:!0})],ne.prototype,"xName",2);M([T(rt,{optional:!0})],ne.prototype,"yName",2);M([T(rt,{optional:!0})],ne.prototype,"sizeName",2);M([T(rt,{optional:!0})],ne.prototype,"labelName",2);M([T(rt,{optional:!0})],ne.prototype,"colorName",2);M([T(hp,{optional:!0})],ne.prototype,"colorDomain",2);M([T(Sn)],ne.prototype,"colorRange",2);M([T(rt,{optional:!0})],ne.prototype,"title",2);M([xe("marker.shape")],ne.prototype,"shape",2);M([xe("marker.size")],ne.prototype,"size",2);M([xe("marker.maxSize")],ne.prototype,"maxSize",2);M([xe("marker.domain",{optional:!0})],ne.prototype,"domain",2);M([xe("marker.fill",{optional:!0})],ne.prototype,"fill",2);M([xe("marker.fillOpacity")],ne.prototype,"fillOpacity",2);M([xe("marker.stroke",{optional:!0})],ne.prototype,"stroke",2);M([xe("marker.strokeWidth")],ne.prototype,"strokeWidth",2);M([xe("marker.strokeOpacity")],ne.prototype,"strokeOpacity",2);M([xe("marker.lineDash")],ne.prototype,"lineDash",2);M([xe("marker.lineDashOffset")],ne.prototype,"lineDashOffset",2);M([xe("marker.itemStyler",{optional:!0})],ne.prototype,"itemStyler",2);M([T(mt)],ne.prototype,"label",2);M([T(mt)],ne.prototype,"tooltip",2);var P4=class extends zb{constructor(t,e,i,n){super(t,e,i,n),this.sizeKey=n.properties.sizeKey}},mx=class extends Lr{constructor(t){super({moduleCtx:t,directionKeys:ko,directionNames:wo,pickModes:[2,1,0],pathsPerSeries:[],hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{label:ka,marker:wh},usesPlacedLabels:!0}),this.NodeEvent=P4,this.clipFocusBox=!1,this.properties=new ne,this.sizeScale=new fs,this.colorScale=new xr}get pickModeAxis(){return"main-category"}async processData(t){var O,_;if(!this.properties.isValid()||this.data==null||!this.visible)return;const e=(O=this.axes.x)==null?void 0:O.scale,i=(_=this.axes.y)==null?void 0:_.scale,{xScaleType:n,yScaleType:s}=this.getScaleInformation({xScale:e,yScale:i}),r=this.colorScale.type,l=this.sizeScale.type,{xKey:c,yKey:h,sizeKey:d,xFilterKey:p,yFilterKey:g,sizeFilterKey:m,labelKey:b,colorDomain:v,colorRange:S,colorKey:A,marker:D}=this.properties,{dataModel:L,processedData:C}=await this.requestDataModel(t,this.data,{props:[jt(c,n,{id:"xValue"}),jt(h,s,{id:"yValue"}),...p!=null?[jt(p,n,{id:"xFilterValue"})]:[],...g!=null?[jt(g,s,{id:"yFilterValue"})]:[],...m!=null?[jt(m,l,{id:"sizeFilterValue"})]:[],jt(d,l,{id:"sizeValue"}),...A?[jt(A,r,{id:"colorValue"})]:[],...b?[jt(b,"band",{id:"labelValue"})]:[]]}),N=L.resolveProcessedDataIndexById(this,"sizeValue"),k=C.domain.values[N]??[];if(this.sizeScale.domain=D.domain?D.domain:k,A){const j=L.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=v??C.domain.values[j]??[],this.colorScale.range=S,this.colorScale.update()}this.animationState.transition("updateData")}xCoordinateRange(t,e,i){const{properties:n,sizeScale:s}=this,{size:r,sizeKey:l}=n,c=this.axes.x.scale.convert(t),h=l!=null?this.dataModel.resolveColumnById(this,"sizeValue",this.processedData):void 0,p=.5*(h!=null?s.convert(h[i]):r)*e;return[c-p,c+p]}yCoordinateRange(t,e,i){const{properties:n,sizeScale:s}=this,{size:r,sizeKey:l}=n,c=this.axes.y.scale.convert(t[0]),h=l!=null?this.dataModel.resolveColumnById(this,"sizeValue",this.processedData):void 0,p=.5*(h!=null?s.convert(h[i]):r)*e;return[c-p,c+p]}getSeriesDomain(t){const{dataModel:e,processedData:i}=this;if(!i||!e)return[];const n={x:"xValue",y:"yValue"},s=n[t],r=e.resolveProcessedDataDefById(this,s),l=e.getDomain(this,s,"value",i);if((r==null?void 0:r.def.type)==="value"&&(r==null?void 0:r.def.valueType)==="category")return l;const h=n[t==="x"?"y":"x"],d=this.domainForClippedRange(t,[s],h,!1);return on(Ia(d))}getSeriesRange(t,e){return this.domainForVisibleRange("y",["yValue"],"xValue",e,!1)}getVisibleItems(t,e,i){return this.countVisibleItems("xValue",["yValue"],t,e,i)}createNodeData(){var $;const{axes:t,dataModel:e,processedData:i,colorScale:n,sizeScale:s,visible:r}=this,{xKey:l,yKey:c,sizeKey:h,xFilterKey:d,yFilterKey:p,sizeFilterKey:g,labelKey:m,xName:b,yName:v,sizeName:S,labelName:A,label:D,colorKey:L,marker:C}=this.properties,{placement:N}=D,k=ai.anchor(C.shape),O=t.x,_=t.y;if(!(e&&i&&r&&O&&_))return;const j=e.resolveColumnById(this,"xValue",i),z=e.resolveColumnById(this,"yValue",i),B=h!=null?e.resolveColumnById(this,"sizeValue",i):void 0,q=L!=null?e.resolveColumnById(this,"colorValue",i):void 0,at=m!=null?e.resolveColumnById(this,"labelValue",i):void 0,nt=d!=null?e.resolveColumnById(this,"xFilterValue",i):void 0,xt=p!=null?e.resolveColumnById(this,"yFilterValue",i):void 0,St=g!=null?e.resolveColumnById(this,"sizeFilterValue",i):void 0,W=O.scale,lt=_.scale,it=(W.bandwidth??0)/2,ut=(lt.bandwidth??0)/2,w=[];s.range=[C.size,C.maxSize];const U=D.getFont(),Q=Da.getMeasurer({font:U});return($=i.dataSources.get(this.id))==null||$.forEach((X,dt)=>{const ct=j[dt],pt=z[dt],J=B==null?void 0:B[dt],et=W.convert(ct)+it,ht=lt.convert(pt)+ut;let Mt;nt!=null&&xt!=null&&(Mt=nt[dt]===ct&&xt[dt]===pt,St!=null&&Mt&&(Mt=St[dt]===J));const wt=this.getLabelText(D,{value:at!=null?at[dt]:pt,datum:X,xKey:l,yKey:c,sizeKey:h,labelKey:m,xName:b,yName:v,sizeName:S,labelName:A}),Bt=Q.measureText(String(wt)),Yt=J!=null?s.convert(J):C.size,Kt=q!=null?n.convert(q[dt]):void 0;w.push({series:this,itemId:c,yKey:c,xKey:l,datum:X,datumIndex:dt,xValue:ct,yValue:pt,sizeValue:J,point:{x:et,y:ht,size:Yt},midPoint:{x:et,y:ht},fill:Kt,label:{text:wt,...Bt},anchor:k,placement:N,selected:Mt})}),{itemId:c,nodeData:w,labelData:w,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var t;return this.isLabelEnabled()?((t=this.contextNodeData)==null?void 0:t.labelData)??[]:[]}updateMarkerSelection(t){const{nodeData:e,markerSelection:i}=t;this.properties.marker.isDirty()&&(i.clear(),i.cleanup());const n=this.properties.marker.enabled?e:[];return i.update(n,void 0,s=>Ye([s.xValue,s.yValue,s.label.text]))}getMarkerItemBaseStyle(t){const{properties:e}=this,{marker:i}=e,n=t?e.highlightStyle.item:void 0;return{fill:(n==null?void 0:n.fill)??i.fill,fillOpacity:(n==null?void 0:n.fillOpacity)??i.fillOpacity,stroke:(n==null?void 0:n.stroke)??i.stroke,strokeWidth:(n==null?void 0:n.strokeWidth)??i.strokeWidth,strokeOpacity:(n==null?void 0:n.strokeOpacity)??i.strokeOpacity,lineDash:(n==null?void 0:n.lineDash)??i.lineDash,lineDashOffset:(n==null?void 0:n.lineDashOffset)??i.lineDashOffset}}getMarkerItemStyleOverrides(t,e,i,n){const{id:s,properties:r}=this,{xKey:l,yKey:c,sizeKey:h,labelKey:d,marker:p}=r,{itemStyler:g}=p;if(g!=null)return this.cachedDatumCallback(Ye(t,n?"highlight":"node"),()=>g({seriesId:s,datum:e,xKey:l,yKey:c,sizeKey:h,labelKey:d,highlighted:n,...i}))}updateMarkerNodes(t){const{markerSelection:e,isHighlight:i}=t,{xKey:n,yKey:s,sizeKey:r,labelKey:l,marker:c}=this.properties,{size:h,shape:d,fill:p,fillOpacity:g,stroke:m,strokeWidth:b,strokeOpacity:v,lineDash:S,lineDashOffset:A}=Rt(i&&this.properties.highlightStyle.item,c.getStyle()),D={size:h,shape:d,fill:p,fillOpacity:g,stroke:m,strokeWidth:b,strokeOpacity:v,lineDash:S,lineDashOffset:A};this.sizeScale.range=[c.size,c.maxSize],e.each((L,C)=>{this.updateMarkerStyle(L,c,{datum:C,highlighted:i,xKey:n,yKey:s,sizeKey:r,labelKey:l},D,{selected:C.selected})}),i||this.properties.marker.markClean()}updatePlacedLabelData(t){this.labelSelection.update(t.map(e=>({...e.datum,point:{x:e.x,y:e.y,size:e.datum.point.size}})),e=>{e.pointerEvents=1}),this.updateLabelNodes({labelSelection:this.labelSelection})}updateLabelNodes(t){const{label:e}=this.properties;t.labelSelection.each((i,n)=>{var s,r;i.text=n.label.text,i.fill=e.color,i.x=((s=n.point)==null?void 0:s.x)??0,i.y=((r=n.point)==null?void 0:r.y)??0,i.fontStyle=e.fontStyle,i.fontWeight=e.fontWeight,i.fontSize=e.fontSize,i.fontFamily=e.fontFamily,i.textAlign="left",i.textBaseline="top"})}getTooltipContent(t){var j;const{id:e,dataModel:i,processedData:n,axes:s,properties:r}=this,{xKey:l,xName:c,yKey:h,yName:d,sizeKey:p,sizeName:g,labelKey:m,labelName:b,title:v,tooltip:S}=r,A=s.x,D=s.y;if(!i||!n||!A||!D)return;const{datumIndex:L}=t,C=(j=n.dataSources.get(this.id))==null?void 0:j[L],N=i.resolveColumnById(this,"xValue",n)[L],k=i.resolveColumnById(this,"yValue",n)[L];if(N==null)return;const O=[{label:c,fallbackLabel:l,value:A.formatDatum(N)},{label:d,fallbackLabel:h,value:D.formatDatum(k)}];if(p!=null){const z=i.resolveColumnById(this,"sizeValue",n)[L];O.push({label:g,fallbackLabel:p,value:String(z)})}const _=this.getMarkerItemBaseStyle(!1);return Object.assign(_,this.getMarkerItemStyleOverrides(String(L),C,_,!1)),S.formatTooltip({title:v,symbol:this.legendItemSymbol(),data:O},{seriesId:e,datum:C,title:h,xKey:l,xName:c,yKey:h,yName:d,sizeKey:p,sizeName:g,labelKey:m,labelName:b,..._,...this.getModuleTooltipParams()})}legendItemSymbol(){const{marker:t}=this.properties,{shape:e,fill:i,stroke:n,fillOpacity:s,strokeOpacity:r,strokeWidth:l,lineDash:c,lineDashOffset:h}=t;return{marker:{shape:e,fill:i??"rgba(0, 0, 0, 0)",stroke:n??"rgba(0, 0, 0, 0)",fillOpacity:s,strokeOpacity:r,strokeWidth:l,lineDash:c,lineDashOffset:h}}}getLegendData(){if(!this.properties.isValid())return[];const{id:t,ctx:{legendManager:e},visible:i}=this,{yKey:n,yName:s,title:r}=this.properties;return[{legendType:"category",id:t,itemId:n,seriesId:t,enabled:i&&e.getItemEnabled({seriesId:t,itemId:n}),label:{text:r??s??n},symbol:this.legendItemSymbol()}]}animateEmptyUpdateReady({markerSelection:t,labelSelection:e}){ax(this,this.ctx.animationManager,t),Xt(this,"labels",this.ctx.animationManager,e)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Tt}getFormattedMarkerStyle(t){const{xKey:e,yKey:i,sizeKey:n,labelKey:s}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:t,xKey:e,yKey:i,sizeKey:n,labelKey:s,highlighted:!1})}computeFocusBounds(t){return Oh(this,t)}};mx.className="BubbleSeries";mx.type="bubble";var B4={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",moduleFactory:t=>new mx(t),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,maxSize:30,fillOpacity:.8,tooltip:{position:{type:"node"}},label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}}},paletteFactory:kh},Je=class extends Ca{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new bs,this.label=new ri,this.tooltip=new _i}};M([T(rt)],Je.prototype,"xKey",2);M([T(rt,{optional:!0})],Je.prototype,"yKey",2);M([T(rt,{optional:!0})],Je.prototype,"xName",2);M([T(rt,{optional:!0})],Je.prototype,"yName",2);M([T($t,{optional:!0})],Je.prototype,"fill",2);M([T(ee)],Je.prototype,"fillOpacity",2);M([T($t,{optional:!0})],Je.prototype,"stroke",2);M([T(ft)],Je.prototype,"strokeWidth",2);M([T(ee)],Je.prototype,"strokeOpacity",2);M([T(_s)],Je.prototype,"lineDash",2);M([T(ft)],Je.prototype,"lineDashOffset",2);M([T(ft)],Je.prototype,"cornerRadius",2);M([T(At)],Je.prototype,"areaPlot",2);M([T(lh,{optional:!0})],Je.prototype,"bins",2);M([T(ue(["count","sum","mean"],"a histogram aggregation"))],Je.prototype,"aggregation",2);M([T(ft,{optional:!0})],Je.prototype,"binCount",2);M([T(mt)],Je.prototype,"shadow",2);M([T(mt)],Je.prototype,"label",2);M([T(mt)],Je.prototype,"tooltip",2);var cL=10,yx=class extends Lr{constructor(t){super({moduleCtx:t,directionKeys:ko,directionNames:wo,pickModes:[1,0],datumSelectionGarbageCollection:!1,animationResetFns:{datum:th,label:ka}}),this.properties=new Je,this.calculatedBins=[]}deriveBins(t){const e=rb(t[0],t[1],cL),i=Bu(t[0],t[1],cL),[n]=e,s=r=>[r,r+i];return[[n-i,n],...e.map(s)]}calculateNiceBins(t,e){const i=Math.floor(t[0]),n=t[1],s=e||1,{start:r,binSize:l}=this.calculateNiceStart(i,n,s);return this.getBins(r,n,l,s)}getBins(t,e,i,n){const s=[],r=this.calculatePrecision(i);for(let l=0;l<n;l++){const c=Math.round((t+l*i)*r)/r;let h=Math.round((t+(l+1)*i)*r)/r;l===n-1&&(h=Math.max(h,e)),s[l]=[c,h]}return s}calculatePrecision(t){let e=10;if(isFinite(t)&&t>0)for(;t<1;)e*=10,t*=10;return e}calculateNiceStart(t,e,i){const n=Math.abs(e-t)/i,s=Math.floor(Math.log10(n)),r=Math.pow(10,s);return{start:Math.floor(t/r)*r,binSize:n}}async processData(t){var g,m;this.visible||(this.processedData=void 0,this.animationState.transition("updateData"));const{xKey:e,yKey:i,areaPlot:n,aggregation:s}=this.properties,r=(g=this.axes.x)==null?void 0:g.scale,l=(m=this.axes.y)==null?void 0:m.scale,{xScaleType:c,yScaleType:h}=this.getScaleInformation({yScale:l,xScale:r}),d=[ps(e,c),_N];if(i){let b=m0("groupAgg");s==="count"||(s==="sum"?b=LN("groupAgg"):s==="mean"&&(b=TN("groupAgg"))),n&&(b=y0("groupAgg",b)),d.push(jt(i,h,{invalidValue:void 0}),b)}else{d.push(wN("count"));let b=m0("groupAgg");n&&(b=y0("groupAgg",b)),d.push(b)}const p=b=>{const v=on(b.domain.keys[0]);if(v.length===0)return b.domain.groups=[],()=>[];const S=Vn(this.properties.binCount)?this.calculateNiceBins(v,this.properties.binCount):this.properties.bins??this.deriveBins(v),A=S.length;return this.calculatedBins=[...S],D=>{let L=D[0];if(Ul(L)&&(L=L.getTime()),!Vn(L))return[];for(let C=0;C<A;C++){const N=S[C];if(L>=N[0]&&L<N[1]||C===A-1&&L<=N[1])return N}return[]}};!this.ctx.animationManager.isSkipped()&&this.processedData&&d.push(Jl(this.id,this.processedData,!1)),await this.requestDataModel(t,this.data,{props:d,groupByFn:p}),this.animationState.transition("updateData")}xCoordinateRange(){return[NaN,NaN]}yCoordinateRange(){return[NaN,NaN]}getSeriesDomain(t){var l,c,h;const{processedData:e,dataModel:i}=this;if(!e||!i||!this.calculatedBins.length)return[];const n=i.getDomain(this,"groupAgg","aggregate",e),s=(l=this.calculatedBins)==null?void 0:l[0][0],r=(h=this.calculatedBins)==null?void 0:h[(((c=this.calculatedBins)==null?void 0:c.length)??0)-1][1];return on(t==="x"?[s,r]:n)}getSeriesRange(t,[e,i]){const{dataModel:n,processedData:s}=this;if(!n||(s==null?void 0:s.type)!=="grouped")return[NaN,NaN];const r=this.axes.x.scale,l=0;let c=-1/0;return s.groups.forEach(({keys:h,aggregation:d})=>{const[[p,g]=[0,0]]=d,[m,b]=h,[v,S]=gi([r.convert(m),r.convert(b)]);if(S>=e&&v<=i){const A=p+g;c=Math.max(c,A)}}),l>c?[NaN,NaN]:[l,c]}createNodeData(){const{id:t,axes:e,processedData:i,dataModel:n}=this,s=e.x,r=e.y;if(!s||!r||!n)return;const{scale:l}=s,{scale:c}=r,{xKey:h,yKey:d,xName:p,yName:g}=this.properties,m=this.properties.label.formatter??(S=>String(S.value)),b=[],v={itemId:this.properties.yKey??this.id,nodeData:b,labelData:b,scales:this.calculateScaling(),animationValid:!0,visible:this.visible};return!this.visible||i==null||i.type!=="grouped"||(i.groups.forEach((S,A)=>{const{keys:D,datumIndices:L,aggregation:C}=S,[[N,k]=[0,0]]=C,O=L.length,_=D,[j,z]=_,B=[...n.forEachDatum(this,i,S)],q=l.convert(j),at=l.convert(z),nt=N+k,xt=c.convert(0),St=c.convert(nt),W=Math.abs(at-q),lt=Math.abs(St-xt),it=Math.min(q,at),ut=Math.min(xt,St);let w;nt!==0&&(w={x:it+W/2,y:ut+lt/2,text:this.cachedDatumCallback(Ye(A,"label"),()=>m({value:nt,datum:B,seriesId:t,xKey:h,yKey:d,xName:p,yName:g}))??String(nt)});const U={x:it+W/2,y:ut+lt/2},Q=r.isReversed();b.push({series:this,datumIndex:A,datum:B,aggregatedValue:nt,frequency:O,domain:_,yKey:d,xKey:h,x:it,y:ut,xValue:q,yValue:St,width:W,height:lt,midPoint:U,topLeftCornerRadius:!Q,topRightCornerRadius:!Q,bottomRightCornerRadius:Q,bottomLeftCornerRadius:Q,label:w,crisp:!0})}),b.sort((S,A)=>S.x-A.x)),v}nodeFactory(){return new Ri}updateDatumSelection(t){const{nodeData:e,datumSelection:i}=t;return i.update(e,void 0,n=>n.domain.join("_"))}getItemBaseStyle(t){const{properties:e}=this,i=t?e.highlightStyle.item:void 0;return{fill:(i==null?void 0:i.fill)??e.fill,fillOpacity:(i==null?void 0:i.fillOpacity)??e.fillOpacity,stroke:(i==null?void 0:i.stroke)??e.stroke,strokeWidth:(i==null?void 0:i.strokeWidth)??this.getStrokeWidth(e.strokeWidth),strokeOpacity:(i==null?void 0:i.strokeOpacity)??e.strokeOpacity,lineDash:(i==null?void 0:i.lineDash)??e.lineDash,lineDashOffset:(i==null?void 0:i.lineDashOffset)??e.lineDashOffset,cornerRadius:e.cornerRadius}}updateDatumNodes(t){const{isHighlight:e}=t,{shadow:i}=this.properties,n=this.getItemBaseStyle(e);t.datumSelection.each((s,r)=>{const{cornerRadius:l}=n,{topLeftCornerRadius:c,topRightCornerRadius:h,bottomRightCornerRadius:d,bottomLeftCornerRadius:p}=r;Vu(s,n),s.topLeftCornerRadius=c?l:0,s.topRightCornerRadius=h?l:0,s.bottomRightCornerRadius=d?l:0,s.bottomLeftCornerRadius=p?l:0,s.crisp=r.crisp,s.fillShadow=i,s.visible=r.height>0})}updateLabelSelection(t){const{labelData:e,labelSelection:i}=t;return i.update(e,n=>{n.pointerEvents=1,n.textAlign="center",n.textBaseline="middle"})}updateLabelNodes(t){const{fontStyle:e,fontWeight:i,fontFamily:n,fontSize:s,color:r}=this.properties.label,l=this.isLabelEnabled();t.labelSelection.each((c,h)=>{l&&(h!=null&&h.label)?(c.text=h.label.text,c.x=h.label.x,c.y=h.label.y,c.fontStyle=e,c.fontWeight=i,c.fontFamily=n,c.fontSize=s,c.fill=r,c.visible=!0):c.visible=!1})}initQuadTree(t){const{value:e}=this.contentGroup.children().next();e&&ux(t,e.children())}pickNodeClosestDatum(t){return hx(this,t)}getTooltipContent(t){const{id:e,dataModel:i,processedData:n,axes:s,properties:r,ctx:{localeManager:l}}=this,{xKey:c,xName:h,yKey:d,yName:p,tooltip:g}=r,m=s.x,b=s.y;if(!i||(n==null?void 0:n.type)!=="grouped"||!m||!b)return;const v=t.datumIndex,S=n.groups[v],{aggregation:A,datumIndices:D,keys:L}=S,[[C,N]=[0,0]]=A,k=D.length,O=L,[_,j]=O,z=C+N,B={data:[...i.forEachDatum(this,n,S)],aggregatedValue:z,frequency:k,domain:O},q=[{label:h,fallbackLabel:c,value:`${m.formatDatum(_)} - ${m.formatDatum(j)}`},{label:l.t("seriesHistogramTooltipFrequency"),value:b.formatDatum(k)}];if(d!=null){let at;switch(r.aggregation){case"sum":at=l.t("seriesHistogramTooltipSum",{yName:p});break;case"mean":at=l.t("seriesHistogramTooltipMean",{yName:p});break;case"count":at=l.t("seriesHistogramTooltipCount",{yName:p});break}q.push({label:at,value:b.formatDatum(z)})}return g.formatTooltip({symbol:this.legendItemSymbol(),data:q},{seriesId:e,datum:B,title:p,xKey:c,xName:h,yKey:d,yName:p,xRange:[_,j],frequency:k,...this.getItemBaseStyle(!1)})}legendItemSymbol(){const{fill:t,fillOpacity:e,stroke:i,strokeWidth:n,strokeOpacity:s,lineDash:r,lineDashOffset:l}=this.properties;return{marker:{fill:t??"rgba(0, 0, 0, 0)",stroke:i??"rgba(0, 0, 0, 0)",fillOpacity:e,strokeOpacity:s,strokeWidth:n,lineDash:r,lineDashOffset:l}}}getLegendData(t){if(t!=="category")return[];const{id:e,ctx:{legendManager:i},visible:n}=this,{xKey:s,yName:r,showInLegend:l}=this.properties;return[{legendType:"category",id:e,itemId:s,seriesId:e,enabled:n&&i.getItemEnabled({seriesId:e,itemId:s}),label:{text:r??s??"Frequency"},symbol:this.legendItemSymbol(),hideInLegend:!l}]}animateEmptyUpdateReady({datumSelection:t,labelSelection:e}){const i=Ju(Qu(!0,this.axes,"normal"));Ce(this.id,"datums",this.ctx.animationManager,[t],i),Xt(this,"labels",this.ctx.animationManager,e)}animateWaitingUpdateReady(t){var n,s,r;const e=(r=(s=(n=this.processedData)==null?void 0:n.reduced)==null?void 0:s.diff)==null?void 0:r[this.id],i=Ju(Qu(!0,this.axes,"normal"));Ce(this.id,"datums",this.ctx.animationManager,[t.datumSelection],i,(l,c)=>Ye(c.domain),e),Xt(this,"labels",this.ctx.animationManager,t.labelSelection)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:t}){var e;return px(this,(e=this.contextNodeData)==null?void 0:e.nodeData[t])}};yx.className="HistogramSeries";yx.type="histogram";var F4={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",moduleFactory:t=>new yx(t),tooltipDefaults:{range:"exact"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"backgroundColor"}},shadow:{enabled:!1,color:Nr,xOffset:3,yOffset:3,blur:5}}},paletteFactory:({takeColors:t})=>{const{fills:[e],strokes:[i]}=t(1);return{fill:e,stroke:i}}},ti=class extends Ca{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new ac,this.marker=new ji,this.label=new ri,this.tooltip=new _i,this.connectMissingData=!1,this.sparklineMode=!1}};M([T(rt)],ti.prototype,"xKey",2);M([T(rt)],ti.prototype,"yKey",2);M([T(rt,{optional:!0})],ti.prototype,"xName",2);M([T(rt,{optional:!0})],ti.prototype,"yName",2);M([T(rt,{optional:!0})],ti.prototype,"yFilterKey",2);M([T(rt,{optional:!0})],ti.prototype,"stackGroup",2);M([T(ft,{optional:!0})],ti.prototype,"normalizedTo",2);M([T(rt,{optional:!0})],ti.prototype,"title",2);M([T($t)],ti.prototype,"stroke",2);M([T(ft)],ti.prototype,"strokeWidth",2);M([T(ee)],ti.prototype,"strokeOpacity",2);M([T(_s)],ti.prototype,"lineDash",2);M([T(ft)],ti.prototype,"lineDashOffset",2);M([T(mt)],ti.prototype,"interpolation",2);M([T(mt)],ti.prototype,"marker",2);M([T(mt)],ti.prototype,"label",2);M([T(mt)],ti.prototype,"tooltip",2);M([T(At)],ti.prototype,"connectMissingData",2);M([T(At)],ti.prototype,"sparklineMode",2);var G4=.25,Wp=class extends Lr{constructor(t){super({moduleCtx:t,directionKeys:ko,directionNames:wo,hasMarkers:!0,pickModes:[2,1,0],markerSelectionGarbageCollection:!1,animationResetFns:{path:lx({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:ka,marker:(e,i)=>({...wh(),...qu(e,i)})}}),this.clipFocusBox=!1,this.properties=new ti,this.dataAggregationFilters=void 0}get pickModeAxis(){return this.properties.sparklineMode?"main":"main-category"}async processData(t){var k,O;if(this.data==null||!this.properties.isValid())return;const{data:e,visible:i,seriesGrouping:{groupIndex:n=this.id,stackCount:s=0}={}}=this,{xKey:r,yKey:l,yFilterKey:c,connectMissingData:h,normalizedTo:d}=this.properties,p=!this.ctx.animationManager.isSkipped(),g=(k=this.axes.x)==null?void 0:k.scale,m=(O=this.axes.y)==null?void 0:O.scale,{isContinuousX:b,xScaleType:v,yScaleType:S}=this.getScaleInformation({xScale:g,yScale:m}),A=s>=1||d!=null,D={invalidValue:null};h&&A&&(D.invalidValue=0),A&&!i&&(D.forceValue=0);const L=[];if((!b||A)&&L.push(ps(r,v,{id:"xKey"})),L.push(jt(r,v,{id:"xValue"}),jt(l,S,{id:"yValueRaw",...D,invalidValue:void 0})),c!=null&&L.push(jt(c,S,{id:"yFilterRaw"})),A){const _=[`line-stack-${n}-yValues`,`line-stack-${n}-yValues-trailing`,`line-stack-${n}-yValues-marker`];L.push(...gr(l,"window","current",{id:"yValueEnd",...D,groupId:_[0]},S),...gr(l,"window-trailing","current",{id:"yValueStart",...D,groupId:_[1]},S),...gr(l,"normal","current",{id:"yValueCumulative",...D,groupId:_[2]},S)),df(d)&&L.push(wp([_[0],_[1],_[2]],d))}p&&(L.push(Ql(b?["xValue"]:void 0)),this.processedData&&L.push(Jl(this.id,this.processedData)));const{dataModel:C,processedData:N}=await this.requestDataModel(t,e,{props:L,groupByKeys:A,groupByData:!A});this.dataAggregationFilters=this.aggregateData(C,N),this.animationState.transition("updateData")}xCoordinateRange(t,e){const{marker:i}=this.properties,n=this.axes.x.scale.convert(t),s=i.enabled?.5*i.size*e:0;return[n-s,n+s]}yCoordinateRange(t,e){const{marker:i}=this.properties,n=this.axes.y.scale.convert(t[0]),s=i.enabled?.5*i.size*e:0;return[n-s,n+s]}getSeriesDomain(t){var r;const{dataModel:e,processedData:i}=this;if(!e||!i)return[];if(t==="x"){const l=e.resolveProcessedDataDefById(this,"xValue"),c=e.getDomain(this,"xValue","value",i);return(l==null?void 0:l.def.type)==="value"&&l.def.valueType==="category"?c:on(Ia(c))}const n=(r=this.dataModel)!=null&&r.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw",s=this.domainForClippedRange("y",[n],"xValue",!0);return on(s)}getSeriesRange(t,e){var n;const i=(n=this.dataModel)!=null&&n.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw";return this.domainForVisibleRange("y",[i],"xValue",e,!0)}getVisibleItems(t,e,i){var s;const n=(s=this.dataModel)!=null&&s.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw";return this.countVisibleItems("xValue",[n],t,e,i)}aggregateData(t,e){}createNodeData(){var J;const{dataModel:t,processedData:e,axes:i,dataAggregationFilters:n}=this,s=i.x,r=i.y;if(!t||!e||!s||!r)return;const{xKey:l,yKey:c,yFilterKey:h,xName:d,yName:p,marker:g,label:m,connectMissingData:b,interpolation:v,legendItemName:S}=this.properties,A=(J=this.dataModel)==null?void 0:J.hasColumnById(this,"yValueEnd"),D=s.scale,L=r.scale,C=(D.bandwidth??0)/2,N=(L.bandwidth??0)/2,k=g.enabled?g.size:0,O=e.dataSources.get(this.id)??[],_=t.resolveColumnById(this,"xValue",e),j=t.resolveColumnById(this,"yValueRaw",e),z=A?t.resolveColumnById(this,"yValueEnd",e):void 0,B=A?t.resolveColumnById(this,"yValueCumulative",e):j,q=h!=null?t.resolveColumnById(this,"yFilterRaw",e):void 0,at=et=>D.convert(_[et])+C,nt=et=>L.convert(B[et])+N,xt={lengthRatioMultiplier:this.properties.marker.getDiameter(),lengthMax:1/0},St=[];let W;const lt=et=>{const ht=O[et],Mt=_[et],wt=j[et],Bt=z==null?void 0:z[et],Yt=q==null?void 0:q[et],Kt=at(et),se=nt(et);if(!Number.isFinite(Kt))return;if(wt!=null){const Me=m.enabled?this.getLabelText(m,{value:wt,datum:ht,xKey:l,yKey:c,xName:d,yName:p,legendItemName:S}):void 0;St.push({series:this,datum:ht,datumIndex:et,yKey:c,xKey:l,point:{x:Kt,y:se,size:k},midPoint:{x:Kt,y:se},cumulativeValue:Bt,yValue:wt,xValue:Mt,capDefaults:xt,labelText:Me,selected:Yt})}if(W==null)return;const me=W[W.length-1];if(wt!=null){const Me={point:{x:Kt,y:se},xDatum:Mt,yDatum:wt};Array.isArray(me)?me.push(Me):me!=null?(me.skip+=1,W.push([Me])):W.push([Me])}else b||(Array.isArray(me)||me==null?W.push({skip:0}):me.skip+=1)},[it,ut]=D.range,w=ut-it,U=n==null?void 0:n.find(et=>et.maxRange>w),Q=U==null?void 0:U.indices;let[$,X]=this.visibleRange("xValue",s.range,Q);$=Math.max($-1,0),X=Math.min(X+1,(Q==null?void 0:Q.length)??_.length),e.input.count<1e3&&($=0,X=e.input.count),Q==null&&(W=[]);for(let et=$;et<X;et+=1)lt((Q==null?void 0:Q[et])??et);const dt=W==null?void 0:W.flatMap(et=>Array.isArray(et)?Yf(et,v):[]),ct=dt!=null?{itemId:c,spans:dt}:void 0,pt=(q==null?void 0:q.some((et,ht)=>et===j[ht]))??!1;return{itemId:c,nodeData:St,labelData:St,strokeData:ct,scales:this.calculateScaling(),visible:this.visible,crossFiltering:pt}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}updatePathNodes(t){var l;const{paths:[e],opacity:i,visible:n,animationEnabled:s}=t,r=((l=this.contextNodeData)==null?void 0:l.crossFiltering)===!0;e.setProperties({fill:void 0,lineJoin:"round",pointerEvents:1,opacity:i,stroke:this.properties.stroke,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.properties.strokeOpacity*(r?G4:1),lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}),s||(e.visible=n),Hf(this,e)}getMarkerItemBaseStyle(t){const{properties:e}=this,{marker:i}=e,n=t?e.highlightStyle.item:void 0;return{size:i.size,shape:i.shape,fill:(n==null?void 0:n.fill)??i.fill,fillOpacity:(n==null?void 0:n.fillOpacity)??i.fillOpacity,stroke:(n==null?void 0:n.stroke)??i.stroke,strokeWidth:(n==null?void 0:n.strokeWidth)??i.strokeWidth,strokeOpacity:(n==null?void 0:n.strokeOpacity)??i.strokeOpacity,lineDash:(n==null?void 0:n.lineDash)??i.lineDash,lineDashOffset:(n==null?void 0:n.lineDashOffset)??i.lineDashOffset}}getMarkerItemStyleOverrides(t,e,i,n){const{id:s,properties:r}=this,{xKey:l,yKey:c,marker:h}=r,{itemStyler:d}=h;if(d!=null)return this.cachedDatumCallback(Ye(t,n?"highlight":"node"),()=>{const p=this.getSeriesDomain("x"),g=this.getSeriesDomain("y");return d({seriesId:s,...pr(e,l,c,p,g),highlighted:n,...i})})}updateMarkerSelection(t){var s;let{nodeData:e}=t;const{markerSelection:i}=t;return e=this.properties.marker.enabled||((s=this.contextNodeData)==null?void 0:s.crossFiltering)===!0?e:[],this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(e,void 0,r=>Ye(r.xValue))}updateMarkerNodes(t){const{markerSelection:e,isHighlight:i}=t,{xKey:n,yKey:s,stroke:r,strokeWidth:l,strokeOpacity:c,marker:h,highlightStyle:d}=this.properties,p=this.getSeriesDomain("x"),g=this.getSeriesDomain("y"),m=Rt(i&&d.item,h.getStyle(),{stroke:r,strokeWidth:l,strokeOpacity:c}),b=this.ctx.animationManager.isSkipped();e.each((v,S)=>{this.updateMarkerStyle(v,h,{...pr(S,n,s,p,g),highlighted:i},m,{applyTranslation:b,selected:S.selected})}),i||h.markClean()}updateLabelSelection(t){return t.labelSelection.update(this.isLabelEnabled()?t.labelData:[])}updateLabelNodes(t){const{enabled:e,fontStyle:i,fontWeight:n,fontSize:s,fontFamily:r,color:l}=this.properties.label;t.labelSelection.each((c,h)=>{e&&(h!=null&&h.labelText)?(c.fontStyle=i,c.fontWeight=n,c.fontSize=s,c.fontFamily=r,c.textAlign="center",c.textBaseline="bottom",c.text=h.labelText,c.x=h.point.x,c.y=h.point.y-10,c.fill=l,c.visible=!0):c.visible=!1})}getTooltipContent(t){var L;const{id:e,dataModel:i,processedData:n,axes:s,properties:r}=this,{xKey:l,xName:c,yKey:h,yName:d,tooltip:p}=r,g=s.x,m=s.y;if(!i||!n||!g||!m)return;const{datumIndex:b}=t,v=(L=n.dataSources.get(this.id))==null?void 0:L[b],S=i.resolveColumnById(this,"xValue",n)[b],A=i.resolveColumnById(this,"yValueRaw",n)[b];if(S==null)return;const D=this.getMarkerItemBaseStyle(!1);return Object.assign(D,this.getMarkerItemStyleOverrides(String(b),v,D,!1)),p.formatTooltip({heading:g.formatDatum(S),symbol:this.legendItemSymbol(),data:[{label:d,fallbackLabel:h,value:m.formatDatum(A)}]},{seriesId:e,datum:v,title:d,xKey:l,xName:c,yKey:h,yName:d,...D,...this.getModuleTooltipParams()})}legendItemSymbol(){const t="rgba(0, 0, 0, 0)",{stroke:e,strokeOpacity:i,strokeWidth:n,lineDash:s,marker:r}=this.properties;return{marker:{shape:r.shape,fill:r.fill??t,stroke:r.stroke??e??t,fillOpacity:r.fillOpacity,strokeOpacity:r.strokeOpacity,strokeWidth:r.strokeWidth,lineDash:r.lineDash,lineDashOffset:r.lineDashOffset,enabled:r.enabled},line:{stroke:e??t,strokeOpacity:i,strokeWidth:n,lineDash:s}}}getLegendData(t){if(!(this.properties.isValid()&&t==="category"))return[];const{id:e,ctx:{legendManager:i},visible:n}=this,{yKey:s,yName:r,title:l,legendItemName:c,showInLegend:h}=this.properties;return[{legendType:"category",id:e,itemId:s,legendItemName:c,seriesId:e,enabled:n&&i.getItemEnabled({seriesId:e,itemId:s}),label:{text:c??l??r??s},symbol:this.legendItemSymbol(),hideInLegend:!h}]}updatePaths(t){this.updateLinePaths(t.paths,t.contextData)}plotNodeDataPoints(t,e){if(e.length===0)return;const i=e[0].point;t.moveTo(i.x,i.y);for(let n=1;n<e.length;n+=1){const{x:s,y:r}=e[n].point;t.lineTo(s,r)}}updateLinePaths(t,e){var s;const i=(s=e.strokeData)==null?void 0:s.spans,[n]=t;n.path.clear(),i!=null?ix(n,i):this.plotNodeDataPoints(n.path,e.nodeData),n.markDirty()}animateEmptyUpdateReady(t){const{markerSelection:e,labelSelection:i,annotationSelections:n,contextData:s,paths:r}=t,{animationManager:l}=this.ctx;this.updateLinePaths(r,s),ox(this,l,...r),fi([e],qu),rx(this,l,e),Xt(this,"labels",l,i),Xt(this,"annotations",l,...n)}animateReadyResize(t){const{contextData:e,paths:i}=t;this.updateLinePaths(i,e),super.animateReadyResize(t)}animateWaitingUpdateReady(t){var m,b,v;const{animationManager:e}=this.ctx,{markerSelection:i,labelSelection:n,annotationSelections:s,contextData:r,paths:l,previousContextData:c}=t,[h]=l;this.resetMarkerAnimation(t),this.resetLabelAnimation(t);const d=()=>{this.resetPathAnimation(t),this.updateLinePaths(l,r)},p=()=>{e.skipCurrentBatch(),d()};if(r==null||c==null){d(),$u(this,e,"added",i),Vf(this,"path_properties",e,"add",h),Xt(this,"labels",e,n),Xt(this,"annotations",e,...s);return}if(r.crossFiltering!==c.crossFiltering){p();return}const g=d1(r,c,(v=(b=(m=this.processedData)==null?void 0:m.reduced)==null?void 0:b.diff)==null?void 0:v[this.id]);if(g===void 0){p();return}else if(g.status==="no-op")return;Ce(this.id,"path_properties",e,[h],g.stroke.pathProperties),g.status==="added"?this.updateLinePaths(l,r):g.status==="removed"?this.updateLinePaths(l,c):Uf(this.id,"path_update",e,[h],g.stroke.path),g.hasMotion&&($u(this,e,void 0,i),Xt(this,"labels",e,n),Xt(this,"annotations",e,...s))}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new Tt}getFormattedMarkerStyle(t){const{xKey:e,yKey:i}=this.properties,n=this.getSeriesDomain("x"),s=this.getSeriesDomain("y");return this.getMarkerStyle(this.properties.marker,{...pr(t,e,i,n,s),highlighted:!0})}computeFocusBounds(t){return Oh(this,t)}};Wp.className="LineSeries";Wp.type="line";var S1={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",moduleFactory:t=>new Wp(t),stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{tooltip:{position:{type:"node"}},strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,interpolation:{type:"linear",tension:1,position:"end"},marker:{shape:"circle",size:7,strokeWidth:0},label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},errorBar:{cap:{lengthRatio:1}}}},paletteFactory:t=>{const{marker:e}=tx(t);return{stroke:e.fill,marker:e}}},D1=class extends ri{constructor(){super(...arguments),this.placement="top"}};M([T(K0)],D1.prototype,"placement",2);var ve=class extends Ca{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.label=new D1,this.tooltip=new _i,this.marker=new ji}};M([T(rt)],ve.prototype,"xKey",2);M([T(rt)],ve.prototype,"yKey",2);M([T(rt,{optional:!0})],ve.prototype,"labelKey",2);M([T(rt,{optional:!0})],ve.prototype,"colorKey",2);M([T(rt,{optional:!0})],ve.prototype,"xFilterKey",2);M([T(rt,{optional:!0})],ve.prototype,"yFilterKey",2);M([T(rt,{optional:!0})],ve.prototype,"xName",2);M([T(rt,{optional:!0})],ve.prototype,"yName",2);M([T(rt,{optional:!0})],ve.prototype,"labelName",2);M([T(rt,{optional:!0})],ve.prototype,"colorName",2);M([T(hp,{optional:!0})],ve.prototype,"colorDomain",2);M([T(Sn)],ve.prototype,"colorRange",2);M([T(rt,{optional:!0})],ve.prototype,"title",2);M([xe("marker.shape")],ve.prototype,"shape",2);M([xe("marker.size")],ve.prototype,"size",2);M([xe("marker.fill")],ve.prototype,"fill",2);M([xe("marker.fillOpacity")],ve.prototype,"fillOpacity",2);M([xe("marker.stroke")],ve.prototype,"stroke",2);M([xe("marker.strokeWidth")],ve.prototype,"strokeWidth",2);M([xe("marker.strokeOpacity")],ve.prototype,"strokeOpacity",2);M([xe("marker.lineDash")],ve.prototype,"lineDash",2);M([xe("marker.lineDashOffset")],ve.prototype,"lineDashOffset",2);M([xe("marker.itemStyler",{optional:!0})],ve.prototype,"itemStyler",2);M([T(mt)],ve.prototype,"label",2);M([T(mt)],ve.prototype,"tooltip",2);var bx=class extends Lr{constructor(t){super({moduleCtx:t,directionKeys:ko,directionNames:wo,pickModes:[2,1,0],pathsPerSeries:[],hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{marker:wh,label:ka},usesPlacedLabels:!0}),this.clipFocusBox=!1,this.properties=new ve,this.colorScale=new xr}get pickModeAxis(){return"main-category"}async processData(t){var A,D;if(!this.properties.isValid()||this.data==null||!this.visible)return;const e=(A=this.axes.x)==null?void 0:A.scale,i=(D=this.axes.y)==null?void 0:D.scale,{xScaleType:n,yScaleType:s}=this.getScaleInformation({xScale:e,yScale:i}),r=this.colorScale.type,{xKey:l,yKey:c,xFilterKey:h,yFilterKey:d,labelKey:p,colorKey:g,colorDomain:m,colorRange:b}=this.properties,{dataModel:v,processedData:S}=await this.requestDataModel(t,this.data,{props:[jt(l,n,{id:"xValue"}),jt(c,s,{id:"yValue"}),...h!=null?[jt(h,n,{id:"xFilterValue"})]:[],...d!=null?[jt(d,s,{id:"yFilterValue"})]:[],...g?[jt(g,r,{id:"colorValue"})]:[],...p?[jt(p,"band",{id:"labelValue"})]:[]]});if(g){const L=v.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=m??S.domain.values[L]??[],this.colorScale.range=b,this.colorScale.update()}this.animationState.transition("updateData")}xCoordinateRange(t,e){const i=this.axes.x.scale.convert(t),n=.5*this.properties.size*e;return[i-n,i+n]}yCoordinateRange(t,e){const i=this.axes.y.scale.convert(t[0]),n=.5*this.properties.size*e;return[i-n,i+n]}getSeriesDomain(t){const{dataModel:e,processedData:i}=this;if(!i||!e)return[];const n={x:"xValue",y:"yValue"},s=n[t],r=e.resolveProcessedDataDefById(this,s),l=e.getDomain(this,s,"value",i);if((r==null?void 0:r.def.type)==="value"&&(r==null?void 0:r.def.valueType)==="category")return l;const h=n[t==="x"?"y":"x"],d=this.domainForClippedRange(t,[s],h,!1);return on(Ia(d))}getSeriesRange(t,e){return this.domainForVisibleRange("y",["yValue"],"xValue",e,!1)}getVisibleItems(t,e,i){return this.countVisibleItems("xValue",["yValue"],t,e,i)}createNodeData(){const{axes:t,dataModel:e,processedData:i,colorScale:n,visible:s}=this,{xKey:r,yKey:l,xFilterKey:c,yFilterKey:h,labelKey:d,colorKey:p,xName:g,yName:m,labelName:b,marker:v,label:S}=this.properties,{placement:A}=S,D=ai.anchor(v.shape),L=t.x,C=t.y;if(!(e&&i&&s&&L&&C))return;const N=e.resolveColumnById(this,"xValue",i),k=e.resolveColumnById(this,"yValue",i),O=p!=null?e.resolveColumnById(this,"colorValue",i):void 0,_=d!=null?e.resolveColumnById(this,"labelValue",i):void 0,j=c!=null?e.resolveColumnById(this,"xFilterValue",i):void 0,z=h!=null?e.resolveColumnById(this,"yFilterValue",i):void 0,B=L.scale,q=C.scale,at=(B.bandwidth??0)/2,nt=(q.bandwidth??0)/2,xt=[],St=S.getFont(),W=Da.getMeasurer({font:St});return(i.dataSources.get(this.id)??[]).forEach((it,ut)=>{const w=N[ut],U=k[ut],Q=B.convert(w)+at,$=q.convert(U)+nt,X=j!=null&&z!=null?j[ut]===w&&z[ut]===U:void 0,dt=this.getLabelText(S,{value:_!=null?_==null?void 0:_[ut]:U,datum:it,xKey:r,yKey:l,labelKey:d,xName:g,yName:m,labelName:b}),ct=W.measureText(dt),pt=O!=null?n.convert(O[ut]):void 0;xt.push({series:this,itemId:l,yKey:l,xKey:r,datum:it,datumIndex:ut,xValue:w,yValue:U,capDefaults:{lengthRatioMultiplier:v.getDiameter(),lengthMax:1/0},point:{x:Q,y:$,size:v.size},midPoint:{x:Q,y:$},fill:pt,label:{text:dt,...ct},anchor:D,placement:A,selected:X})}),{itemId:l,nodeData:xt,labelData:xt,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var t;return this.isLabelEnabled()?((t=this.contextNodeData)==null?void 0:t.labelData)??[]:[]}updateMarkerSelection(t){const{nodeData:e,markerSelection:i}=t;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(this.properties.marker.enabled?e:[])}getMarkerItemBaseStyle(t){const{properties:e}=this,{marker:i}=e,n=t?e.highlightStyle.item:void 0;return{fill:(n==null?void 0:n.fill)??i.fill,fillOpacity:(n==null?void 0:n.fillOpacity)??i.fillOpacity,stroke:(n==null?void 0:n.stroke)??i.stroke,strokeWidth:(n==null?void 0:n.strokeWidth)??i.strokeWidth,strokeOpacity:(n==null?void 0:n.strokeOpacity)??i.strokeOpacity,lineDash:(n==null?void 0:n.lineDash)??i.lineDash,lineDashOffset:(n==null?void 0:n.lineDashOffset)??i.lineDashOffset}}getMarkerItemStyleOverrides(t,e,i,n){const{id:s,properties:r}=this,{xKey:l,yKey:c,labelKey:h,marker:d}=r,{itemStyler:p}=d;if(p!=null)return this.cachedDatumCallback(Ye(t,n?"highlight":"node"),()=>p({seriesId:s,datum:e,xKey:l,yKey:c,labelKey:h,highlighted:n,...i}))}updateMarkerNodes(t){const{markerSelection:e,isHighlight:i}=t,{xKey:n,yKey:s,labelKey:r,marker:l,highlightStyle:c}=this.properties,h=Rt(i&&c.item,l.getStyle());e.each((d,p)=>{this.updateMarkerStyle(d,l,{datum:p,highlighted:i,xKey:n,yKey:s,labelKey:r},h,{selected:p.selected})}),i||l.markClean()}updatePlacedLabelData(t){this.labelSelection.update(t.map(e=>({...e.datum,point:{x:e.x,y:e.y,size:e.datum.point.size}})),e=>{e.pointerEvents=1}),this.updateLabelNodes({labelSelection:this.labelSelection})}updateLabelNodes(t){const{label:e}=this.properties;t.labelSelection.each((i,n)=>{var s,r;i.text=n.label.text,i.fill=e.color,i.x=((s=n.point)==null?void 0:s.x)??0,i.y=((r=n.point)==null?void 0:r.y)??0,i.fontStyle=e.fontStyle,i.fontWeight=e.fontWeight,i.fontSize=e.fontSize,i.fontFamily=e.fontFamily,i.textAlign="left",i.textBaseline="top"})}getTooltipContent(t){var k;const{id:e,dataModel:i,processedData:n,axes:s,properties:r}=this,{xKey:l,xName:c,yKey:h,yName:d,labelKey:p,labelName:g,title:m,tooltip:b}=r,v=s.x,S=s.y;if(!i||!n||!v||!S)return;const{datumIndex:A}=t,D=(k=n.dataSources.get(this.id))==null?void 0:k[A],L=i.resolveColumnById(this,"xValue",n)[A],C=i.resolveColumnById(this,"yValue",n)[A];if(L==null)return;const N=this.getMarkerItemBaseStyle(!1);return Object.assign(N,this.getMarkerItemStyleOverrides(String(A),D,N,!1)),b.formatTooltip({symbol:this.legendItemSymbol(),title:m,data:[{label:c,fallbackLabel:l,value:v.formatDatum(L)},{label:d,fallbackLabel:h,value:S.formatDatum(C)}]},{seriesId:e,datum:D,title:d,xKey:l,xName:c,yKey:h,yName:d,labelKey:p,labelName:g,...N,...this.getModuleTooltipParams()})}legendItemSymbol(){const{shape:t,fill:e,stroke:i,fillOpacity:n,strokeOpacity:s,strokeWidth:r,lineDash:l,lineDashOffset:c}=this.properties.marker;return{marker:{shape:t,fill:e??"rgba(0, 0, 0, 0)",stroke:i??"rgba(0, 0, 0, 0)",fillOpacity:n,strokeOpacity:s,strokeWidth:r,lineDash:l,lineDashOffset:c}}}getLegendData(t){if(!this.properties.isValid()||t!=="category")return[];const{yKey:e,yName:i,title:n,showInLegend:s}=this.properties,{id:r,ctx:{legendManager:l},visible:c}=this;return[{legendType:"category",id:r,itemId:e,seriesId:r,enabled:c&&l.getItemEnabled({seriesId:r,itemId:e}),label:{text:n??i??e},symbol:this.legendItemSymbol(),hideInLegend:!s}]}animateEmptyUpdateReady(t){const{markerSelection:e,labelSelection:i,annotationSelections:n}=t;ax(this,this.ctx.animationManager,e),Xt(this,"labels",this.ctx.animationManager,i),Xt(this,"annotations",this.ctx.animationManager,...n)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Tt}getFormattedMarkerStyle(t){const{xKey:e,yKey:i,labelKey:n}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:t,xKey:e,yKey:i,labelKey:n,highlighted:!0})}computeFocusBounds(t){return Oh(this,t)}};bx.className="ScatterSeries";bx.type="scatter";var U4={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",moduleFactory:t=>new bx(t),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,fillOpacity:.8,tooltip:{position:{type:"node"}},label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},errorBar:{cap:{lengthRatio:1}}}},paletteFactory:kh},A1=class S0{constructor(e,i,n,s){this.startAngle=e,this.endAngle=i,this.innerRadius=n,this.outerRadius=s}clone(){const{startAngle:e,endAngle:i,innerRadius:n,outerRadius:s}=this;return new S0(e,i,n,s)}equals(e){return this.startAngle===e.startAngle&&this.endAngle===e.endAngle&&this.innerRadius===e.innerRadius&&this.outerRadius===e.outerRadius}[Jf](e,i){return new S0(this.startAngle*(1-i)+e.startAngle*i,this.endAngle*(1-i)+e.endAngle*i,this.innerRadius*(1-i)+e.innerRadius*i,this.outerRadius*(1-i)+e.outerRadius*i)}};function L1({startAngle:t,endAngle:e,innerRadius:i,outerRadius:n}){let s=1/0,r=1/0,l=-1/0,c=-1/0;const h=(d,p)=>{s=Math.min(d,s),r=Math.min(p,r),l=Math.max(d,l),c=Math.max(p,c)};return h(i*Math.cos(t),i*Math.sin(t)),h(i*Math.cos(e),i*Math.sin(e)),h(n*Math.cos(t),n*Math.sin(t)),h(n*Math.cos(e),n*Math.sin(e)),lr(0,t,e)&&h(n,0),lr(Math.PI*.5,t,e)&&h(0,n),lr(Math.PI,t,e)&&h(-n,0),lr(Math.PI*1.5,t,e)&&h(0,-n),new bt(s,r,l-s,c-r)}function Wf(t,e,i){const n=Math.sqrt(Math.pow(t,2)+Math.pow(e,2)),{innerRadius:s,outerRadius:r}=i;if(i.startAngle===i.endAngle||n<Math.min(s,r)||n>Math.max(s,r))return!1;const l=Pu(i.startAngle),c=Pu(i.endAngle),h=Math.atan2(e,t);return l<c?h<=c&&h>=l:h<=c&&h>=-Math.PI||h>=l&&h<=Math.PI}function uL(t,e){const{startAngle:i,endAngle:n,innerRadius:s,outerRadius:r}=e,l={x:r*Math.cos(i),y:r*Math.sin(i)},c={x:r*Math.cos(n),y:r*Math.sin(n)},h=s===0?{x:0,y:0}:{x:s*Math.cos(i),y:s*Math.sin(i)},d=s===0?{x:0,y:0}:{x:s*Math.cos(n),y:s*Math.sin(n)};return Nl(t.start.x,t.start.y,t.end.x,t.end.y,l.x,l.y,h.x,h.y)||Nl(t.start.x,t.start.y,t.end.x,t.end.y,c.x,c.y,d.x,d.y)||pN(0,0,r,i,n,!0,t.start.x,t.start.y,t.end.x,t.end.y)}function T1(t,e){const i={x:t.x,y:t.y},n={x:t.x+t.width,y:t.y},s={x:t.x,y:t.y+t.height},r={x:t.x+t.width,y:t.y+t.height};return uL({start:i,end:n},e)||uL({start:s,end:r},e)}function hL(t,e,i,n){if(i===0&&n===0)return 0;if(Math.asin(Math.abs(1*i)/(t+1*i))+Math.asin(Math.abs(1*n)/(t+1*n))-e<0)return 1;let r=0,l=1;for(let c=0;c<8;c+=1){const h=(r+l)/2;Math.asin(Math.abs(h*i)/(t+h*i))+Math.asin(Math.abs(h*n)/(t+h*n))-e<0?r=h:l=h}return r}var Y4=1e-6;function mr(t,e){return gp(t,e)<Y4?e:fe(t-e)+e}function rf(t,e,i=0){const s=Math.abs(e-t)>=2*Math.PI?2*Math.PI:fe(e-t);return t=mr(t,i),e=t+s,{startAngle:t,endAngle:e}}function of(t,e,i,n,s,r){const l=Math.sin(r),c=Math.cos(r),h=t**2+e**2-i**2;let d,p,g,m;if(c>.5){const C=l/c,N=1+C**2,k=-2*(t+e*C),O=k**2-4*N*h;if(O<0)return;const _=(-k+Math.sqrt(O))/(2*N),j=(-k-Math.sqrt(O))/(2*N);d=_,p=_*C,g=j,m=j*C}else{const C=c/l,N=1+C**2,k=-2*(e+t*C),O=k**2-4*N*h;if(O<0)return;const _=(-k+Math.sqrt(O))/(2*N),j=(-k-Math.sqrt(O))/(2*N);d=_*C,p=_,g=j*C,m=j}const b=c,v=l,S=d*b+p*v,A=g*b+m*v,D=S>0?mr(Math.atan2(p-e,d-t),n):NaN,L=A>0?mr(Math.atan2(m-e,g-t),n):NaN;if(D>=n&&D<=s)return D;if(L>=n&&L<=s)return L}function lf(t,e,i,n,s,r){const l=Math.hypot(t,e),c=(l**2-i**2+r**2)/(2*l),h=l-c,d=Math.atan2(e,t),p=Math.acos(-h/i),g=mr(d+p,n),m=mr(d-p,n);if(g>=n&&g<=s)return g;if(m>=n&&m<=s)return m}var Ry=class{constructor(t,e,i,n,s){this.cx=t,this.cy=e,this.r=i,this.a0=n,this.a1=s,this.a0>=this.a1&&(this.a0=NaN,this.a1=NaN)}isValid(){return Number.isFinite(this.a0)&&Number.isFinite(this.a1)}pointAt(t){return{x:this.cx+this.r*Math.cos(t),y:this.cy+this.r*Math.sin(t)}}clipStart(t){t==null||!this.isValid()||t<this.a0||(this.a0=t,(Number.isNaN(t)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}clipEnd(t){t==null||!this.isValid()||t>this.a1||(this.a1=t,(Number.isNaN(t)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}},yi=class extends Qi{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=Math.PI*2,this.clipSector=void 0,this.concentricEdgeInset=0,this.radialEdgeInset=0,this.startOuterCornerRadius=0,this.endOuterCornerRadius=0,this.startInnerCornerRadius=0,this.endInnerCornerRadius=0}set inset(t){this.concentricEdgeInset=t,this.radialEdgeInset=t}set cornerRadius(t){this.startOuterCornerRadius=t,this.endOuterCornerRadius=t,this.startInnerCornerRadius=t,this.endInnerCornerRadius=t}computeBBox(){return L1(this).translate(this.centerX,this.centerY)}normalizedRadii(){const{concentricEdgeInset:t}=this;let{innerRadius:e,outerRadius:i}=this;return e=e>0?e+t:0,i=Math.max(i-t,0),{innerRadius:e,outerRadius:i}}normalizedClipSector(){const{clipSector:t}=this;if(t==null)return;const{startAngle:e,endAngle:i}=rf(this.startAngle,this.endAngle),{innerRadius:n,outerRadius:s}=this.normalizedRadii(),r=rf(t.startAngle,t.endAngle,e);return new A1(Math.max(e,r.startAngle),Math.min(i,r.endAngle),Math.max(n,t.innerRadius),Math.min(s,t.outerRadius))}getAngleOffset(t){return t>0?this.radialEdgeInset/t:0}arc(t,e,i,n,s,r,l,c){if(t<=0)return;const{startAngle:h,endAngle:d}=rf(this.startAngle,this.endAngle),{innerRadius:p,outerRadius:g}=this.normalizedRadii(),m=this.normalizedClipSector();if(c&&p<=0)return;const b=c?this.getAngleOffset(p+t):this.getAngleOffset(g-t),v=l?h+b+e:d-b-e,S=c?p+t:g-t,A=S*Math.cos(v),D=S*Math.sin(v);if(m!=null&&(!l&&!(v>=h-1e-6&&v<=m.endAngle-1e-6)||l&&!(v>=m.startAngle+1e-6&&v<=d-1e-6)||c&&S<m.innerRadius-1e-6||!c&&S>m.outerRadius+1e-6))return;const L=new Ry(A,D,t,i,n);if(m!=null){c?(L.clipStart(of(A,D,t,i,n,m.endAngle)),L.clipEnd(of(A,D,t,i,n,m.startAngle))):(L.clipStart(of(A,D,t,i,n,m.startAngle)),L.clipEnd(of(A,D,t,i,n,m.endAngle)));let _,j;if(l?(_=lf(A,D,t,i,n,m.innerRadius),j=lf(A,D,t,i,n,m.outerRadius)):(_=lf(A,D,t,i,n,m.outerRadius),j=lf(A,D,t,i,n,m.innerRadius)),L.clipStart(_),L.clipEnd(j),_!=null){const{x:z,y:B}=L.pointAt(_),q=mr(Math.atan2(B,z),h);l?r==null||r.clipStart(q):s.clipEnd(q)}if(j!=null){const{x:z,y:B}=L.pointAt(j),q=mr(Math.atan2(B,z),h);l?s.clipStart(q):r==null||r.clipEnd(q)}}if(m!=null){const{x:_,y:j}=L.pointAt((L.a0+L.a1)/2);if(!Wf(_,j,m))return}const{x:C,y:N}=L.pointAt(l===c?L.a0:L.a1),k=mr(Math.atan2(N,C),h),O=c?r:s;return l?O==null||O.clipStart(k):O==null||O.clipEnd(k),L}updatePath(){const{path:e,centerX:i,centerY:n,concentricEdgeInset:s,radialEdgeInset:r}=this;let{startOuterCornerRadius:l,endOuterCornerRadius:c,startInnerCornerRadius:h,endInnerCornerRadius:d}=this;const{startAngle:p,endAngle:g}=rf(this.startAngle,this.endAngle),{innerRadius:m,outerRadius:b}=this.normalizedRadii(),v=this.normalizedClipSector(),S=g-p,A=S>=2*Math.PI-1e-6;if(e.clear(),m===0&&b===0||m>b)return;if(((v==null?void 0:v.startAngle)??p)===((v==null?void 0:v.endAngle)??g))return;if(A&&this.clipSector==null&&l===0&&c===0&&h===0&&d===0){e.moveTo(i+b*Math.cos(p),n+b*Math.sin(p)),e.arc(i,n,b,p,g),m>s&&(e.moveTo(i+m*Math.cos(g),n+m*Math.sin(g)),e.arc(i,n,m,g,p,!0)),e.closePath();return}else if(this.clipSector==null&&Math.abs(m-b)<1e-6){e.arc(i,n,b,p,g,!1),e.arc(i,n,b,g,p,!0),e.closePath();return}const D=this.getAngleOffset(m),L=this.getAngleOffset(b);if(S<2*L)return;const N=((v==null?void 0:v.innerRadius)??m)>s,k=m<s||S<2*D,O=b-m,_=Math.max(l,h,c,d),j=_>0?Math.min(O/_,1):1;l*=j,c*=j,h*=j,d*=j;const z=hL(b,S-2*L,-l,-c);if(l*=z,c*=z,!k&&N){const J=hL(m,S-2*D,h,d);h*=J,d*=J}else h=0,d=0;const B=Math.max(l+h,c+d),q=B>0?Math.min(O/B,1):1;l*=q,c*=q,h*=q,d*=q;let at=0,nt=0;const xt=l/(b-l),St=c/(b-c);if(xt>=0&&xt<1-1e-6)at=Math.asin(xt);else{at=S/2;const J=b/(1/Math.sin(at)+1);l=Math.min(J,l)}if(St>=0&&St<1-1e-6)nt=Math.asin(St);else{nt=S/2;const J=b/(1/Math.sin(nt)+1);c=Math.min(J,c)}const W=Math.asin(h/(m+h)),lt=Math.asin(d/(m+d)),it=(v==null?void 0:v.outerRadius)??b,ut=this.getAngleOffset(it),w=new Ry(0,0,it,p+ut,g-ut),U=(v==null?void 0:v.innerRadius)??m,Q=this.getAngleOffset(U),$=N?new Ry(0,0,U,p+Q,g-Q):void 0;v!=null&&(w.clipStart(v.startAngle),w.clipEnd(v.endAngle),$==null||$.clipStart(v.startAngle),$==null||$.clipEnd(v.endAngle));const X=this.arc(l,at,p-Math.PI*.5,p+at,w,$,!0,!1),dt=this.arc(c,nt,g-nt,g+Math.PI*.5,w,$,!1,!1),ct=this.arc(d,lt,g+Math.PI*.5,g+Math.PI-lt,w,$,!1,!0),pt=this.arc(h,W,p+Math.PI+W,p+Math.PI*1.5,w,$,!0,!0);if(k){const J=S<Math.PI*.5?r*(1+Math.cos(S))/Math.sin(S):NaN;let et;J>0&&J<b?et=Math.max(Math.hypot(r,J),m):et=r,et=Math.max(et,m);const ht=p+S*.5;e.moveTo(i+et*Math.cos(ht),n+et*Math.sin(ht))}else if(!((pt==null?void 0:pt.isValid())===!0||($==null?void 0:$.isValid())===!0)){const J=p+S/2,et=m*Math.cos(J),ht=m*Math.sin(J);e.moveTo(i+et,n+ht)}if((X==null?void 0:X.isValid())===!0){const{cx:J,cy:et,r:ht,a0:Mt,a1:wt}=X;e.arc(i+J,n+et,ht,Mt,wt)}if(w.isValid()){const{r:J,a0:et,a1:ht}=w;e.arc(i,n,J,et,ht)}if((dt==null?void 0:dt.isValid())===!0){const{cx:J,cy:et,r:ht,a0:Mt,a1:wt}=dt;e.arc(i+J,n+et,ht,Mt,wt)}if(!k){if((ct==null?void 0:ct.isValid())===!0){const{cx:J,cy:et,r:ht,a0:Mt,a1:wt}=ct;e.arc(i+J,n+et,ht,Mt,wt)}if(($==null?void 0:$.isValid())===!0){const{r:J,a0:et,a1:ht}=$;e.arc(i,n,J,ht,et,!0)}if((pt==null?void 0:pt.isValid())===!0){const{cx:J,cy:et,r:ht,a0:Mt,a1:wt}=pt;e.arc(i+J,n+et,ht,Mt,wt)}}e.closePath()}isPointInPath(t,e){const{startAngle:i,endAngle:n,innerRadius:s,outerRadius:r}=this.clipSector??this;return Wf(t-this.centerX,e-this.centerY,{startAngle:i,endAngle:n,innerRadius:Math.min(s,r),outerRadius:Math.max(s,r)})}};yi.className="Sector";M([Nt()],yi.prototype,"centerX",2);M([Nt()],yi.prototype,"centerY",2);M([Nt()],yi.prototype,"innerRadius",2);M([Nt()],yi.prototype,"outerRadius",2);M([Nt()],yi.prototype,"startAngle",2);M([Nt()],yi.prototype,"endAngle",2);M([Nt()],yi.prototype,"clipSector",2);M([Nt()],yi.prototype,"concentricEdgeInset",2);M([Nt()],yi.prototype,"radialEdgeInset",2);M([Nt()],yi.prototype,"startOuterCornerRadius",2);M([Nt()],yi.prototype,"endOuterCornerRadius",2);M([Nt()],yi.prototype,"startInnerCornerRadius",2);M([Nt()],yi.prototype,"endInnerCornerRadius",2);var Fe={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},Ts={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"},I1=class extends le{constructor(){super(...arguments),this.showInLegend=!1}};M([T(At)],I1.prototype,"showInLegend",2);var xx=class extends ri{constructor(){super(...arguments),this.spacing=2}set(t,e){return super.set(t)}};M([T(rt)],xx.prototype,"text",2);M([T(Ut)],xx.prototype,"spacing",2);var vx=class extends Ct{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}};M([T($t)],vx.prototype,"fill",2);M([T(ee)],vx.prototype,"fillOpacity",2);var rc=class extends ri{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};M([T(ft)],rc.prototype,"offset",2);M([T(Ut.restrict({min:0,max:360}))],rc.prototype,"minAngle",2);M([T(ft)],rc.prototype,"minSpacing",2);M([T(ft)],rc.prototype,"maxCollisionOffset",2);M([T(At)],rc.prototype,"avoidCollisions",2);var Mx=class extends ri{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};M([T(Ut)],Mx.prototype,"positionOffset",2);M([T(ee)],Mx.prototype,"positionRatio",2);var Kp=class extends Ct{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};M([T(Sn,{optional:!0})],Kp.prototype,"colors",2);M([T(ft)],Kp.prototype,"length",2);M([T(ft)],Kp.prototype,"strokeWidth",2);var Gt=class extends Ln{constructor(){super(...arguments),this.fills=Object.values(Fe),this.strokes=Object.values(Ts),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.hideZeroValueSectorsInLegend=!1,this.innerLabels=new oh(xx),this.title=new I1,this.innerCircle=new vx,this.shadow=new bs,this.calloutLabel=new rc,this.sectorLabel=new Mx,this.calloutLine=new Kp,this.tooltip=new _i}isValid(){const t=super.isValid();return this.innerRadiusRatio==null&&this.innerRadiusOffset==null?(ot.warnOnce("Either an [innerRadiusRatio] or an [innerRadiusOffset] must be set to render a donut series."),!1):t}};M([T(rt)],Gt.prototype,"angleKey",2);M([T(rt,{optional:!0})],Gt.prototype,"angleName",2);M([T(rt,{optional:!0})],Gt.prototype,"angleFilterKey",2);M([T(rt,{optional:!0})],Gt.prototype,"radiusKey",2);M([T(rt,{optional:!0})],Gt.prototype,"radiusName",2);M([T(ft,{optional:!0})],Gt.prototype,"radiusMin",2);M([T(ft,{optional:!0})],Gt.prototype,"radiusMax",2);M([T(rt,{optional:!0})],Gt.prototype,"calloutLabelKey",2);M([T(rt,{optional:!0})],Gt.prototype,"calloutLabelName",2);M([T(rt,{optional:!0})],Gt.prototype,"sectorLabelKey",2);M([T(rt,{optional:!0})],Gt.prototype,"sectorLabelName",2);M([T(rt,{optional:!0})],Gt.prototype,"legendItemKey",2);M([T(Sn)],Gt.prototype,"fills",2);M([T(Sn)],Gt.prototype,"strokes",2);M([T(ee)],Gt.prototype,"fillOpacity",2);M([T(ee)],Gt.prototype,"strokeOpacity",2);M([T(_s)],Gt.prototype,"lineDash",2);M([T(ft)],Gt.prototype,"lineDashOffset",2);M([T(ft)],Gt.prototype,"cornerRadius",2);M([T($i,{optional:!0})],Gt.prototype,"itemStyler",2);M([T(Ut)],Gt.prototype,"rotation",2);M([T(Ut)],Gt.prototype,"outerRadiusOffset",2);M([T(ee)],Gt.prototype,"outerRadiusRatio",2);M([T(Ut,{optional:!0})],Gt.prototype,"innerRadiusOffset",2);M([T(ee,{optional:!0})],Gt.prototype,"innerRadiusRatio",2);M([T(ft)],Gt.prototype,"strokeWidth",2);M([T(Ut)],Gt.prototype,"sectorSpacing",2);M([T(At)],Gt.prototype,"hideZeroValueSectorsInLegend",2);M([T(H0)],Gt.prototype,"innerLabels",2);M([T(mt)],Gt.prototype,"title",2);M([T(mt)],Gt.prototype,"innerCircle",2);M([T(mt)],Gt.prototype,"shadow",2);M([T(mt)],Gt.prototype,"calloutLabel",2);M([T(mt)],Gt.prototype,"sectorLabel",2);M([T(mt)],Gt.prototype,"calloutLine",2);M([T(mt)],Gt.prototype,"tooltip",2);function xo(t,e,i,n){const s=[i.convert(0),i.convert(1)],r=[n.convert(0),n.convert(1)],l=Math.PI/-2+qe(e),c=t?"initial":"update",h=({radius:v})=>({innerRadius:s[0],outerRadius:s[0]+(s[1]-s[0])*v}),d=({radius:v})=>({innerRadius:r[0],outerRadius:r[0]+(r[1]-r[0])*v});return{nodes:{toFn:(v,S,A,{prevLive:D})=>{var j,z;let{startAngle:L,endAngle:C,innerRadius:N,outerRadius:k}=S;const{stroke:O,fill:_}=S.sectorFormat;if(A==="removed"&&D?(L=(j=D.datum)==null?void 0:j.endAngle,C=(z=D.datum)==null?void 0:z.endAngle):A==="removed"&&!D&&(L=l,C=l),A==="removed"){const B=h(S);N=B.innerRadius,k=B.outerRadius}return{startAngle:L,endAngle:C,outerRadius:k,innerRadius:N,stroke:O,fill:_}},fromFn:(v,S,A,{prevFromProps:D})=>{let{startAngle:L,endAngle:C,innerRadius:N,outerRadius:k}=v,{fill:O,stroke:_}=S.sectorFormat;if(A==="unknown"||A==="added"&&!D?(L=l,C=l,N=S.innerRadius,k=S.outerRadius):A==="added"&&D&&(L=D.endAngle??l,C=D.endAngle??l,N=D.innerRadius??S.innerRadius,k=D.outerRadius??S.outerRadius),A==="added"&&!t){const j=d(S);N=j.innerRadius,k=j.outerRadius}return A==="updated"&&(O=v.fill??O,_=(typeof v.stroke=="string"?v.stroke:void 0)??_),{startAngle:L,endAngle:C,innerRadius:N,outerRadius:k,fill:O,stroke:_,phase:c}}},innerCircle:{fromFn:(v,S)=>{var A;return{size:((A=v.previousDatum)==null?void 0:A.radius)??v.size??0,phase:c}},toFn:(v,S)=>({size:S.radius??0})}}}function Sx(t,e){return{startAngle:e.startAngle,endAngle:e.endAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,fill:e.sectorFormat.fill,stroke:e.sectorFormat.stroke}}function Dx(t,e){const i=e.y-t.centerY,n=e.x-t.centerX,s=Math.atan2(i,n),r=t.getItemNodes();for(const l of r)if(l.datum.missing!==!0&&lr(s,l.startAngle,l.endAngle)){const c=Math.sqrt(n*n+i*i);let h=0;return c<l.innerRadius?h=l.innerRadius-c:c>l.outerRadius&&(h=c-l.outerRadius),{datum:l.datum,distance:h}}}var N1=(t=>(t[t.BACKGROUND=0]="BACKGROUND",t[t.FOREGROUND=1]="FOREGROUND",t[t.HIGHLIGHT=2]="HIGHLIGHT",t[t.LABEL=3]="LABEL",t))(N1||{}),Zp=class extends jb{constructor({useLabelLayer:t=!1,pickModes:e=[1,0],canHaveAxes:i=!1,animationResetFns:n,...s}){super({...s,useLabelLayer:t,pickModes:e,directionKeys:{x:["angleKey"],y:["radiusKey"]},directionNames:{x:["angleName"],y:["radiusName"]},canHaveAxes:i}),this.itemGroup=this.contentGroup.appendChild(new Tt),this.nodeData=[],this.itemSelection=Ge.select(this.itemGroup,()=>this.nodeFactory(),!1),this.labelSelection=Ge.select(this.labelGroup,()=>this.labelFactory(),!1),this.highlightSelection=Ge.select(this.highlightGroup,()=>this.nodeFactory()),this.highlightLabelSelection=Ge.select(this.highlightLabel,()=>this.labelFactory()),this.centerX=0,this.centerY=0,this.radius=0,this.animationResetFns=n,this.animationState=new dh("empty",{empty:{update:{target:"ready",action:r=>this.animateEmptyUpdateReady(r)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:r=>this.animateReadyHighlight(r),highlightMarkers:r=>this.animateReadyHighlightMarkers(r),resize:r=>this.animateReadyResize(r),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:r=>this.animateWaitingUpdateReady(r)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:r=>this.animateClearingUpdateEmpty(r)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}getItemNodes(){return[...this.itemGroup.children()]}getNodeData(){return this.nodeData}setSeriesIndex(t){return super.setSeriesIndex(t)?(this.contentGroup.zIndex=[t,1],this.highlightGroup.zIndex=[t,2],this.labelGroup.zIndex=[t,3],!0):!1}resetAnimation(t){t==="initial"?this.animationState.transition("reset"):t==="ready"&&this.animationState.transition("skip")}labelFactory(){const t=new si;return t.pointerEvents=1,t}addChartEventListeners(){var t;this.destroyFns.push((t=this.ctx.chartEventManager)==null?void 0:t.addListener("legend-item-click",e=>this.onLegendItemClick(e)))}getInnerRadius(){return 0}computeLabelsBBox(t,e){return null}resetAllAnimation(){const{item:t,label:e}=this.animationResetFns??{};this.ctx.animationManager.stopByAnimationGroupId(this.id),t&&fi([this.itemSelection,this.highlightSelection],t),e&&fi([this.labelSelection,this.highlightLabelSelection],e),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup(),this.highlightLabelSelection.cleanup()}animateEmptyUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(t){const{item:e,label:i}=this.animationResetFns??{};e&&fi([this.highlightSelection],e),i&&fi([this.highlightLabelSelection],i)}animateReadyHighlightMarkers(t){}animateReadyResize(t){this.resetAllAnimation()}animateClearingUpdateEmpty(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}computeFocusBounds(t){var i;const e=(i=this.getNodeData())==null?void 0:i[t.datumIndex];if(e!==void 0)return this.itemSelection.select(n=>n instanceof Qi&&n.datum===e)[0]}getSeriesRange(t,e){return[NaN,NaN]}},V4=class extends gh{constructor(t,e,i,n){super(t,e,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},Ax=class extends Zp{constructor(t){super({moduleCtx:t,pickModes:[1,0],useLabelLayer:!0,animationResetFns:{item:Sx,label:ka}}),this.properties=new Gt,this.phantomNodeData=void 0,this.backgroundGroup=new Xi({name:`${this.id}-background`,zIndex:0}),this.noVisibleData=!1,this.previousRadiusScale=new fs,this.radiusScale=new fs,this.phantomGroup=this.backgroundGroup.appendChild(new Tt({name:"phantom"})),this.phantomSelection=Ge.select(this.phantomGroup,()=>this.nodeFactory(),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new Tt({name:"pieCalloutLabels"})),this.calloutLabelSelection=new Ge(this.calloutLabelGroup,Tt),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new Tt({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new ai({shape:"circle"})),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new ai({shape:"circle"})),this.innerLabelsGroup=this.contentGroup.appendChild(new Tt({name:"innerLabels"})),this.innerCircleGroup=this.backgroundGroup.appendChild(new Tt({name:`${this.id}-innerCircle`})),this.innerLabelsSelection=Ge.select(this.innerLabelsGroup,si),this.innerCircleSelection=Ge.select(this.innerCircleGroup,()=>new ai({shape:"circle"})),this.surroundingRadius=void 0,this.NodeEvent=V4,this.angleScale=new fs,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(e=>e+Math.PI/2),this.phantomGroup.opacity=.2}get calloutNodeData(){return this.phantomNodeData??this.nodeData}attachSeries(t,e,i){super.attachSeries(t,e,i),t==null||t.appendChild(this.backgroundGroup)}detachSeries(t,e,i){super.detachSeries(t,e,i),t==null||t.removeChild(this.backgroundGroup)}setSeriesIndex(t){return super.setSeriesIndex(t)?(this.backgroundGroup.zIndex=[0,t],!0):!1}nodeFactory(){return new yi}getSeriesDomain(t){return t==="x"?this.angleScale.domain:this.radiusScale.domain}async processData(t){var S,A;if(this.data==null||!this.properties.isValid())return;const{visible:e,id:i}=this,{angleKey:n,angleFilterKey:s,radiusKey:r,calloutLabelKey:l,sectorLabelKey:c,legendItemKey:h}=this.properties,d=(D,L,C)=>e&&this.ctx.legendManager.getItemEnabled({seriesId:i,itemId:C}),p=!this.ctx.animationManager.isSkipped(),g=[],m=[];h?g.push(ps(h,"band",{id:"legendItemKey"})):l?g.push(ps(l,"band",{id:"calloutLabelKey"})):c&&g.push(ps(c,"band",{id:"sectorLabelKey"}));const b=this.radiusScale.type,v=this.angleScale.type;r&&m.push(Bb(r,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax}),jt(r,b,{id:"radiusRaw"}),bo("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),l&&m.push(jt(l,"band",{id:"calloutLabelValue"})),c&&m.push(jt(c,"band",{id:"sectorLabelValue"})),h&&m.push(jt(h,"band",{id:"legendItemValue"})),s&&m.push(Yu(s,v,{id:"angleFilterValue",onlyPositive:!0,validation:d,invalidValue:0}),jt(s,v,{id:"angleFilterRaw"}),bo("angleFilterValue",[0,1],0,0)),p&&this.processedData&&g.length>0&&m.push(Jl(this.id,this.processedData)),m.push(Ql()),await this.requestDataModel(t,this.data,{props:[...g,Yu(n,v,{id:"angleValue",onlyPositive:!0,validation:d,invalidValue:0}),jt(n,v,{id:"angleRaw"}),bo("angleValue",[0,1],0,0),...m]});for(const D of((A=(S=this.processedData)==null?void 0:S.defs)==null?void 0:A.values)??[]){const{id:L,missing:C,property:N}=D,k=Tb(this,C);L!=="angleRaw"&&k>0&&ot.warnOnce(`no value was found for the key '${String(N)}' on ${k} data element${k>1?"s":""}`)}this.animationState.transition("updateData")}maybeRefreshNodeData(){if(!this.nodeDataRefresh)return;const{nodeData:t=[],phantomNodeData:e}=this.createNodeData()??{};this.nodeData=t,this.phantomNodeData=e,this.nodeDataRefresh=!1}getProcessedDataValues(t,e){const i=t.resolveColumnById(this,"angleValue",e),n=t.resolveColumnById(this,"angleRaw",e),s=this.properties.angleFilterKey!=null?t.resolveColumnById(this,"angleFilterValue",e):void 0,r=this.properties.angleFilterKey!=null?t.resolveColumnById(this,"angleFilterRaw",e):void 0,l=this.properties.radiusKey?t.resolveColumnById(this,"radiusValue",e):void 0,c=this.properties.radiusKey?t.resolveColumnById(this,"radiusRaw",e):void 0,h=this.properties.calloutLabelKey?t.resolveColumnById(this,"calloutLabelValue",e):void 0,d=this.properties.sectorLabelKey?t.resolveColumnById(this,"sectorLabelValue",e):void 0,p=this.properties.legendItemKey?t.resolveColumnById(this,"legendItemValue",e):void 0;return{angleValues:i,angleRawValues:n,angleFilterValues:s,angleFilterRawValues:r,radiusValues:l,radiusRawValues:c,calloutLabelValues:h,sectorLabelValues:d,legendItemValues:p}}createNodeData(){var j;const{id:t,processedData:e,dataModel:i,angleScale:n,ctx:{legendManager:s},visible:r}=this,{rotation:l,innerRadiusRatio:c}=this.properties;if(!this.properties.isValid())return this.zerosumOuterRing.visible=!0,this.zerosumInnerRing.visible=!0,{itemId:t,nodeData:[],labelData:[]};if(!i||(e==null?void 0:e.type)!=="ungrouped")return;const{angleValues:h,angleRawValues:d,angleFilterValues:p,angleFilterRawValues:g,radiusValues:m,radiusRawValues:b,calloutLabelValues:v,sectorLabelValues:S,legendItemValues:A}=this.getProcessedDataValues(i,e),D=(g==null?void 0:g.some((z,B)=>z>d[B]))??!1;let L=0,C=0;const N=[],k=g!=null?[]:void 0,O=e.dataSources.get(this.id)??[],_=(j=e.invalidData)==null?void 0:j.get(this.id);return O.forEach((z,B)=>{if((_==null?void 0:_[B])===!0)return;const q=D?p[B]:h[B],at=g!=null&&!D?Math.sqrt(g[B]/d[B]):1,nt=n.convert(L)+qe(l);L=q,C+=q;const xt=n.convert(L)+qe(l),St=Math.abs(xt-nt),W=nt+St/2,lt=d[B],ut=((m==null?void 0:m[B])??1)*at,w=b==null?void 0:b[B],U=A==null?void 0:A[B],Q=this.getLabels(z,W,St,!0,v==null?void 0:v[B],S==null?void 0:S[B],U),$=this.getSectorFormat(z,B,!1),X={itemId:B,series:this,datum:z,datumIndex:B,angleValue:lt,midAngle:W,midCos:Math.cos(W),midSin:Math.sin(W),startAngle:nt,endAngle:xt,radius:ut,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(ut),0),sectorFormat:$,radiusValue:w,legendItemValue:U,enabled:r&&s.getItemEnabled({seriesId:t,itemId:B}),focusable:!0,...Q};N.push(X),k!=null&&k.push({...X,radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0),focusable:!1})}),this.zerosumOuterRing.visible=C===0,this.zerosumInnerRing.visible=C===0&&c!=null&&c!==1&&c>0,{itemId:t,nodeData:N,labelData:N,phantomNodeData:k}}getLabels(t,e,i,n,s,r,l){const{calloutLabel:c,sectorLabel:h,legendItemKey:d}=this.properties,p=!n||c.enabled?this.properties.calloutLabelKey:void 0,g=!n||h.enabled?this.properties.sectorLabelKey:void 0;if(!p&&!g&&!d)return{};const m={datum:t,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},b={};return p&&i>=qe(c.minAngle)&&(b.calloutLabel={...this.getTextAlignment(e),text:this.getLabelText(c,{...m,value:s}),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}),g&&(b.sectorLabel={text:this.getLabelText(h,{...m,value:r})}),d!=null&&l!=null&&(b.legendItem={key:d,text:l}),b}getTextAlignment(t){const e=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],i=Pu(t),n=-.75*Math.PI,s=i-n,r=Math.floor(s/(Math.PI/2)),l=_0(r,e.length);return e[l]}getSectorFormat(t,e,i){const{angleKey:n,radiusKey:s,calloutLabelKey:r,sectorLabelKey:l,legendItemKey:c,fills:h,strokes:d,itemStyler:p}=this.properties,g=d[e%d.length],{fill:m,fillOpacity:b,stroke:v,strokeWidth:S,strokeOpacity:A,lineDash:D,lineDashOffset:L,cornerRadius:C}=Rt(i&&this.properties.highlightStyle.item,{fill:h.length>0?h[e%h.length]:void 0,stroke:g,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties);let N;return p&&(N=this.cachedDatumCallback(this.getDatumId(t,e)+(i?"-highlight":"-hide"),()=>p({datum:t,angleKey:n,radiusKey:s,calloutLabelKey:r,sectorLabelKey:l,legendItemKey:c,fill:m,fillOpacity:b,stroke:v,strokeWidth:S,strokeOpacity:A,lineDash:D,lineDashOffset:L,cornerRadius:C,highlighted:i,seriesId:this.id}))),{fill:(N==null?void 0:N.fill)??m,fillOpacity:(N==null?void 0:N.fillOpacity)??b,stroke:(N==null?void 0:N.stroke)??v,strokeWidth:(N==null?void 0:N.strokeWidth)??S,strokeOpacity:(N==null?void 0:N.strokeOpacity)??A,lineDash:(N==null?void 0:N.lineDash)??D,lineDashOffset:(N==null?void 0:N.lineDashOffset)??L,cornerRadius:(N==null?void 0:N.cornerRadius)??C}}getInnerRadius(){const{radius:t}=this,{innerRadiusRatio:e=1,innerRadiusOffset:i=0}=this.properties,n=t*e+i;return n===t||n<0?0:n}getOuterRadius(){const{outerRadiusRatio:t,outerRadiusOffset:e}=this.properties;return Math.max(this.radius*t+e,0)}updateRadiusScale(t){var n;const e=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=e,t&&(this.previousRadiusScale.range=e);const i=s=>({...s,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(s.radius),0)});this.nodeData=this.nodeData.map(i),this.phantomNodeData=(n=this.phantomNodeData)==null?void 0:n.map(i)}getTitleTranslationY(){var s;const t=Math.max(0,this.radiusScale.range[1]);if(t===0)return NaN;const i=2+(((s=this.properties.title)==null?void 0:s.spacing)??0),n=Math.max(0,-t);return-t-i-n}update({seriesRect:t}){const{title:e}=this.properties,i={seriesRectWidth:t==null?void 0:t.width,seriesRectHeight:t==null?void 0:t.height},n=ba(this.nodeDataDependencies,i)!=null;if(n&&(this._nodeDataDependencies=i),this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(n),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),e){const s=this.getTitleTranslationY();e.node.y=isFinite(s)?s:0;const r=e.node.getBBox();e.node.visible=e.enabled&&isFinite(s)&&!this.bboxIntersectsSurroundingSeries(r)}for(const s of[this.zerosumInnerRing,this.zerosumOuterRing])s.fillOpacity=0,s.stroke=this.properties.calloutLabel.color,s.strokeWidth=1,s.strokeOpacity=1;this.updateNodeMidPoint(),this.updateSelections(),this.updateNodes(t)}updateTitleNodes(){var i,n;const{oldTitle:t}=this,{title:e}=this.properties;t!==e&&(t&&((i=this.labelGroup)==null||i.removeChild(t.node)),e&&(e.node.textBaseline="bottom",(n=this.labelGroup)==null||n.appendChild(e.node)),this.oldTitle=e)}updateNodeMidPoint(){var e;const t=i=>{const n=i.innerRadius+(i.outerRadius-i.innerRadius)/2;i.midPoint={x:i.midCos*Math.max(0,n),y:i.midSin*Math.max(0,n)}};this.nodeData.forEach(t),(e=this.phantomNodeData)==null||e.forEach(t)}updateSelections(){this.updateGroupSelection(),this.updateInnerCircleSelection()}updateGroupSelection(){const{itemSelection:t,highlightSelection:e,phantomSelection:i,highlightLabelSelection:n,calloutLabelSelection:s,labelSelection:r,innerLabelsSelection:l}=this,c=this.nodeData.map(d=>({...d,sectorFormat:{...d.sectorFormat}})),h=(d,p)=>{d.update(p,void 0,g=>this.getDatumId(g.datum,g.datumIndex)),this.ctx.animationManager.isSkipped()&&d.cleanup()};h(t,this.nodeData),h(e,c),h(i,this.phantomNodeData??[]),s.update(this.calloutNodeData,d=>{const p=new An;p.tag=0,p.pointerEvents=1,d.appendChild(p);const g=new si;g.tag=1,g.pointerEvents=1,d.appendChild(g)}),r.update(this.nodeData),n.update(c),l.update(this.properties.innerLabels,d=>{d.pointerEvents=1})}updateInnerCircleSelection(){const{innerCircle:t}=this.properties;let e=0;const i=this.getInnerRadius();if(i>0){const s=Math.min(i,this.getOuterRadius());e=Math.ceil(s*2+1)}const n=t?[{radius:e}]:[];this.innerCircleSelection.update(n)}updateNodes(t){const e=this.ctx.highlightManager.getActiveHighlight(),{visible:i}=this;this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&(e==null?void 0:e.series)===this,this.highlightLabel.visible=i&&(e==null?void 0:e.series)===this,this.labelGroup.visible=i,this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each((r,{radius:l})=>{var c,h;r.setProperties({fill:(c=this.properties.innerCircle)==null?void 0:c.fill,opacity:(h=this.properties.innerCircle)==null?void 0:h.fillOpacity,size:l})});const n=this.ctx.animationManager.isSkipped(),s=(r,l,c,h)=>{const d=this.getSectorFormat(l.datum,l.itemId,h);l.sectorFormat.fill=d.fill,l.sectorFormat.stroke=d.stroke,n&&(r.startAngle=l.startAngle,r.endAngle=l.endAngle,r.innerRadius=l.innerRadius,r.outerRadius=l.outerRadius),(h||n)&&(r.fill=d.fill,r.stroke=d.stroke),r.strokeWidth=d.strokeWidth,r.fillOpacity=d.fillOpacity,r.strokeOpacity=d.strokeOpacity,r.lineDash=d.lineDash,r.lineDashOffset=d.lineDashOffset,r.cornerRadius=d.cornerRadius,r.fillShadow=this.properties.shadow;const p=Math.max((this.properties.sectorSpacing+(d.stroke!=null?d.strokeWidth:0))/2,0);r.inset=p,r.lineJoin=this.properties.sectorSpacing>=0||p>0?"miter":"round"};this.itemSelection.each((r,l,c)=>s(r,l,c,!1)),this.highlightSelection.each((r,l,c)=>{s(r,l,c,!0),r.visible=l.itemId===(e==null?void 0:e.itemId)}),this.phantomSelection.each((r,l,c)=>s(r,l,c,!1)),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(t),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){const{calloutLine:t}=this.properties,e=t.length,i=t.strokeWidth,n=t.colors??this.properties.strokes,{offset:s}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach((r,l)=>{const c=r.datum,{calloutLabel:h,outerRadius:d}=c;if(h!=null&&h.text&&!h.hidden&&d!==0){r.visible=!0,r.strokeWidth=i,r.stroke=n[l%n.length],r.fill=void 0;const p=c.midCos*d,g=c.midSin*d;let m=c.midCos*(d+e),b=c.midSin*(d+e);if((h.collisionTextAlign??h.collisionOffsetY!==0)&&h.box!=null){const S=h.box;let A=m,D=b;m<S.x?A=S.x:m>S.x+S.width&&(A=S.x+S.width),b<S.y?D=S.y:b>S.y+S.height&&(D=S.y+S.height);const L=A-m,C=D-b,N=Math.sqrt(Math.pow(L,2)+Math.pow(C,2)),k=N-s;k>0&&(m=m+L*k/N,b=b+C*k/N)}r.x1=p,r.y1=g,r.x2=m,r.y2=b}else r.visible=!1})}getLabelOverflow(t,e,i){const n=-this.centerX,s=n+i.width,r=-this.centerY,l=r+i.height,c=1;let h=1;e.x+c<n?h=(e.x+e.width-n)/e.width:e.x+e.width-c>s&&(h=(s-e.x)/e.width);const d=e.y+c<r||e.y+e.height-c>l,p=h===1?t.length:Math.floor(t.length*h)-1,g=this.bboxIntersectsSurroundingSeries(e);return{textLength:p,hasVerticalOverflow:d,hasSurroundingSeriesOverflow:g}}bboxIntersectsSurroundingSeries(t){const{surroundingRadius:e}=this;if(e==null)return!1;const i=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],n=e**2;return i.some(s=>s.x**2+s.y**2>n)}computeCalloutLabelCollisionOffsets(){const{radiusScale:t}=this,{calloutLabel:e,calloutLine:i}=this.properties,{offset:n,minSpacing:s}=e,r=t.convert(0),l=D=>!D.calloutLabel||D.outerRadius===0,c=this.calloutNodeData,h=c.filter(D=>!l(D));if(h.forEach(D=>{const L=D.calloutLabel;L!=null&&(L.hidden=!1,L.collisionTextAlign=void 0,L.collisionOffsetY=0)}),h.length<=1)return;const d=h.filter(D=>D.midCos<0).sort((D,L)=>D.midSin-L.midSin),p=h.filter(D=>D.midCos>=0).sort((D,L)=>D.midSin-L.midSin),g=h.filter(D=>{var L;return D.midSin<0&&((L=D.calloutLabel)==null?void 0:L.textAlign)==="center"}).sort((D,L)=>D.midCos-L.midCos),m=h.filter(D=>{var L;return D.midSin>=0&&((L=D.calloutLabel)==null?void 0:L.textAlign)==="center"}).sort((D,L)=>D.midCos-L.midCos),b=D=>{const L=D.calloutLabel;if(L==null)return bt.zero.clone();const C=D.outerRadius+i.length+n,N=D.midCos*C,k=D.midSin*C+L.collisionOffsetY,O=L.collisionTextAlign??L.textAlign,_=L.textBaseline;return si.computeBBox(L.text,N,k,{font:this.properties.calloutLabel,textAlign:O,textBaseline:_})},v=(D,L,C)=>{const N=b(D).grow(s/2),k=b(L).grow(s/2);N.x<k.x+k.width&&N.x+N.width>k.x&&(C==="to-top"?N.y<k.y+k.height:N.y+N.height>k.y)&&(L.calloutLabel.collisionOffsetY=C==="to-top"?N.y-k.y-k.height:N.y+N.height-k.y)},S=D=>{const L=D.slice().sort((N,k)=>Math.abs(N.midSin)-Math.abs(k.midSin))[0],C=D.indexOf(L);for(let N=C-1;N>=0;N--){const k=D[N+1],O=D[N];v(k,O,"to-top")}for(let N=C+1;N<D.length;N++){const k=D[N-1],O=D[N];v(k,O,"to-bottom")}},A=D=>{const L=h.some(j=>j.calloutLabel.collisionOffsetY!==0),C=D.map(j=>b(j)),N=C.map(j=>j.clone().grow(s/2));let k=!1;for(let j=0;j<N.length&&!k;j++){const z=N[j];for(let B=j+1;B<D.length;B++){const q=N[B];if(z.collidesBBox(q)){k=!0;break}}}const O=c.map(j=>{const{startAngle:z,endAngle:B,outerRadius:q}=j;return{startAngle:z,endAngle:B,innerRadius:r,outerRadius:q}}),_=C.some(j=>O.some(z=>T1(j,z)));!k&&!L&&!_||D.filter(j=>j.calloutLabel.textAlign==="center").forEach(j=>{const z=j.calloutLabel;j.midCos<0?z.collisionTextAlign="right":j.midCos>0?z.collisionTextAlign="left":z.collisionTextAlign="center"})};S(d),S(p),A(g),A(m)}updateCalloutLabelNodes(t){const{radiusScale:e}=this,{calloutLabel:i,calloutLine:n}=this.properties,s=n.length,{offset:r,color:l}=i,c=new si;this.calloutLabelSelection.selectByTag(1).forEach(h=>{const{datum:d}=h,p=d.calloutLabel,g=e.convert(d.radius),m=Math.max(0,g);if(!(p!=null&&p.text)||m===0||p.hidden){h.visible=!1;return}const b=m+s+r,v=d.midCos*b,S=d.midSin*b+p.collisionOffsetY,A={textAlign:p.collisionTextAlign??p.textAlign,textBaseline:p.textBaseline};c.text=p.text,c.x=v,c.y=S,c.setFont(this.properties.calloutLabel),c.setAlign(A);const D=c.getBBox();let L=p.text,C=!0;if(i.avoidCollisions){const{textLength:N,hasVerticalOverflow:k}=this.getLabelOverflow(p.text,D,t);L=p.text.length===N?p.text:`${p.text.substring(0,N)}`,C=!k}h.text=L,h.x=v,h.y=S,h.setFont(this.properties.calloutLabel),h.setAlign(A),h.fill=l,h.visible=C})}computeLabelsBBox(t,e){const{calloutLabel:i,calloutLine:n}=this.properties,s=n.length,{offset:r,maxCollisionOffset:l,minSpacing:c}=i;if(!i.avoidCollisions)return null;this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const h=[],d=new si;let p;const{title:g}=this.properties;if(g!=null&&g.text&&g.enabled){const m=this.getTitleTranslationY();isFinite(m)&&(d.text=g.text,d.x=0,d.y=m,d.setFont(g),d.setAlign({textBaseline:"bottom",textAlign:"center"}),p=d.getBBox(),h.push(p))}return this.calloutNodeData.forEach(m=>{const b=m.calloutLabel;if(!b||m.outerRadius===0)return null;const v=m.outerRadius+s+r,S=m.midCos*v,A=m.midSin*v+b.collisionOffsetY;d.text=b.text,d.x=S,d.y=A,d.setFont(this.properties.calloutLabel),d.setAlign({textAlign:b.collisionTextAlign??b.textAlign,textBaseline:b.textBaseline});const D=d.getBBox();if(b.box=D,Math.abs(b.collisionOffsetY)>l){b.hidden=!0;return}if(p){const L=-this.centerY,C=new bt(p.x-c,L,p.width+2*c,p.y+p.height+c-L);if(D.collidesBBox(C)){b.hidden=!0;return}}if(t.hideWhenNecessary){const{textLength:L,hasVerticalOverflow:C,hasSurroundingSeriesOverflow:N}=this.getLabelOverflow(b.text,D,e),k=b.text.length>2&&L<2;if(C||k||N){b.hidden=!0;return}}b.hidden=!1,h.push(D)}),h.length===0?null:bt.merge(h)}updateSectorLabelNodes(){const{radiusScale:t}=this,e=t.convert(0),{fontSize:i,fontStyle:n,fontWeight:s,fontFamily:r,positionOffset:l,positionRatio:c,color:h}=this.properties.sectorLabel,d=(p,g)=>{const{sectorLabel:m,outerRadius:b}=g;let v=!1;if(m&&b!==0){const S=e*(1-c)+b*c+l;p.fill=h,p.fontStyle=n,p.fontWeight=s,p.fontSize=i,p.fontFamily=r,p.text=m.text,p.x=g.midCos*S,p.y=g.midSin*S,p.textAlign="center",p.textBaseline="middle";const A=p.getBBox(),D=[[A.x,A.y],[A.x+A.width,A.y],[A.x+A.width,A.y+A.height],[A.x,A.y+A.height]],{startAngle:L,endAngle:C}=g,N={startAngle:L,endAngle:C,innerRadius:e,outerRadius:b};D.every(([k,O])=>Wf(k,O,N))&&(v=!0)}p.visible=v};this.labelSelection.each(d),this.highlightLabelSelection.each(d)}updateInnerLabelNodes(){const t=[],e=[];this.innerLabelsSelection.each((p,g)=>{const{fontStyle:m,fontWeight:b,fontSize:v,fontFamily:S,color:A}=g;p.fontStyle=m,p.fontWeight=b,p.fontSize=v,p.fontFamily=S,p.text=g.text,p.x=0,p.y=0,p.fill=A,p.textAlign="center",p.textBaseline="alphabetic",t.push(p.getBBox()),e.push(g.spacing)});const i=p=>p===0?0:e[p],n=p=>p===e.length-1?0:e[p],s=t.reduce((p,g,m)=>p+g.height+i(m)+n(m),0),r=Math.max(...t.map(p=>p.width)),l=this.getInnerRadius(),h=Math.sqrt(Math.pow(r/2,2)+Math.pow(s/2,2))<=(l>0?l:this.getOuterRadius()),d=[];for(let p=0,g=-s/2;p<t.length;p++){const b=t[p].height+g+i(p);d.push(b),g=b+n(p)}this.innerLabelsSelection.each((p,g,m)=>{p.y=d[m],p.visible=h})}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2,this.zerosumInnerRing.size=this.getInnerRadius()*2}pickNodeClosestDatum(t){return Dx(this,t)}getTooltipContent(t){var j;const{id:e,dataModel:i,processedData:n,properties:s}=this,{legendItemKey:r,calloutLabelKey:l,calloutLabelName:c,sectorLabelKey:h,sectorLabelName:d,angleKey:p,angleName:g,radiusKey:m,radiusName:b,tooltip:v}=s,S=this.properties.title.text;if(!i||!n)return;const{datumIndex:A}=t,D=(j=n.dataSources.get(this.id))==null?void 0:j[A],{angleRawValues:L,legendItemValues:C,calloutLabelValues:N,sectorLabelValues:k}=this.getProcessedDataValues(i,n),O=L[A],_=(C==null?void 0:C[A])??(l===p||N==null?void 0:N[A])??(h===p||k==null?void 0:k[A])??g;return v.formatTooltip({title:S,symbol:this.legendItemSymbol(A),data:[{label:_,fallbackLabel:p,value:ya(O,3)}]},{seriesId:e,datum:D,title:g,legendItemKey:r,calloutLabelKey:l,calloutLabelName:c,sectorLabelKey:h,sectorLabelName:d,angleKey:p,angleName:g,radiusKey:m,radiusName:b,...this.getSectorFormat(D,A,!1)})}legendItemSymbol(t){var n,s;const e=(s=(n=this.processedData)==null?void 0:n.dataSources.get(this.id))==null?void 0:s[t],i=this.getSectorFormat(e,t,!1);return{marker:{fill:i.fill,stroke:i.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}}}getLegendData(t){var N,k,O,_,j,z;const{visible:e,processedData:i,dataModel:n,id:s,ctx:{legendManager:r}}=this;if(!n||!i||!this.properties.isValid()||t!=="category")return[];const{angleKey:l,calloutLabelKey:c,sectorLabelKey:h,legendItemKey:d,showInLegend:p}=this.properties;if(!d&&(!c||c===l)&&(!h||h===l))return[];const{angleRawValues:g,calloutLabelValues:m,sectorLabelValues:b,legendItemValues:v}=this.getProcessedDataValues(n,i),S=((N=this.properties.title)==null?void 0:N.showInLegend)&&this.properties.title.text,A=[],D=this.properties.hideZeroValueSectorsInLegend,L=i.dataSources.get(this.id),C=(k=i.invalidData)==null?void 0:k.get(this.id);for(let B=0;B<i.input.count;B++){const q=L==null?void 0:L[B],at=g[B];if((C==null?void 0:C[B])===!0||D&&at===0)continue;const nt=[];S&&nt.push(S);const xt=this.getLabels(q,2*Math.PI,2*Math.PI,!1,m==null?void 0:m[B],b==null?void 0:b[B],v==null?void 0:v[B]);d&&xt.legendItem!==void 0?nt.push(xt.legendItem.text):c&&c!==l&&((O=xt.calloutLabel)==null?void 0:O.text)!==void 0?nt.push((_=xt.calloutLabel)==null?void 0:_.text):h&&h!==l&&((j=xt.sectorLabel)==null?void 0:j.text)!==void 0&&nt.push((z=xt.sectorLabel)==null?void 0:z.text),nt.length!==0&&A.push({legendType:"category",id:s,datum:q,itemId:B,seriesId:s,enabled:e&&r.getItemEnabled({seriesId:s,itemId:B}),label:{text:nt.join(" - ")},symbol:this.legendItemSymbol(B),legendItemName:d!=null?q[d]:void 0,hideInLegend:!p})}return A}setLegendState(t){const{id:e,ctx:{legendManager:i,updateService:n}}=this;t.forEach((s,r)=>i.toggleItem({enabled:s,seriesId:e,itemId:r})),i.update(),n.update(4)}animateEmptyUpdateReady(t){const{animationManager:e}=this.ctx,i=xo(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);Ce(this.id,"nodes",e,[this.itemSelection,this.highlightSelection,this.phantomSelection],i.nodes,(n,s)=>this.getDatumId(s.datum,s.datumIndex)),Ce(this.id,"innerCircle",e,[this.innerCircleSelection],i.innerCircle),Xt(this,"callout",e,this.calloutLabelSelection),Xt(this,"sector",e,this.labelSelection),Xt(this,"highlight",e,this.highlightLabelSelection),Xt(this,"inner",e,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var b,v,S,A;const{itemSelection:t,highlightSelection:e,phantomSelection:i,processedData:n,radiusScale:s,previousRadiusScale:r}=this,{animationManager:l}=this.ctx,c=(v=(b=n==null?void 0:n.reduced)==null?void 0:b.diff)==null?void 0:v[this.id];this.ctx.animationManager.stopByAnimationGroupId(this.id);const h=((c==null?void 0:c.moved.size)??0)===0,d=((n==null?void 0:n.defs.keys.length)??0)>0,p=((A=(S=n==null?void 0:n.reduced)==null?void 0:S.animationValidation)==null?void 0:A.uniqueKeys)??!0;(!h||!d||!p)&&this.ctx.animationManager.skipCurrentBatch();const g=!this.nodeData.some(D=>D.enabled),m=xo(!1,this.properties.rotation,s,r);Ce(this.id,"nodes",l,[t,e,i],m.nodes,(D,L)=>this.getDatumId(L.datum,L.datumIndex),c),Ce(this.id,"innerCircle",l,[this.innerCircleSelection],m.innerCircle),Xt(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Xt(this,"sector",this.ctx.animationManager,this.labelSelection),Xt(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.noVisibleData!==g&&(this.noVisibleData=g,Xt(this,"inner",this.ctx.animationManager,this.innerLabelsSelection)),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:t,highlightSelection:e,phantomSelection:i,radiusScale:n,previousRadiusScale:s}=this,{animationManager:r}=this.ctx,l=xo(!1,this.properties.rotation,n,s);Ce(this.id,"nodes",r,[t,e,i],l.nodes,(c,h)=>this.getDatumId(h.datum,h.datumIndex)),Ce(this.id,"innerCircle",r,[this.innerCircleSelection],l.innerCircle),hr(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),hr(this,"sector",this.ctx.animationManager,this.labelSelection),hr(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),hr(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumId(t,e){var r,l,c;const{calloutLabelKey:i,sectorLabelKey:n,legendItemKey:s}=this.properties;return(c=(l=(r=this.processedData)==null?void 0:r.reduced)==null?void 0:l.animationValidation)!=null&&c.uniqueKeys?s?Ye(t[s]):i?Ye(t[i]):n?Ye(t[n]):`${e}`:`${e}`}};Ax.className="DonutSeries";Ax.type="donut";var H4={series:{title:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.1666666666666667]},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},spacing:5},calloutLabel:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},offset:3,minAngle:.001},sectorLabel:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"backgroundColor"},positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:Nr,xOffset:3,yOffset:3,blur:5},innerLabels:{fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},spacing:2}},legend:{enabled:!0}},W4={series:{title:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.1666666666666667]},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},spacing:5},calloutLabel:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},offset:3,minAngle:.001},sectorLabel:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"backgroundColor"},positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:Nr,xOffset:3,yOffset:3,blur:5}},legend:{enabled:!0}},C1=({takeColors:t,colorsCount:e})=>{const{fills:i,strokes:n}=t(e);return{fills:i,strokes:n,calloutLine:{colors:n}}},K4={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"donut",moduleFactory:t=>new Ax(t),tooltipDefaults:{range:"exact"},themeTemplate:H4,paletteFactory:C1},E1=class extends le{constructor(){super(...arguments),this.showInLegend=!1}};M([T(At)],E1.prototype,"showInLegend",2);var oc=class extends ri{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};M([T(ft)],oc.prototype,"offset",2);M([T(Ut.restrict({min:0,max:360}))],oc.prototype,"minAngle",2);M([T(ft)],oc.prototype,"minSpacing",2);M([T(ft)],oc.prototype,"maxCollisionOffset",2);M([T(At)],oc.prototype,"avoidCollisions",2);var Lx=class extends ri{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};M([T(Ut)],Lx.prototype,"positionOffset",2);M([T(ee)],Lx.prototype,"positionRatio",2);var Xp=class extends Ct{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};M([T(Sn,{optional:!0})],Xp.prototype,"colors",2);M([T(ft)],Xp.prototype,"length",2);M([T(ft)],Xp.prototype,"strokeWidth",2);var qt=class extends Ln{constructor(){super(...arguments),this.fills=Object.values(Fe),this.strokes=Object.values(Ts),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.hideZeroValueSectorsInLegend=!1,this.title=new E1,this.shadow=new bs,this.calloutLabel=new oc,this.sectorLabel=new Lx,this.calloutLine=new Xp,this.tooltip=new _i}};M([T(rt)],qt.prototype,"angleKey",2);M([T(rt,{optional:!0})],qt.prototype,"angleName",2);M([T(rt,{optional:!0})],qt.prototype,"angleFilterKey",2);M([T(rt,{optional:!0})],qt.prototype,"radiusKey",2);M([T(rt,{optional:!0})],qt.prototype,"radiusName",2);M([T(ft,{optional:!0})],qt.prototype,"radiusMin",2);M([T(ft,{optional:!0})],qt.prototype,"radiusMax",2);M([T(rt,{optional:!0})],qt.prototype,"calloutLabelKey",2);M([T(rt,{optional:!0})],qt.prototype,"calloutLabelName",2);M([T(rt,{optional:!0})],qt.prototype,"sectorLabelKey",2);M([T(rt,{optional:!0})],qt.prototype,"sectorLabelName",2);M([T(rt,{optional:!0})],qt.prototype,"legendItemKey",2);M([T(Sn)],qt.prototype,"fills",2);M([T(Sn)],qt.prototype,"strokes",2);M([T(ee)],qt.prototype,"fillOpacity",2);M([T(ee)],qt.prototype,"strokeOpacity",2);M([T(_s)],qt.prototype,"lineDash",2);M([T(ft)],qt.prototype,"lineDashOffset",2);M([T(ft)],qt.prototype,"cornerRadius",2);M([T($i,{optional:!0})],qt.prototype,"itemStyler",2);M([T(Ut)],qt.prototype,"rotation",2);M([T(Ut)],qt.prototype,"outerRadiusOffset",2);M([T(ee)],qt.prototype,"outerRadiusRatio",2);M([T(ft)],qt.prototype,"strokeWidth",2);M([T(Ut)],qt.prototype,"sectorSpacing",2);M([T(At)],qt.prototype,"hideZeroValueSectorsInLegend",2);M([T(mt)],qt.prototype,"title",2);M([T(mt)],qt.prototype,"shadow",2);M([T(mt)],qt.prototype,"calloutLabel",2);M([T(mt)],qt.prototype,"sectorLabel",2);M([T(mt)],qt.prototype,"calloutLine",2);M([T(mt)],qt.prototype,"tooltip",2);var Z4=class extends gh{constructor(t,e,i,n){super(t,e,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},Tx=class extends Zp{constructor(t){super({moduleCtx:t,pickModes:[1,0],useLabelLayer:!0,animationResetFns:{item:Sx,label:ka}}),this.properties=new qt,this.phantomNodeData=void 0,this.backgroundGroup=new Xi({name:`${this.id}-background`,zIndex:0}),this.previousRadiusScale=new fs,this.radiusScale=new fs,this.phantomGroup=this.backgroundGroup.appendChild(new Tt({name:"phantom"})),this.phantomSelection=Ge.select(this.phantomGroup,()=>this.nodeFactory(),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new Tt({name:"pieCalloutLabels"})),this.calloutLabelSelection=new Ge(this.calloutLabelGroup,Tt),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new Tt({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new ai({shape:"circle"})),this.surroundingRadius=void 0,this.NodeEvent=Z4,this.angleScale=new fs,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(e=>e+Math.PI/2),this.phantomGroup.opacity=.2}get calloutNodeData(){return this.phantomNodeData??this.nodeData}attachSeries(t,e,i){super.attachSeries(t,e,i),t.appendChild(this.backgroundGroup)}detachSeries(t,e,i){super.detachSeries(t,e,i),t==null||t.removeChild(this.backgroundGroup)}setSeriesIndex(t){return super.setSeriesIndex(t)?(this.backgroundGroup.zIndex=[0,t],!0):!1}nodeFactory(){const t=new yi;return t.miterLimit=1e9,t}getSeriesDomain(t){return t==="x"?this.angleScale.domain:this.radiusScale.domain}async processData(t){var A,D,L,C,N;if(this.data==null||!this.properties.isValid())return;const{visible:e,id:i,ctx:{legendManager:n}}=this,{angleKey:s,angleFilterKey:r,radiusKey:l,calloutLabelKey:c,sectorLabelKey:h,legendItemKey:d}=this.properties,p=(k,O,_)=>e&&n.getItemEnabled({seriesId:i,itemId:_}),g=!this.ctx.animationManager.isSkipped(),m=[],b=[];d?m.push(ps(d,"band",{id:"legendItemKey"})):c?m.push(ps(c,"band",{id:"calloutLabelKey"})):h&&m.push(ps(h,"band",{id:"sectorLabelKey"}));const v=this.radiusScale.type,S=this.angleScale.type;l&&b.push(Bb(l,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax}),jt(l,v,{id:"radiusRaw"}),bo("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),c&&b.push(jt(c,"band",{id:"calloutLabelValue"})),h&&b.push(jt(h,"band",{id:"sectorLabelValue"})),d&&b.push(jt(d,"band",{id:"legendItemValue"})),r&&b.push(Yu(r,S,{id:"angleFilterValue",onlyPositive:!0,validation:p,invalidValue:0}),jt(r,S,{id:"angleFilterRaw"}),bo("angleFilterValue",[0,1],0,0)),g&&((L=(D=(A=this.processedData)==null?void 0:A.reduced)==null?void 0:D.animationValidation)!=null&&L.uniqueKeys)&&m.length>0&&b.push(Jl(this.id,this.processedData)),b.push(Ql()),await this.requestDataModel(t,this.data,{props:[...m,Yu(s,S,{id:"angleValue",onlyPositive:!0,validation:p,invalidValue:0}),jt(s,S,{id:"angleRaw"}),bo("angleValue",[0,1],0,0),...b]});for(const k of((N=(C=this.processedData)==null?void 0:C.defs)==null?void 0:N.values)??[]){const{id:O,missing:_,property:j}=k,z=Tb(this,_);O!=="angleRaw"&&z>0&&ot.warnOnce(`no value was found for the key '${String(j)}' on ${z} data element${z>1?"s":""}`)}this.animationState.transition("updateData")}maybeRefreshNodeData(){if(!this.nodeDataRefresh)return;const{nodeData:t=[],phantomNodeData:e}=this.createNodeData()??{};this.nodeData=t,this.phantomNodeData=e,this.nodeDataRefresh=!1}getProcessedDataValues(t,e){const i=t.resolveColumnById(this,"angleValue",e),n=t.resolveColumnById(this,"angleRaw",e),s=this.properties.angleFilterKey!=null?t.resolveColumnById(this,"angleFilterValue",e):void 0,r=this.properties.angleFilterKey!=null?t.resolveColumnById(this,"angleFilterRaw",e):void 0,l=this.properties.radiusKey?t.resolveColumnById(this,"radiusValue",e):void 0,c=this.properties.radiusKey?t.resolveColumnById(this,"radiusRaw",e):void 0,h=this.properties.calloutLabelKey?t.resolveColumnById(this,"calloutLabelValue",e):void 0,d=this.properties.sectorLabelKey?t.resolveColumnById(this,"sectorLabelValue",e):void 0,p=this.properties.legendItemKey?t.resolveColumnById(this,"legendItemValue",e):void 0;return{angleValues:i,angleRawValues:n,angleFilterValues:s,angleFilterRawValues:r,radiusValues:l,radiusRawValues:c,calloutLabelValues:h,sectorLabelValues:d,legendItemValues:p}}createNodeData(){var _;const{id:t,processedData:e,dataModel:i,angleScale:n,ctx:{legendManager:s},visible:r}=this,{rotation:l}=this.properties;if(!i||(e==null?void 0:e.type)!=="ungrouped")return;const{angleValues:c,angleRawValues:h,angleFilterValues:d,angleFilterRawValues:p,radiusValues:g,radiusRawValues:m,calloutLabelValues:b,sectorLabelValues:v,legendItemValues:S}=this.getProcessedDataValues(i,e),A=(p==null?void 0:p.some((j,z)=>j>h[z]))??!1;let D=0,L=0;const C=[],N=p!=null?[]:void 0,k=e.dataSources.get(this.id)??[],O=(_=e.invalidData)==null?void 0:_.get(this.id);return k.forEach((j,z)=>{if((O==null?void 0:O[z])===!0)return;const B=A?d[z]:c[z],q=p!=null&&!A?Math.sqrt(p[z]/h[z]):1,at=n.convert(D)+qe(l);D=B,L+=B;const nt=n.convert(D)+qe(l),xt=Math.abs(nt-at),St=at+xt/2,W=h[z],it=((g==null?void 0:g[z])??1)*q,ut=m==null?void 0:m[z],w=S==null?void 0:S[z],U=this.getLabels(j,St,xt,!0,b==null?void 0:b[z],v==null?void 0:v[z],w),Q=this.getSectorFormat(j,z,!1),$={itemId:z,series:this,datum:j,datumIndex:z,angleValue:W,midAngle:St,midCos:Math.cos(St),midSin:Math.sin(St),startAngle:at,endAngle:nt,radius:it,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(it),0),sectorFormat:Q,radiusValue:ut,legendItemValue:w,enabled:r&&s.getItemEnabled({seriesId:t,itemId:z}),...U};C.push($),N!=null&&N.push({...$,radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0)})}),this.zerosumOuterRing.visible=L===0,{itemId:t,nodeData:C,labelData:C,phantomNodeData:N}}getLabels(t,e,i,n,s,r,l){const{calloutLabel:c,sectorLabel:h,legendItemKey:d}=this.properties,p=!n||c.enabled?this.properties.calloutLabelKey:void 0,g=!n||h.enabled?this.properties.sectorLabelKey:void 0;if(!p&&!g&&!d)return{};const m={datum:t,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},b={};return p&&i>=qe(c.minAngle)&&(b.calloutLabel={...this.getTextAlignment(e),text:this.getLabelText(c,{...m,value:s}),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}),g&&(b.sectorLabel={text:this.getLabelText(h,{...m,value:r})}),d!=null&&l!=null&&(b.legendItem={key:d,text:l}),b}getTextAlignment(t){const e=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],i=Pu(t),n=-.75*Math.PI,s=i-n,r=Math.floor(s/(Math.PI/2)),l=_0(r,e.length);return e[l]}getSectorFormat(t,e,i){const{angleKey:n,radiusKey:s,calloutLabelKey:r,sectorLabelKey:l,legendItemKey:c,fills:h,strokes:d,itemStyler:p}=this.properties,g=d[e%d.length],{fill:m,fillOpacity:b,stroke:v,strokeWidth:S,strokeOpacity:A,lineDash:D,lineDashOffset:L,cornerRadius:C}=Rt(i&&this.properties.highlightStyle.item,{fill:h.length>0?h[e%h.length]:void 0,stroke:g,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties);let N;return p&&(N=this.cachedDatumCallback(this.getDatumId(t,e)+(i?"-highlight":"-hide"),()=>p({datum:t,angleKey:n,radiusKey:s,calloutLabelKey:r,sectorLabelKey:l,legendItemKey:c,fill:m,strokeOpacity:A,stroke:v,strokeWidth:S,fillOpacity:b,lineDash:D,lineDashOffset:L,cornerRadius:C,highlighted:i,seriesId:this.id}))),{fill:(N==null?void 0:N.fill)??m,fillOpacity:(N==null?void 0:N.fillOpacity)??b,stroke:(N==null?void 0:N.stroke)??v,strokeWidth:(N==null?void 0:N.strokeWidth)??S,strokeOpacity:(N==null?void 0:N.strokeOpacity)??A,lineDash:(N==null?void 0:N.lineDash)??D,lineDashOffset:(N==null?void 0:N.lineDashOffset)??L,cornerRadius:(N==null?void 0:N.cornerRadius)??C}}getOuterRadius(){return Math.max(this.radius*this.properties.outerRadiusRatio+this.properties.outerRadiusOffset,0)}updateRadiusScale(t){var n;const e=[0,this.getOuterRadius()];this.radiusScale.range=e,t&&(this.previousRadiusScale.range=e);const i=s=>({...s,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(s.radius),0)});this.nodeData=this.nodeData.map(i),this.phantomNodeData=(n=this.phantomNodeData)==null?void 0:n.map(i)}getTitleTranslationY(){var s;const t=Math.max(0,this.radiusScale.range[1]);if(t===0)return NaN;const i=2+(((s=this.properties.title)==null?void 0:s.spacing)??0),n=Math.max(0,-t);return-t-i-n}update({seriesRect:t}){const{title:e}=this.properties,i={seriesRectWidth:t==null?void 0:t.width,seriesRectHeight:t==null?void 0:t.height},n=ba(this.nodeDataDependencies,i)!=null;if(n&&(this._nodeDataDependencies=i),this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(n),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),e){const s=this.getTitleTranslationY();e.node.y=isFinite(s)?s:0;const r=e.node.getBBox();e.node.visible=e.enabled&&isFinite(s)&&!this.bboxIntersectsSurroundingSeries(r)}this.zerosumOuterRing.fillOpacity=0,this.zerosumOuterRing.stroke=this.properties.calloutLabel.color,this.zerosumOuterRing.strokeWidth=1,this.zerosumOuterRing.strokeOpacity=1,this.updateNodeMidPoint(),this.updateSelections(),this.updateNodes(t)}updateTitleNodes(){var i,n;const{oldTitle:t}=this,{title:e}=this.properties;t!==e&&(t&&((i=this.labelGroup)==null||i.removeChild(t.node)),e&&(e.node.textBaseline="bottom",(n=this.labelGroup)==null||n.appendChild(e.node)),this.oldTitle=e)}updateNodeMidPoint(){var e;const t=i=>{const n=i.innerRadius+(i.outerRadius-i.innerRadius)/2;i.midPoint={x:i.midCos*Math.max(0,n),y:i.midSin*Math.max(0,n)}};this.nodeData.forEach(t),(e=this.phantomNodeData)==null||e.forEach(t)}updateSelections(){const{itemSelection:t,highlightSelection:e,phantomSelection:i,highlightLabelSelection:n,calloutLabelSelection:s,labelSelection:r}=this,l=this.nodeData.map(h=>({...h,sectorFormat:{...h.sectorFormat}})),c=(h,d)=>{h.update(d,void 0,p=>this.getDatumId(p.datum,p.datumIndex)),this.ctx.animationManager.isSkipped()&&h.cleanup()};c(t,this.nodeData),c(e,l),c(i,this.phantomNodeData??[]),s.update(this.calloutNodeData,h=>{const d=new An;d.tag=0,d.pointerEvents=1,h.appendChild(d);const p=new si;p.tag=1,p.pointerEvents=1,h.appendChild(p)}),r.update(this.nodeData),n.update(l)}updateNodes(t){const e=this.ctx.highlightManager.getActiveHighlight(),{visible:i}=this;this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&(e==null?void 0:e.series)===this,this.highlightLabel.visible=i&&(e==null?void 0:e.series)===this,this.labelGroup&&(this.labelGroup.visible=i),this.contentGroup.opacity=this.getOpacity();const n=this.ctx.animationManager.isSkipped(),s=(r,l,c,h)=>{const d=this.getSectorFormat(l.datum,l.itemId,h);l.sectorFormat.fill=d.fill,l.sectorFormat.stroke=d.stroke,n&&(r.startAngle=l.startAngle,r.endAngle=l.endAngle,r.innerRadius=l.innerRadius,r.outerRadius=l.outerRadius),(h||n)&&(r.fill=d.fill,r.stroke=d.stroke),r.strokeWidth=d.strokeWidth,r.fillOpacity=d.fillOpacity,r.strokeOpacity=d.strokeOpacity,r.lineDash=d.lineDash,r.lineDashOffset=d.lineDashOffset,r.cornerRadius=d.cornerRadius,r.fillShadow=this.properties.shadow;const p=Math.max((this.properties.sectorSpacing+(d.stroke!=null?d.strokeWidth:0))/2,0);r.inset=p,r.lineJoin=this.properties.sectorSpacing>=0||p>0?"miter":"round"};this.itemSelection.each((r,l,c)=>s(r,l,c,!1)),this.highlightSelection.each((r,l,c)=>{s(r,l,c,!0),r.visible=l.itemId===(e==null?void 0:e.itemId)}),this.phantomSelection.each((r,l,c)=>s(r,l,c,!1)),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(t),this.updateSectorLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){const{calloutLine:t}=this.properties,e=t.length,i=t.strokeWidth,n=t.colors??this.properties.strokes,{offset:s}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach((r,l)=>{const c=r.datum,{calloutLabel:h,outerRadius:d}=c;if(h!=null&&h.text&&!h.hidden&&d!==0){r.visible=!0,r.strokeWidth=i,r.stroke=n[l%n.length],r.fill=void 0;const p=c.midCos*d,g=c.midSin*d;let m=c.midCos*(d+e),b=c.midSin*(d+e);if((h.collisionTextAlign??h.collisionOffsetY!==0)&&h.box!=null){const S=h.box;let A=m,D=b;m<S.x?A=S.x:m>S.x+S.width&&(A=S.x+S.width),b<S.y?D=S.y:b>S.y+S.height&&(D=S.y+S.height);const L=A-m,C=D-b,N=Math.sqrt(Math.pow(L,2)+Math.pow(C,2)),k=N-s;k>0&&(m=m+L*k/N,b=b+C*k/N)}r.x1=p,r.y1=g,r.x2=m,r.y2=b}else r.visible=!1})}getLabelOverflow(t,e,i){const n=-this.centerX,s=n+i.width,r=-this.centerY,l=r+i.height,c=1;let h=1;e.x+c<n?h=(e.x+e.width-n)/e.width:e.x+e.width-c>s&&(h=(s-e.x)/e.width);const d=e.y+c<r||e.y+e.height-c>l,p=h===1?t.length:Math.floor(t.length*h)-1,g=this.bboxIntersectsSurroundingSeries(e);return{textLength:p,hasVerticalOverflow:d,hasSurroundingSeriesOverflow:g}}bboxIntersectsSurroundingSeries(t){const{surroundingRadius:e}=this;if(e==null)return!1;const i=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],n=e**2;return i.some(s=>s.x**2+s.y**2>n)}computeCalloutLabelCollisionOffsets(){const{radiusScale:t}=this,{calloutLabel:e,calloutLine:i}=this.properties,{offset:n,minSpacing:s}=e,r=t.convert(0),l=D=>!D.calloutLabel||D.outerRadius===0,c=this.calloutNodeData,h=c.filter(D=>!l(D));if(h.forEach(D=>{const L=D.calloutLabel;L!=null&&(L.hidden=!1,L.collisionTextAlign=void 0,L.collisionOffsetY=0)}),h.length<=1)return;const d=h.filter(D=>D.midCos<0).sort((D,L)=>D.midSin-L.midSin),p=h.filter(D=>D.midCos>=0).sort((D,L)=>D.midSin-L.midSin),g=h.filter(D=>{var L;return D.midSin<0&&((L=D.calloutLabel)==null?void 0:L.textAlign)==="center"}).sort((D,L)=>D.midCos-L.midCos),m=h.filter(D=>{var L;return D.midSin>=0&&((L=D.calloutLabel)==null?void 0:L.textAlign)==="center"}).sort((D,L)=>D.midCos-L.midCos),b=D=>{const L=D.calloutLabel;if(L==null)return bt.zero.clone();const C=D.outerRadius+i.length+n,N=D.midCos*C,k=D.midSin*C+L.collisionOffsetY,O=L.collisionTextAlign??L.textAlign,_=L.textBaseline;return si.computeBBox(L.text,N,k,{font:this.properties.calloutLabel,textAlign:O,textBaseline:_})},v=(D,L,C)=>{const N=b(D).grow(s/2),k=b(L).grow(s/2);N.x<k.x+k.width&&N.x+N.width>k.x&&(C==="to-top"?N.y<k.y+k.height:N.y+N.height>k.y)&&(L.calloutLabel.collisionOffsetY=C==="to-top"?N.y-k.y-k.height:N.y+N.height-k.y)},S=D=>{const L=D.slice().sort((N,k)=>Math.abs(N.midSin)-Math.abs(k.midSin))[0],C=D.indexOf(L);for(let N=C-1;N>=0;N--){const k=D[N+1],O=D[N];v(k,O,"to-top")}for(let N=C+1;N<D.length;N++){const k=D[N-1],O=D[N];v(k,O,"to-bottom")}},A=D=>{const L=h.some(j=>j.calloutLabel.collisionOffsetY!==0),C=D.map(j=>b(j)),N=C.map(j=>j.clone().grow(s/2));let k=!1;for(let j=0;j<N.length&&!k;j++){const z=N[j];for(let B=j+1;B<D.length;B++){const q=N[B];if(z.collidesBBox(q)){k=!0;break}}}const O=c.map(j=>{const{startAngle:z,endAngle:B,outerRadius:q}=j;return{startAngle:z,endAngle:B,innerRadius:r,outerRadius:q}}),_=C.some(j=>O.some(z=>T1(j,z)));!k&&!L&&!_||D.filter(j=>j.calloutLabel.textAlign==="center").forEach(j=>{const z=j.calloutLabel;j.midCos<0?z.collisionTextAlign="right":j.midCos>0?z.collisionTextAlign="left":z.collisionTextAlign="center"})};S(d),S(p),A(g),A(m)}updateCalloutLabelNodes(t){const{radiusScale:e}=this,{calloutLabel:i,calloutLine:n}=this.properties,s=n.length,{offset:r,color:l}=i,c=new si;this.calloutLabelSelection.selectByTag(1).forEach(h=>{const{datum:d}=h,p=d.calloutLabel,g=e.convert(d.radius),m=Math.max(0,g);if(!(p!=null&&p.text)||m===0||p.hidden){h.visible=!1;return}const b=m+s+r,v=d.midCos*b,S=d.midSin*b+p.collisionOffsetY,A={textAlign:p.collisionTextAlign??p.textAlign,textBaseline:p.textBaseline};c.text=p.text,c.x=v,c.y=S,c.setFont(this.properties.calloutLabel),c.setAlign(A);const D=c.getBBox();let L=p.text,C=!0;if(i.avoidCollisions){const{textLength:N,hasVerticalOverflow:k}=this.getLabelOverflow(p.text,D,t);L=p.text.length===N?p.text:`${p.text.substring(0,N)}`,C=!k}h.text=L,h.x=v,h.y=S,h.setFont(this.properties.calloutLabel),h.setAlign(A),h.fill=l,h.visible=C})}computeLabelsBBox(t,e){const{calloutLabel:i,calloutLine:n}=this.properties,s=n.length,{offset:r,maxCollisionOffset:l,minSpacing:c}=i;if(!i.avoidCollisions)return null;this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const h=[],d=new si;let p;const{title:g}=this.properties;if(g!=null&&g.text&&g.enabled){const m=this.getTitleTranslationY();isFinite(m)&&(d.text=g.text,d.x=0,d.y=m,d.setFont(g),d.setAlign({textBaseline:"bottom",textAlign:"center"}),p=d.getBBox(),h.push(p))}return this.calloutNodeData.forEach(m=>{const b=m.calloutLabel;if(!b||m.outerRadius===0)return null;const v=m.outerRadius+s+r,S=m.midCos*v,A=m.midSin*v+b.collisionOffsetY;d.text=b.text,d.x=S,d.y=A,d.setFont(this.properties.calloutLabel),d.setAlign({textAlign:b.collisionTextAlign??b.textAlign,textBaseline:b.textBaseline});const D=d.getBBox();if(b.box=D,Math.abs(b.collisionOffsetY)>l){b.hidden=!0;return}if(p){const L=-this.centerY,C=new bt(p.x-c,L,p.width+2*c,p.y+p.height+c-L);if(D.collidesBBox(C)){b.hidden=!0;return}}if(t.hideWhenNecessary){const{textLength:L,hasVerticalOverflow:C,hasSurroundingSeriesOverflow:N}=this.getLabelOverflow(b.text,D,e),k=b.text.length>2&&L<2;if(C||k||N){b.hidden=!0;return}}b.hidden=!1,h.push(D)}),h.length===0?null:bt.merge(h)}updateSectorLabelNodes(){var m;const{radiusScale:t}=this,e=t.convert(0),{fontSize:i,fontStyle:n,fontWeight:s,fontFamily:r,positionOffset:l,positionRatio:c,color:h}=this.properties.sectorLabel,d=e>0,p=((m=this.ctx.legendManager.getData(this.id))==null?void 0:m.filter(b=>b.enabled).length)===1,g=(b,v)=>{const{sectorLabel:S,outerRadius:A,startAngle:D,endAngle:L}=v;let C=!1;if(S&&A!==0){const N=e*(1-c)+A*c+l;b.fill=h,b.fontStyle=n,b.fontWeight=s,b.fontSize=i,b.fontFamily=r,b.text=S.text,!d&&p?(b.x=0,b.y=0):(b.x=v.midCos*N,b.y=v.midSin*N),b.textAlign="center",b.textBaseline="middle";const O=b.getBBox(),_=[[O.x,O.y],[O.x+O.width,O.y],[O.x+O.width,O.y+O.height],[O.x,O.y+O.height]],j={startAngle:D,endAngle:L,innerRadius:e,outerRadius:A};_.every(([z,B])=>Wf(z,B,j))&&(C=!0)}b.visible=C};this.labelSelection.each(g),this.highlightLabelSelection.each(g)}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2}pickNodeClosestDatum(t){return Dx(this,t)}getTooltipContent(t){var j;const{id:e,dataModel:i,processedData:n,properties:s}=this,{legendItemKey:r,calloutLabelKey:l,calloutLabelName:c,sectorLabelKey:h,sectorLabelName:d,angleKey:p,angleName:g,radiusKey:m,radiusName:b,tooltip:v}=s,S=this.properties.title.text;if(!i||!n)return;const{datumIndex:A}=t,D=(j=n.dataSources.get(this.id))==null?void 0:j[A],{angleRawValues:L,legendItemValues:C,calloutLabelValues:N,sectorLabelValues:k}=this.getProcessedDataValues(i,n),O=L[A],_=(C==null?void 0:C[A])??(l===p||N==null?void 0:N[A])??(h===p||k==null?void 0:k[A])??g;return v.formatTooltip({title:S,symbol:this.legendItemSymbol(A),data:[{label:_,fallbackLabel:p,value:ya(O,3)}]},{seriesId:e,datum:D,title:g,legendItemKey:r,calloutLabelKey:l,calloutLabelName:c,sectorLabelKey:h,sectorLabelName:d,angleKey:p,angleName:g,radiusKey:m,radiusName:b,...this.getSectorFormat(D,A,!1)})}legendItemSymbol(t){var n,s;const e=(s=(n=this.processedData)==null?void 0:n.dataSources.get(this.id))==null?void 0:s[t],i=this.getSectorFormat(e,t,!1);return{marker:{fill:i.fill,stroke:i.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}}}getLegendData(t){var N,k,O,_,j,z;const{id:e,visible:i,processedData:n,dataModel:s,ctx:{legendManager:r}}=this;if(!s||!n||t!=="category")return[];const{angleKey:l,calloutLabelKey:c,sectorLabelKey:h,legendItemKey:d,showInLegend:p}=this.properties;if(!d&&(!c||c===l)&&(!h||h===l))return[];const{calloutLabelValues:g,sectorLabelValues:m,legendItemValues:b,angleRawValues:v}=this.getProcessedDataValues(s,n),S=((N=this.properties.title)==null?void 0:N.showInLegend)&&this.properties.title.text,A=[],D=this.properties.hideZeroValueSectorsInLegend,L=n.dataSources.get(this.id),C=(k=n.invalidData)==null?void 0:k.get(this.id);for(let B=0;B<n.input.count;B++){const q=L==null?void 0:L[B],at=v[B];if((C==null?void 0:C[B])===!0||D&&at===0)continue;const nt=[];S&&nt.push(S);const xt=this.getLabels(q,2*Math.PI,2*Math.PI,!1,g==null?void 0:g[B],m==null?void 0:m[B],b==null?void 0:b[B]);d&&xt.legendItem!==void 0?nt.push(xt.legendItem.text):c&&c!==l&&((O=xt.calloutLabel)==null?void 0:O.text)!==void 0?nt.push((_=xt.calloutLabel)==null?void 0:_.text):h&&h!==l&&((j=xt.sectorLabel)==null?void 0:j.text)!==void 0&&nt.push((z=xt.sectorLabel)==null?void 0:z.text),nt.length!==0&&A.push({legendType:"category",id:e,datum:q,itemId:B,seriesId:e,enabled:i&&r.getItemEnabled({seriesId:e,itemId:B}),label:{text:nt.join(" - ")},symbol:this.legendItemSymbol(B),legendItemName:d!=null?q[d]:void 0,hideInLegend:!p})}return A}setLegendState(t){const{id:e,ctx:{legendManager:i,updateService:n}}=this;t.forEach((s,r)=>i.toggleItem({enabled:s,seriesId:e,itemId:r})),i.update(),n.update(4)}animateEmptyUpdateReady(t){const{animationManager:e}=this.ctx,i=xo(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);Ce(this.id,"nodes",e,[this.itemSelection,this.highlightSelection,this.phantomSelection],i.nodes,(n,s)=>this.getDatumId(s.datum,s.datumIndex)),Xt(this,"callout",e,this.calloutLabelSelection),Xt(this,"sector",e,this.labelSelection),Xt(this,"highlight",e,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var m,b,v,S;const{itemSelection:t,highlightSelection:e,phantomSelection:i,processedData:n,radiusScale:s,previousRadiusScale:r}=this,{animationManager:l}=this.ctx,c=(b=(m=n==null?void 0:n.reduced)==null?void 0:m.diff)==null?void 0:b[this.id];this.ctx.animationManager.stopByAnimationGroupId(this.id);const h=((c==null?void 0:c.moved.size)??0)===0,d=((n==null?void 0:n.defs.keys.length)??0)>0,p=((S=(v=n==null?void 0:n.reduced)==null?void 0:v.animationValidation)==null?void 0:S.uniqueKeys)??!0;(!h||!d||!p)&&this.ctx.animationManager.skipCurrentBatch();const g=xo(!1,this.properties.rotation,s,r);Ce(this.id,"nodes",l,[t,e,i],g.nodes,(A,D)=>this.getDatumId(D.datum,D.datumIndex),c),Xt(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Xt(this,"sector",this.ctx.animationManager,this.labelSelection),Xt(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:t,highlightSelection:e,phantomSelection:i,radiusScale:n,previousRadiusScale:s}=this,{animationManager:r}=this.ctx,l=xo(!1,this.properties.rotation,n,s);Ce(this.id,"nodes",r,[t,e,i],l.nodes,(c,h)=>this.getDatumId(h.datum,h.datumIndex)),hr(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),hr(this,"sector",this.ctx.animationManager,this.labelSelection),hr(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumId(t,e){var r,l,c;const{calloutLabelKey:i,sectorLabelKey:n,legendItemKey:s}=this.properties;return(c=(l=(r=this.processedData)==null?void 0:r.reduced)==null?void 0:l.animationValidation)!=null&&c.uniqueKeys?s?Ye(t[s]):i?Ye(t[i]):n?Ye(t[n]):`${e}`:`${e}`}};Tx.className="PieSeries";Tx.type="pie";var X4={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",moduleFactory:t=>new Tx(t),tooltipDefaults:{range:"exact"},themeTemplate:W4,paletteFactory:C1};function $4(){ks.register(VN,u4,Rz,C4,v1,B4,S1,U4,K4,X4,F4);for(const t of[Ar,Zl,Eo,tc,Oo])fa.register(t.type,{moduleFactory:e=>new t(e)})}function q4(){for(const t of ks.modules){if(t.packageType==="enterprise"&&!T_(t)&&ot.errorOnce("Unexpected enterprise module registered: "+t.identifier),t.type==="root"&&t.themeTemplate)for(const e of t.chartTypes)d0.set(e,t.themeTemplate);if(t.type==="series"){if(t.chartTypes.length>1)throw new Error(`AG Charts - Module definition error: ${t.identifier}`);an.register(t.identifier,t)}if(t.type==="series-option"&&t.themeTemplate)for(const e of t.seriesTypes)an.setThemeTemplate(e,t.themeTemplate);if(t.type==="axis-option"&&t.themeTemplate)for(const e of t.axisTypes){const i=fa.getThemeTemplate(e),n=Rt(t.themeTemplate,i);fa.setThemeTemplate(e,n)}t.type==="axis"&&fa.register(t.identifier,t),t.type==="legend"&&Ib.register(t.identifier,t)}if(ks.hasEnterpriseModules()){const t=I_();t.length>0&&ot.errorOnce("Enterprise modules expected but not registered: ",t)}}var Gl=class extends hb{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}updatePosition(){super.updatePosition();const t=kf(this),e=cb(t);this.axisGroup.setProperties(this.getAxisTransform()),this.gridLineGroupSelection.each(e),this.tickLineGroupSelection.each(e),this.tickLabelGroupSelection.each(ub())}computeLabelsBBox(t,e){return null}computeRange(){}getAxisLinePoints(){}};M([T(ue(["polygon","circle"],"a polar axis shape"))],Gl.prototype,"shape",2);M([T(ee)],Gl.prototype,"innerRadiusRatio",2);var Ix=class extends Np{constructor(t,e){super(t,e),this.padding=new Sr(40),this.ctx.axisManager.axisGroup.zIndex=6}getChartType(){return"polar"}async performLayout(t){const{layoutBox:e}=t;e.shrink(this.seriesArea.padding.toJson());const i=e.clone();this.seriesRect=i,this.animationRect=i,this.seriesRoot.translationX=i.x,this.seriesRoot.translationY=i.y,await this.computeCircle(i),this.axes.forEach(n=>n.update()),this.ctx.layoutManager.emitLayoutComplete(t,{series:{visible:!0,rect:i,paddedRect:i}})}updateAxes(t,e,i,n){var h;const s=this.axes.find(d=>d.direction==="x"),r=this.axes.find(d=>d.direction==="y");if(!(s instanceof Gl)||!(r instanceof Gl))return;const l=s.scale,c=r.innerRadiusRatio;s.innerRadiusRatio=c,s.computeRange(),s.gridLength=n,r.gridAngles=(h=l.ticks({nice:s.nice,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0}))==null?void 0:h.map(d=>l.convert(d)),r.gridRange=s.range,r.range=[n,n*c],[s,r].forEach(d=>{d.translation.x=t.x+e,d.translation.y=t.y+i,d.calculateLayout()})}async computeCircle(t){const e=this.series.filter(Q4),i=this.axes.filter(J4),n=(d,p,g)=>{this.updateAxes(t,d,p,g),e.forEach(b=>{b.centerX=d,b.centerY=p,b.radius=g});const m=e.filter(b=>b.type==="donut"||b.type==="pie");if(m.length>1){const b=m.map(v=>{const S=v.getInnerRadius();return{series:v,innerRadius:S}}).sort((v,S)=>v.innerRadius-S.innerRadius);b.at(-1).series.surroundingRadius=void 0;for(let v=0;v<b.length-1;v++)b[v].series.surroundingRadius=b[v+1].innerRadius}},s=t.width/2,r=t.height/2,l=Math.max(0,Math.min(t.width,t.height)/2);let c=l;n(s,r,c);const h=async({hideWhenNecessary:d=!1}={})=>{const p=[];for(const b of fo(i,e)){const v=await b.computeLabelsBBox({hideWhenNecessary:d},t);v&&p.push(v)}if(p.length===0){n(s,r,l);return}const g=bt.merge(p),m=this.refineCircle(g,c,t);n(m.centerX,m.centerY,m.radius),c=m.radius};await h(),await h(),await h(),await h({hideWhenNecessary:!0}),await h({hideWhenNecessary:!0});for(const d of fo(i,e))await d.computeLabelsBBox({hideWhenNecessary:!0},t);return{radius:c,centerX:s,centerY:r}}refineCircle(t,e,i){const s=-e,r=-e,l=e,c=e;let h=Math.max(0,s-t.x),d=Math.max(0,r-t.y),p=Math.max(0,t.x+t.width-l),g=Math.max(0,t.y+t.height-c);h=p=Math.max(h,p),d=g=Math.max(d,g);const m=i.width-h-p,b=i.height-d-g;let v=Math.min(m,b)/2;const S=.5*i.width/2,A=.5*i.height/2,D=Math.min(S,A);if(v<D){v=D;const N=h+p,k=d+g;if(2*v+k>i.height){const O=i.height-2*v;Math.min(d,g)*2>O?(d=O/2,g=O/2):d>g?d=O-g:g=O-d}if(2*v+N>i.width){const O=i.width-2*v;Math.min(h,p)*2>O?(h=O/2,p=O/2):h>p?h=O-p:p=O-h}}const L=h+2*v+p,C=d+2*v+g;return{centerX:(i.width-L)/2+h+v,centerY:(i.height-C)/2+d+v,radius:v}}};Ix.className="PolarChart";Ix.type="polar";function Q4(t){return t instanceof Zp}function J4(t){return t instanceof Gl}var tP={type:"chart",name:"polar",detect:lN,create(t,e){return new Ix(t,e)}},Ki={isEnterprise:!1},k1=(t=>(t.POINTER="pointer",t.NODE="node",t.TOP="top",t.RIGHT="right",t.BOTTOM="bottom",t.LEFT="left",t.TOP_LEFT="top-left",t.TOP_RIGHT="top-right",t.BOTTOM_RIGHT="bottom-right",t.BOTTOM_LEFT="bottom-left",t))(k1||{}),Un=Symbol("IGNORED_PROP");function vn(t,e){const i={};for(const[n,s]of Object.entries(e))s!==Un&&Object.hasOwn(t,n)&&(i[n]=s);return i}function w1(t){if(t===void 0)return;const{enabled:e,showArrow:i,range:n,position:s,delay:r,wrapping:l}=t;return Object.fromEntries(Object.entries({enabled:e,showArrow:i,range:n,position:s,delay:r,wrapping:l}).filter(([h,d])=>d!==void 0))}function eP(t){return t.type==="radial-gauge"}function iP(t){return t.type==="linear-gauge"}function nP(t){const{animation:e,background:i,container:n,contextMenu:s,footnote:r,height:l,listeners:c,locale:h,minHeight:d,minWidth:p,overrideDevicePixelRatio:g,padding:m,subtitle:b,theme:v,title:S,width:A,type:D,cursor:L,nodeClickRange:C,tooltip:N,value:k,scale:O={},startAngle:_,endAngle:j,highlightStyle:z,segmentation:B,bar:q,needle:at,targets:nt,outerRadius:xt,innerRadius:St,outerRadiusRatio:W,innerRadiusRatio:lt,cornerRadius:it,cornerMode:ut,label:w,secondaryLabel:U,spacing:Q,...$}=t,{fills:X,fillMode:dt,fill:ct,fillOpacity:pt,stroke:J,strokeWidth:et,strokeOpacity:ht,lineDash:Mt,lineDashOffset:wt,min:Bt=0,max:Yt=1,interval:Kt={},label:se={}}=O,me=vn(t,{animation:e,background:i,container:n,contextMenu:s,footnote:r,height:l,listeners:c,locale:h,minHeight:d,minWidth:p,overrideDevicePixelRatio:g,padding:m,subtitle:b,theme:v,title:S,tooltip:w1(N),width:A}),Me=vn(O,{fills:X,fillMode:dt,fill:ct,fillOpacity:pt,stroke:J,strokeWidth:et,strokeOpacity:ht,lineDash:Mt,lineDashOffset:wt}),li=vn(t,{startAngle:Un,endAngle:Un,needle:at!=null?{enabled:!0,...at}:Un,scale:Me,type:D,cursor:L,nodeClickRange:C,listeners:c,tooltip:N,value:k,highlightStyle:z,segmentation:B,bar:q,targets:nt,outerRadius:xt,innerRadius:St,outerRadiusRatio:W,innerRadiusRatio:lt,cornerRadius:it,cornerMode:ut,label:w,secondaryLabel:U,spacing:Q,...$});return{...me,series:[li],axes:[{type:"angle-number",min:Bt,max:Yt,startAngle:_,endAngle:j,interval:Kt??{},label:se??{}},{type:"radius-number"}]}}function sP(t){const{animation:e,background:i,container:n,contextMenu:s,footnote:r,height:l,listeners:c,locale:h,minHeight:d,minWidth:p,overrideDevicePixelRatio:g,padding:m,subtitle:b,theme:v,title:S,width:A,type:D,cursor:L,nodeClickRange:C,tooltip:N,value:k,scale:O={},direction:_="vertical",thickness:j,highlightStyle:z,segmentation:B,bar:q,targets:at,cornerRadius:nt,cornerMode:xt,label:St,...W}=t,{fills:lt,fillMode:it,fill:ut,fillOpacity:w,stroke:U,strokeWidth:Q,strokeOpacity:$,lineDash:X,lineDashOffset:dt,min:ct=0,max:pt=1,interval:J={},label:et={}}=O,ht=vn(t,{animation:e,background:i,container:n,contextMenu:s,footnote:r,height:l,listeners:c,locale:h,minHeight:d,minWidth:p,overrideDevicePixelRatio:g,padding:m,subtitle:b,theme:v,title:S,tooltip:w1(N),width:A}),Mt=vn(O,{fills:lt,fillMode:it,fill:ut,fillOpacity:w,stroke:U,strokeWidth:Q,strokeOpacity:$,lineDash:X,lineDashOffset:dt}),wt=vn(t,{scale:Mt,type:D,cursor:L,nodeClickRange:C,listeners:c,tooltip:N,value:k,direction:_,thickness:j,highlightStyle:z,segmentation:B,bar:q,targets:at,cornerRadius:nt,cornerMode:xt,label:St,...W}),{placement:Bt,...Yt}=et;let Kt,se;const me=_==="horizontal";me?(Kt=Bt==="before"?"top":"bottom",se="left"):(Kt=Bt==="after"?"right":"left",se="bottom");const Me={type:"number",position:Kt,min:ct,max:pt,reverse:!me,interval:J,label:Yt,nice:!1},li={type:"number",position:se,min:0,max:1,label:{enabled:!1}};return{...ht,series:[wt],axes:me?[Me,li]:[li,Me]}}function dL(t,e){if(e==null)return t;const{targets:i,...n}=e;return t=Rt(t,n),t.targets!=null&&i!=null&&(t.targets=Lf(t.targets,i)),t}function aP(t,e){if(eP(t)){const L=dL(t,e);return nP(L)}else if(iP(t)){const L=dL(t,e);return sP(L)}const{animation:i,background:n,container:s,contextMenu:r,footnote:l,height:c,listeners:h,locale:d,minHeight:p,minWidth:g,padding:m,subtitle:b,theme:v,title:S,tooltip:A,width:D}=t;return vn(t,{animation:i,background:n,container:s,contextMenu:r,footnote:l,height:c,listeners:h,locale:d,minHeight:p,minWidth:g,padding:m,subtitle:b,theme:v,title:S,tooltip:A,width:D})}var Fn={stroke:Ee},Mi={fill:Sh},fL={color:"white",fill:Ee},oa={color:Ee},Kf={color:Mh,fontSize:{$rem:[1.1666666666666667]},fontFamily:{$ref:"fontFamily"}},cf={...Kf,textAlign:"left"},D0={...Kf,fontSize:{$ref:"fontSize"},color:Lh,fill:Dh,stroke:Ah,strokeWidth:1,divider:{stroke:Th,strokeWidth:1,strokeOpacity:.5}},jy={...Fn,background:{fill:$e,fillOpacity:.2},handle:{...Mi},text:{...oa},statistics:{...D0}},rP={line:{...Fn,handle:{...Mi},text:{...oa}},"horizontal-line":{...Fn,handle:{...Mi},axisLabel:{...fL},text:{...oa}},"vertical-line":{...Fn,handle:{...Mi},axisLabel:{...fL},text:{...oa}},"disjoint-channel":{...Fn,background:{fill:$e,fillOpacity:.2},handle:{...Mi},text:{...oa}},"parallel-channel":{...Fn,background:{fill:$e,fillOpacity:.2},handle:{...Mi},text:{...oa}},"fibonacci-retracement":{...Fn,strokes:Hu,rangeStroke:Ee,handle:{...Mi},text:{...oa,position:"center"},label:{...Kf,color:void 0,fontSize:{$round:[{$mul:[{$ref:"fontSize"},10/12]}]}}},"fibonacci-retracement-trend-based":{...Fn,strokes:Hu,rangeStroke:Ee,handle:{...Mi},text:{...oa,position:"center"},label:{...Kf,color:void 0,fontSize:{$round:[{$mul:[{$ref:"fontSize"},10/12]}]}}},callout:{...Fn,...cf,color:{$ref:"textColor"},handle:{...Mi},fill:$e,fillOpacity:.2},comment:{...cf,color:"white",fontWeight:700,handle:{...Mi},fill:Ee},note:{...cf,color:Ch,fill:Ee,stroke:{$ref:"backgroundColor"},strokeWidth:1,strokeOpacity:1,handle:{...Mi},background:{fill:Ih,stroke:Nh,strokeWidth:1}},text:{...cf,handle:{...Mi}},arrow:{...Fn,handle:{...Mi},text:{...oa}},"arrow-up":{fill:xh,handle:{...Mi,stroke:Ee}},"arrow-down":{fill:vh,handle:{...Mi,stroke:Ee}},"date-range":{...jy},"price-range":{...jy},"date-price-range":{...jy},"quick-date-price-range":{up:{...Fn,fill:$e,fillOpacity:.2,handle:{...Mi},statistics:{...D0,color:"#fff",fill:$e,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}}},down:{...Fn,stroke:Ku,fill:Wu,fillOpacity:.2,handle:{...Mi,stroke:Ku},statistics:{...D0,color:"#fff",fill:Wu,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}}}}};function ni(t,e){if(pi(t))return e(t)}var oP=["ohlc","line","step-line","hlc","high-low","candlestick","hollow-candlestick"],lP=[{icon:"trend-line-drawing",tooltip:"toolbarAnnotationsLineAnnotations",value:"line-menu"},{icon:"fibonacci-retracement-drawing",tooltip:"toolbarAnnotationsFibonacciAnnotations",value:"fibonacci-menu"},{icon:"text-annotation",tooltip:"toolbarAnnotationsTextAnnotations",value:"text-menu"},{icon:"arrow-drawing",tooltip:"toolbarAnnotationsShapeAnnotations",value:"shape-menu"},{icon:"measurer-drawing",tooltip:"toolbarAnnotationsMeasurerAnnotations",value:"measurer-menu"},{icon:"delete",tooltip:"toolbarAnnotationsClearAll",value:"clear"}];function cP(t,e,i){var nt,xt,St,W;const{dateKey:n="date",highKey:s="high",openKey:r="open",lowKey:l="low",closeKey:c="close",volumeKey:h="volume",chartType:d="candlestick",navigator:p=!1,volume:g=!0,rangeButtons:m=!0,statusBar:b=!0,toolbar:v=!0,zoom:S=!0,theme:A,data:D,...L}=t,C=hP(A,d,n,s,l,r,c),N=uP(A,i,r,c,g,h),O={navigator:{enabled:p,...g?{miniChart:{enabled:p,series:[{type:"line",xKey:n,yKey:h,marker:{enabled:!1}}]},height:40,minHandle:{height:46},maxHandle:{height:46}}:null}},_=typeof A=="string"?!0:((W=(St=(xt=(nt=A==null?void 0:A.overrides)==null?void 0:nt.common)==null?void 0:xt.annotations)==null?void 0:St.axesButtons)==null?void 0:W.enabled)??!0,j={annotations:{enabled:v,optionsToolbar:{enabled:v},snap:!0,axesButtons:{enabled:_},toolbar:{enabled:v,buttons:lP,padding:0},data:D,xKey:n,volumeKey:g?h:void 0}},z=b?{statusBar:{enabled:!0,data:D,highKey:s,openKey:r,lowKey:l,closeKey:c,volumeKey:g?h:void 0}}:null,B={zoom:{enabled:S,autoScaling:{enabled:!0},enableIndependentAxes:!0}},q={ranges:{enabled:m}},at=g?[{type:"number",position:"left",keys:[h],label:{enabled:!1},crosshair:{enabled:!1},gridLine:{enabled:!1},nice:!1,layoutConstraints:{stacked:!1,width:20,unit:"percentage",align:"end"}}]:[];return{theme:{baseTheme:typeof A=="string"?A:"ag-financial",...Rt(typeof A=="object"?A:null,{overrides:{common:{title:{padding:4},padding:{top:6,right:8,bottom:5},chartToolbar:{enabled:v},annotations:{...rP}}}})},animation:{enabled:!1},legend:{enabled:!1},series:[...N,...C],axes:[{type:"number",position:"right",keys:[r,c,s,l],interval:{maxSpacing:ni(A,lt=>{var it,ut,w,U,Q;return(Q=(U=(w=(ut=(it=lt.overrides)==null?void 0:it.common)==null?void 0:ut.axes)==null?void 0:w.number)==null?void 0:U.interval)==null?void 0:Q.maxSpacing})??45},label:{format:ni(A,lt=>{var it,ut,w,U,Q;return(Q=(U=(w=(ut=(it=lt.overrides)==null?void 0:it.common)==null?void 0:ut.axes)==null?void 0:w.number)==null?void 0:U.label)==null?void 0:Q.format})??".2f"},crosshair:{enabled:!0,snap:!1},layoutConstraints:{stacked:!1,width:100,unit:"percentage",align:"start"}},...at,{type:"ordinal-time",position:"bottom",line:{enabled:!1},label:{enabled:!0},crosshair:{enabled:!0}}],tooltip:{enabled:!1},data:D,...j,...O,...z,...B,...q,...L}}function uP(t,e,i,n,s,r){if(!s)return[];const l=ni(t,h=>{var d,p,g;return(g=(p=(d=h.overrides)==null?void 0:d.bar)==null?void 0:p.series)==null?void 0:g.fill}),c=l?{fill:l}:{itemStyler({datum:h}){const{up:d,down:p}=e().palette;return{fill:h[i]<h[n]?d==null?void 0:d.fill:p==null?void 0:p.fill}}};return[{type:"bar",xKey:"date",yKey:r,tooltip:{enabled:!1},highlight:{enabled:!1},fillOpacity:ni(t,h=>{var d,p,g;return(g=(p=(d=h.overrides)==null?void 0:d.bar)==null?void 0:p.series)==null?void 0:g.fillOpacity})??.5,...c,focusPriority:1,fastDataProcessing:!0}]}var _y="range-area";function hP(t,e,i,n,s,r,l){const c={xKey:i,openKey:r,closeKey:l,highKey:n,lowKey:s},h={xKey:i,yKey:l},d={pickOutsideVisibleMinorAxis:!0};switch(e??"candlestick"){case"ohlc":return dP(d,c);case"line":return fP(d,t,h);case"step-line":return pP(d,t,h);case"hlc":return gP(d,t,h,c);case"high-low":return mP(d,t,c);case"candlestick":return pL(d,c);case"hollow-candlestick":return yP(d,t,c);default:return ot.warnOnce(`unknown chart type: ${e}; expected one of: ${oP.join(", ")}`),pL(d,c)}}function dP(t,e){return[{type:"ohlc",focusPriority:0,...t,...e}]}function fP(t,e,i){return[{type:"line",focusPriority:0,...t,...i,stroke:ni(e,n=>{var s,r,l;return(l=(r=(s=n.overrides)==null?void 0:s.line)==null?void 0:r.series)==null?void 0:l.stroke})??sc,marker:ni(e,n=>{var s,r,l;return(l=(r=(s=n.overrides)==null?void 0:s.line)==null?void 0:r.series)==null?void 0:l.marker})??{enabled:!1}}]}function pP(t,e,i){return[{type:"line",focusPriority:0,...t,...i,stroke:ni(e,n=>{var s,r,l;return(l=(r=(s=n.overrides)==null?void 0:s.line)==null?void 0:r.series)==null?void 0:l.stroke})??sc,interpolation:ni(e,n=>{var s,r,l;return(l=(r=(s=n.overrides)==null?void 0:s.line)==null?void 0:r.series)==null?void 0:l.interpolation})??{type:"step"},marker:ni(e,n=>{var s,r,l;return(l=(r=(s=n.overrides)==null?void 0:s.line)==null?void 0:r.series)==null?void 0:l.marker})??{enabled:!1}}]}function gP(t,e,i,{xKey:n,highKey:s,closeKey:r,lowKey:l}){const c=O1(_y,e);return[{type:_y,focusPriority:0,...t,xKey:n,yHighKey:s,yLowKey:r,fill:c.fill??xh,stroke:c.stroke??_p,fillOpacity:ni(e,h=>{var d,p,g;return(g=(p=(d=h.overrides)==null?void 0:d["range-area"])==null?void 0:p.series)==null?void 0:g.fillOpacity})??.3,strokeWidth:ni(e,h=>{var d,p,g;return(g=(p=(d=h.overrides)==null?void 0:d["range-area"])==null?void 0:p.series)==null?void 0:g.strokeWidth})??2},{type:_y,focusPriority:0,...t,xKey:n,yHighKey:r,yLowKey:l,fill:c.fill??vh,stroke:c.stroke??zp,fillOpacity:ni(e,h=>{var d,p,g;return(g=(p=(d=h.overrides)==null?void 0:d["range-area"])==null?void 0:p.series)==null?void 0:g.fillOpacity})??.3,strokeWidth:ni(e,h=>{var d,p,g;return(g=(p=(d=h.overrides)==null?void 0:d["range-area"])==null?void 0:p.series)==null?void 0:g.strokeWidth})??2},{type:"line",...t,...i,stroke:ni(e,h=>{var d,p,g;return(g=(p=(d=h.overrides)==null?void 0:d.line)==null?void 0:p.series)==null?void 0:g.stroke})??Bp,strokeWidth:ni(e,h=>{var d,p,g;return(g=(p=(d=h.overrides)==null?void 0:d.line)==null?void 0:p.series)==null?void 0:g.strokeWidth})??2,marker:ni(e,h=>{var d,p,g;return(g=(p=(d=h.overrides)==null?void 0:d.line)==null?void 0:p.series)==null?void 0:g.marker})??{enabled:!1}}]}function mP(t,e,{xKey:i,highKey:n,lowKey:s}){const r=O1("range-bar",e);return[{type:"range-bar",...t,xKey:i,yHighKey:n,yLowKey:s,fill:r.fill??Pp,stroke:r.stroke??sc,tooltip:{range:"nearest"},focusPriority:0,fastDataProcessing:!0}]}function pL(t,e){return[{type:"candlestick",focusPriority:0,...t,...e}]}function yP(t,e,i){var s;const n=ni(e,r=>{var l,c,h;return(h=(c=(l=r.overrides)==null?void 0:l.candlestick)==null?void 0:c.series)==null?void 0:h.item});return[{type:"candlestick",focusPriority:0,...t,...i,item:{up:{fill:((s=n==null?void 0:n.up)==null?void 0:s.fill)??"transparent"}}}]}function O1(t,e){const i=ni(e,s=>{var r,l,c;return(c=(l=(r=s.overrides)==null?void 0:r[t])==null?void 0:l.series)==null?void 0:c.fill}),n=ni(e,s=>{var r,l,c;return(c=(l=(r=s.overrides)==null?void 0:r[t])==null?void 0:l.series)==null?void 0:c.stroke});return{fill:i,stroke:n}}var R1={title:{enabled:!1},label:{enabled:!1},line:{enabled:!1},gridLine:{enabled:!1},crosshair:{enabled:!1,stroke:Up,lineDash:[0],label:{enabled:!1}}},zy={...R1,nice:!1},Py={position:{type:"sparkline"}},By={style:[{stroke:{$ref:"gridLineColor"}}],width:2},bP={number:{gridLine:By},time:{gridLine:By},category:{gridLine:By}},xP={overrides:{common:{animation:{enabled:!1},contextMenu:{enabled:!1},keyboard:{enabled:!1},background:{visible:!1},padding:{top:0,right:0,bottom:0,left:0},axes:{number:{...zy,interval:{values:[0]}},log:{...zy},time:{...zy},category:{...R1}}},bar:{series:{crisp:!1,label:{placement:"inside-end",padding:4},sparklineMode:!0},tooltip:{...Py,range:"nearest"},axes:bP},line:{seriesArea:{padding:{top:2,right:2,bottom:2,left:2}},series:{sparklineMode:!0,strokeWidth:1,marker:{enabled:!1,size:3},tooltip:Py}},area:{seriesArea:{padding:{top:1,right:0,bottom:1,left:0}},series:{strokeWidth:1,fillOpacity:.4,tooltip:Py}}}},j1=Wi(vP);function vP(t,e){return typeof t=="string"?{...e,baseTheme:t}:t!=null?{...t,baseTheme:j1(t.baseTheme,e)}:e}function _1(t){if(Array.isArray(t)&&t.length!==0){const e=t[0];if(typeof e=="number")return{data:t.map((n,s)=>({x:s,y:n})),series:[{xKey:"x",yKey:"y"}],datumKey:"y"};if(Array.isArray(e))return{data:t.map(n=>({x:n[0],y:n[1],datum:n})),series:[{xKey:"x",yKey:"y"}],datumKey:"datum"}}return{data:t}}function MP(t,e){switch(t==null?void 0:t.type){case"number":{const{type:i,min:n,max:s,reverse:r}=t;return vn(t,{type:i,reverse:r,min:n,max:s})}case"time":{const{type:i,min:n,max:s,reverse:r}=t;return vn(t,{type:i,reverse:r,min:n,max:s})}case"category":{const{type:i,paddingInner:n,paddingOuter:s,reverse:r}=t;return vn(t,{type:i,reverse:r,paddingInner:n,paddingOuter:s})}}return{type:e}}function SP(t,e,i){const n={};return(t==null?void 0:t.stroke)!=null&&(n.style=[{stroke:t==null?void 0:t.stroke}],n.enabled??(n.enabled=!0)),(t==null?void 0:t.strokeWidth)!=null&&(n.width=t==null?void 0:t.strokeWidth,n.enabled??(n.enabled=!0)),i.type==="bar"&&i.direction!=="horizontal"&&(n.enabled??(n.enabled=!0)),(t==null?void 0:t.visible)!=null&&(n.enabled=t.visible),n.enabled??(n.enabled=e),n}var DP=Wi((t,e,i)=>n=>{var p;const s=n.datum[n.xKey],r=n.datum[n.yKey],l=i!=null?n.datum[i]:n.datum,c=(p=e==null?void 0:e.renderer)==null?void 0:p.call(e,{context:t,datum:l,xValue:s,yValue:r});if(typeof c=="string")return c;const h=c==null?void 0:c.title,d=c==null?void 0:c.content;return h!=null&&d!=null?{heading:h,title:void 0,data:[{label:void 0,value:d}]}:{heading:h??d??r.toFixed(2),title:void 0,data:[]}});function AP(t){const{background:e,container:i,height:n,listeners:s,locale:r,minHeight:l,minWidth:c,overrideDevicePixelRatio:h,padding:d,width:p,theme:g,data:m,crosshair:b,axis:v,min:S,max:A,tooltip:D,context:L,...C}=t,N=vn(t,{background:e,container:i,height:n,listeners:s,locale:r,minHeight:l,minWidth:c,overrideDevicePixelRatio:h,padding:d,width:p,tooltip:Un,context:Un,data:Un,crosshair:Un,axis:Un,min:Un,max:Un,theme:Un}),{data:k,series:[O]=[],datumKey:_}=_1(m),j=C;O!=null&&Object.assign(j,O),j.tooltip={...D,renderer:DP(L,D,_)},N.theme=j1(g,xP),N.data=k,N.series=[j];const z=j.type!=="bar"||j.direction!=="horizontal",[B,q]=z?["bottom","left"]:["left","bottom"],at={...MP(v,"category"),position:B,...vn(t,{crosshair:b})},nt={type:"number",gridLine:SP(v,!1,t),position:q,...vn(t,{min:S,max:A})};return N.axes=z?[nt,at]:[at,nt],N}var LP={"price-volume":cP,gauge:aP,sparkline:AP},TP={sparkline:_1};function gL(t,e){var l,c,h,d;let i=[];const n=uN(t),s=Ta(t),r=s?De.get(s):"unknown";for(const p of Xl)if(!(r!=="unknown"&&!p.chartTypes.includes(r))){if(p.type==="root"||p.type==="legend"){const g=t[p.optionsKey];if(g==null)continue;p.optionsInnerKey?g[p.optionsInnerKey]&&(i.push(`${p.optionsKey}.${p.optionsInnerKey}`),delete g[p.optionsInnerKey]):(i.push(p.optionsKey),delete t[p.optionsKey])}else if(p.type==="axis"){if(!("axes"in t)||!((l=t.axes)!=null&&l.some(g=>g.type===p.identifier)))continue;i.push(`axis[type=${p.identifier}]`),t.axes=t.axes.filter(g=>g.type!==p.identifier)}else if(p.type==="axis-option"){if(!("axes"in t)||!((c=t.axes)!=null&&c.some(g=>g[p.optionsKey])))continue;i.push(`axis.${p.optionsKey}`),t.axes.forEach(g=>{g[p.optionsKey]&&delete g[p.optionsKey]})}else if(p.type==="series"){if(p.community||!((h=t.series)!=null&&h.some(g=>g.type===p.identifier)))continue;i.push(`series[type=${p.identifier}]`),t.series=t.series.filter(g=>g.type!==p.identifier)}else if(p.type==="series-option"){if(!((d=t.series)!=null&&d.some(g=>g[p.optionsKey])))continue;i.push(`series.${p.optionsKey}`),t.series.forEach(g=>{g[p.optionsKey]&&delete g[p.optionsKey]})}}if(i.length&&!e){n&&(i=["AgCharts.createGauge"]);let p="ag-charts-enterprise",g="https://www.ag-grid.com/charts/javascript/installation/";t.mode==="integrated"&&(p="ag-grid-charts-enterprise' or 'ag-grid-enterprise/charts-enterprise",g="https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/"),ot.warnOnce([`unable to use these enterprise features as '${p}' has not been loaded:`,"",...i,"",`See: ${g}`].join(`
`))}}function IP(t){const e="mode"in t&&t.mode==="integrated";for(const i of ks.byType("root","legend")){const n=t[i.optionsKey],s=n!=null&&n.enabled===!1,r=!("removable"in i)||i.removable===!0||i.removable==="standalone-only"&&!e;s&&r&&delete t[i.optionsKey]}}function A0(t){return t!=null&&t.up||t!=null&&t.down||t!=null&&t.neutral?"user-full":t!=null&&t.fills||t!=null&&t.strokes?"user-indexed":"inbuilt"}var uf="white",L0={get cartesian(){return{seriesTypes:De.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:De.polarTypes,commonOptions:[]}},get hierarchy(){return{seriesTypes:De.hierarchyTypes,commonOptions:[]}},get topology(){return{seriesTypes:De.topologyTypes,commonOptions:[]}},get"flow-proportion"(){return{seriesTypes:De.flowProportionTypes,commonOptions:[]}},get standalone(){return{seriesTypes:De.standaloneTypes,commonOptions:[]}},get gauge(){return{seriesTypes:De.gaugeTypes,commonOptions:[]}}},NP={"radial-gauge":!0,"linear-gauge":!0};function mL(t){return NP[t]===!0}var CP=Object.values(L0).reduce((t,{commonOptions:e})=>t.concat(e),[]),Gn=class T0{static getAxisDefaults(e){return Rt(e,{title:{enabled:!1,text:"Axis Title",spacing:25,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.0833333333333333]},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"}},label:{fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},spacing:11,color:{$ref:"textColor"},avoidCollisions:!0},line:{enabled:!0,width:1,stroke:{$ref:"axisColor"}},tick:{enabled:!1,width:1,stroke:{$ref:"axisColor"}},gridLine:{enabled:!0,style:[{stroke:{$ref:"gridLineColor"},lineDash:[]}]},crossLines:{enabled:!1,fill:{$ref:"foregroundColor"},stroke:{$ref:"foregroundColor"},fillOpacity:.1,strokeWidth:1,label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},padding:5,color:{$ref:"textColor"}}},crosshair:{enabled:!0}})}getChartDefaults(){return{minHeight:300,minWidth:300,background:{visible:!0,fill:{$ref:"backgroundColor"}},padding:{top:{$ref:"padding"},right:{$ref:"padding"},bottom:{$ref:"padding"},left:{$ref:"padding"}},seriesArea:{padding:{top:0,right:0,bottom:0,left:0}},keyboard:{enabled:!0},title:{enabled:!1,text:"Title",fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.4166666666666667]},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},wrapping:"hyphenate",layoutStyle:cr,textAlign:ur},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.0833333333333333]},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},wrapping:"hyphenate",layoutStyle:cr,textAlign:ur},footnote:{enabled:!1,text:"Footnote",spacing:20,fontSize:{$rem:[1.0833333333333333]},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"subtleTextColor"},wrapping:"hyphenate",layoutStyle:cr,textAlign:ur},legend:{position:"bottom",spacing:30,listeners:{},toggleSeries:!0,item:{paddingX:16,paddingY:8,marker:{size:15,padding:8},showSeriesStroke:!0,label:{color:{$ref:"textColor"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"}}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:{$ref:"foregroundColor"}},inactiveStyle:{fill:{$ref:"subtleTextColor"}},highlightStyle:{fill:{$ref:"foregroundColor"}},label:{color:{$ref:"textColor"}}}},tooltip:{enabled:!0,darkTheme:wl,delay:0},overlays:{darkTheme:wl},listeners:{}}}constructor(e={}){const{overrides:i,palette:n}=Xe(e),s=this.createChartConfigPerChartType(this.getDefaults()),r={};i&&this.mergeOverrides(s,r,i);const{fills:l,strokes:c,...h}=this.getDefaultColors();this.palette=Au(Rt(n,{fills:Object.values(l),strokes:Object.values(c),...h})),this.paletteType=A0(n),this.config=Au(this.templateTheme(s)),this.presets=Au(r)}mergeOverrides(e,i,n){for(const{seriesTypes:s,commonOptions:r}of Object.values(L0)){const l={...n.common};for(const c of CP)r.includes(c)||delete l[c];if(l)for(const c of s){const h=c;mL(h)||(e[h]=Rt(l,e[h]))}}De.seriesTypes.forEach(s=>{const r=s,l=n[r];mL(r)?i[r]=l:e[r]=Rt(l,e[r])})}createChartConfigPerChartType(e){for(const[i,{seriesTypes:n}]of Object.entries(L0)){const s=d0.get(i);for(const r of n)e[r]??(e[r]=Xe(s))}return e}getDefaults(){const e=(i,n)=>{const s={},r={axes:{},...Ib.getThemeTemplates(),...this.getChartDefaults(),...d0.get(i)};for(const l of n){s[l]=Rt(an.getThemeTemplate(l),s[l]??Xe(r));const{axes:c}=s[l];for(const h of fa.keys())c[h]=Rt(c[h],fa.getThemeTemplate(h),T0.cartesianAxisDefault[h])}return s};return Rt(e("cartesian",De.cartesianTypes),e("polar",De.polarTypes),e("hierarchy",De.hierarchyTypes),e("topology",De.topologyTypes),e("flow-proportion",De.flowProportionTypes),e("standalone",De.standaloneTypes),e("gauge",De.gaugeTypes))}static applyTemplateTheme(e,i,n){if(ge(e))for(let s=0;s<e.length;s++){const r=e[s];typeof r=="symbol"&&(n!=null&&n.has(r))&&(e[s]=n.get(r))}else for(const[s,r]of Object.entries(e))typeof r=="symbol"&&(n!=null&&n.has(r))&&(e[s]=n.get(r))}templateTheme(e,i=!0){const n=i?Xe(e):e,s=this.getTemplateParameters();return ha(n,T0.applyTemplateTheme,void 0,void 0,s),n}getDefaultColors(){return{fills:Fe,strokes:Ts,up:{fill:Fe.GREEN,stroke:Ts.GREEN},down:{fill:Fe.RED,stroke:Ts.RED},neutral:{fill:Fe.GRAY,stroke:Ts.GRAY},altUp:{fill:Fe.BLUE,stroke:Ts.BLUE},altDown:{fill:Fe.ORANGE,stroke:Ts.ORANGE},altNeutral:{fill:Fe.GRAY,stroke:Ts.GRAY}}}getPublicParameters(){return{accentColor:"#2196f3",axisColor:{$foregroundBackgroundMix:[.675]},backgroundColor:uf,borderColor:{$foregroundBackgroundMix:[.818]},foregroundColor:"#464646",fontFamily:"Verdana, sans-serif",fontSize:12,fontWeight:400,gridLineColor:{$foregroundBackgroundAccentMix:[.93,.085]},padding:20,subtleTextColor:{$mix:[{$ref:"textColor"},{$ref:"backgroundColor"},.38]},textColor:{$ref:"foregroundColor"},chromeBackgroundColor:{$foregroundBackgroundMix:[.975]},chromeFontFamily:{$ref:"fontFamily"},chromeFontSize:{$ref:"fontSize"},chromeFontWeight:{$ref:"fontWeight"},chromeTextColor:"#181d1f",chromeSubtleTextColor:{$mix:[{$ref:"chromeTextColor"},{$ref:"backgroundColor"},.38]},inputBackgroundColor:{$ref:"backgroundColor"},inputTextColor:{$ref:"textColor"},crosshairLabelBackgroundColor:{$ref:"foregroundColor"},crosshairLabelTextColor:{$ref:"backgroundColor"}}}getTemplateParameters(){var s,r,l,c,h,d,p,g,m,b,v,S;const{isEnterprise:e}=Ki,i=new Map;i.set(wl,!1),i.set(Zb,e),i.set(Kb,!e),i.set(bh,"#d9d9d9"),i.set(jp,uf),i.set(Nr,"#00000080"),i.set(hn,[Fe.ORANGE,Fe.YELLOW,Fe.GREEN]),i.set(Gp,[Fe.BLUE,Fe.RED]),i.set(Up,"#aaa"),i.set(ts,[Fe.GREEN,Fe.YELLOW,Fe.RED]),i.set(Bs,["#5090dc","#629be0","#73a6e3","#85b1e7","#96bcea","#a8c8ee","#b9d3f1","#cbdef5"]),i.set(cr,"block"),i.set(ur,"center"),i.set(Yp,["#fff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"]),i.set(Vp,["#fff","#c5cbd1","#a4b1bd","#8498a9","#648096"]),i.set(Hu,["#797b86","#e24c4a","#f49d2d","#65ab58","#409682","#4db9d2","#5090dc","#3068f9","#e24c4a","#913aac","#d93e64"]),i.set(Fp,uf),i.set(Ee,Fe.BLUE),i.set($e,Fe.BLUE),i.set(Mh,Fe.BLUE),i.set(Sh,uf),i.set(Dh,"#fafafa"),i.set(Ah,"#ddd"),i.set(Lh,"#000"),i.set(Th,"#181d1f"),i.set(Wu,"#e35c5c"),i.set(Ku,"#e35c5c"),i.set(Ih,"#fafafa"),i.set(Nh,"#ddd"),i.set(Ch,"#000"),i.set(Eh,"top"),i.set(Is,!1);const n=this.getDefaultColors();return i.set(_p,((s=this.palette.up)==null?void 0:s.stroke)??n.up.stroke),i.set(xh,((r=this.palette.up)==null?void 0:r.fill)??n.up.fill),i.set(zp,((l=this.palette.down)==null?void 0:l.stroke)??n.down.stroke),i.set(vh,((c=this.palette.down)==null?void 0:c.fill)??n.down.fill),i.set(sc,((h=this.palette.neutral)==null?void 0:h.stroke)??n.neutral.stroke),i.set(Pp,((d=this.palette.neutral)==null?void 0:d.fill)??n.neutral.fill),i.set(Xb,((p=this.palette.altUp)==null?void 0:p.stroke)??n.up.stroke),i.set(qb,((g=this.palette.altUp)==null?void 0:g.fill)??n.up.fill),i.set($b,((m=this.palette.altDown)==null?void 0:m.stroke)??n.down.stroke),i.set(Qb,((b=this.palette.altDown)==null?void 0:b.fill)??n.down.fill),i.set(Jb,((v=this.palette.altNeutral)==null?void 0:v.fill)??n.altNeutral.fill),i.set(Bp,((S=this.palette.altNeutral)==null?void 0:S.stroke)??n.altNeutral.stroke),i}};Gn.cartesianAxisDefault={number:Gn.getAxisDefaults({line:{enabled:!1}}),log:Gn.getAxisDefaults({base:10,line:{enabled:!1},interval:{minSpacing:NaN}}),category:Gn.getAxisDefaults({groupPaddingInner:.1,label:{autoRotate:!0},gridLine:{enabled:Is},crosshair:{enabled:!1}}),"grouped-category":Gn.getAxisDefaults({tick:{enabled:!0,stroke:bh},label:{spacing:10,rotation:270},paddingInner:.4,groupPaddingInner:.2,crosshair:{enabled:!1}}),time:Gn.getAxisDefaults({gridLine:{enabled:Is}}),"ordinal-time":Gn.getAxisDefaults({groupPaddingInner:0,label:{autoRotate:!1},gridLine:{enabled:Is}}),"angle-category":Gn.getAxisDefaults({label:{spacing:5},gridLine:{enabled:Is}}),"angle-number":Gn.getAxisDefaults({label:{spacing:5},gridLine:{enabled:Is}}),"radius-category":Gn.getAxisDefaults({line:{enabled:!1}}),"radius-number":Gn.getAxisDefaults({line:{enabled:!1}})};var wa=Gn,hf="#192232",Fi={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},Jr={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},lc=class extends wa{getDefaultColors(){return{fills:Fi,strokes:Jr,up:{fill:Fi.GREEN,stroke:Jr.GREEN},down:{fill:Fi.RED,stroke:Jr.RED},neutral:{fill:Fi.GRAY,stroke:Jr.GRAY},altUp:{fill:Fi.BLUE,stroke:Jr.BLUE},altDown:{fill:Fi.ORANGE,stroke:Jr.ORANGE},altNeutral:{fill:Fi.GRAY,stroke:Jr.GRAY}}}getPublicParameters(){return{...super.getPublicParameters(),axisColor:{$foregroundBackgroundMix:[.263]},backgroundColor:hf,borderColor:{$foregroundBackgroundMix:[.784]},chromeBackgroundColor:{$foregroundBackgroundMix:[.93]},foregroundColor:"#fff",gridLineColor:{$foregroundBackgroundAccentMix:[.743,.01]},subtleTextColor:{$mix:[{$ref:"textColor"},{$ref:"backgroundColor"},.57]},chromeTextColor:{$ref:"textColor"},crosshairLabelBackgroundColor:{$foregroundBackgroundAccentMix:[.35,.1]}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(wl,!0),t.set(Fp,hf),t.set(bh,"#7f8389"),t.set(hn,[Fi.ORANGE,Fi.YELLOW,Fi.GREEN]),t.set(ts,[Fi.GREEN,Fi.YELLOW,Fi.RED]),t.set(Bs,["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"]),t.set(Yp,["#192834","#253746","#324859","#3f596c","#4d6a80"]),t.set(Vp,["#192834","#3b5164","#496275","#577287","#668399"]),t.set(jp,hf),t.set(Ee,Fi.BLUE),t.set(Mh,"#fff"),t.set($e,Fi.BLUE),t.set(Sh,hf),t.set(Dh,"#28313e"),t.set(Ah,"#4b525d"),t.set(Lh,"#fff"),t.set(Th,"#fff"),t.set(Ih,"#28313e"),t.set(Nh,"#4b525d"),t.set(Ch,"#fff"),t}constructor(t){super(t)}},Pn={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},to={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},EP=class extends lc{getDefaultColors(){return{fills:{...Pn},strokes:{...to},up:{fill:Pn.GREEN,stroke:to.GREEN},down:{fill:Pn.RED,stroke:to.RED},neutral:{fill:Pn.BLUE,stroke:to.BLUE},altUp:{fill:Pn.GREEN,stroke:to.GREEN},altDown:{fill:Pn.RED,stroke:to.RED},altNeutral:{fill:Pn.GRAY,stroke:to.GRAY}}}getPublicParameters(){return{...super.getPublicParameters(),gridLineColor:{$foregroundBackgroundAccentMix:[.88,.01]},padding:0}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(hn,[Pn.GREEN,Pn.BLUE,Pn.RED]),t.set(Ee,Pn.BLUE),t.set($e,Pn.BLUE),t.set(cr,"overlay"),t.set(ur,"left"),t.set(Eh,"bottom"),t.set(Is,!0),t}},Bn={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},eo={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},kP=class extends wa{getDefaultColors(){return{fills:{...Bn},strokes:{...eo},up:{fill:Bn.GREEN,stroke:eo.GREEN},down:{fill:Bn.RED,stroke:eo.RED},neutral:{fill:Bn.BLUE,stroke:eo.BLUE},altUp:{fill:Bn.GREEN,stroke:eo.GREEN},altDown:{fill:Bn.RED,stroke:eo.RED},altNeutral:{fill:Bn.GRAY,stroke:eo.GRAY}}}getPublicParameters(){return{...super.getPublicParameters(),gridLineColor:{$foregroundBackgroundAccentMix:[.94,.01]},padding:0}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(hn,[Bn.GREEN,Bn.BLUE,Bn.RED]),t.set(Ee,Bn.BLUE),t.set($e,Bn.BLUE),t.set(cr,"overlay"),t.set(ur,"left"),t.set(Eh,"bottom"),t.set(Is,!0),t}},Gi={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},io={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},wP=class extends lc{getDefaultColors(){return{fills:Gi,strokes:io,up:{fill:Gi.GREEN,stroke:io.GREEN},down:{fill:Gi.RED,stroke:io.RED},neutral:{fill:Gi.GRAY,stroke:io.GRAY},altUp:{fill:Gi.BLUE,stroke:io.BLUE},altDown:{fill:Gi.RED,stroke:io.RED},altNeutral:{fill:Gi.GRAY,stroke:io.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(hn,[Gi.ORANGE,Gi.YELLOW,Gi.GREEN]),t.set(Bs,["#2196f3","#208FEC","#1E88E5","#1C7FDC","#1976d2","#176EC9","#1565c0"]),t.set(ts,[Gi.GREEN,Gi.YELLOW,Gi.RED]),t.set(Ee,Gi.BLUE),t.set($e,Gi.BLUE),t}},Ui={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},no={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},OP=class extends wa{getDefaultColors(){return{fills:Ui,strokes:no,up:{fill:Ui.GREEN,stroke:no.GREEN},down:{fill:Ui.RED,stroke:no.RED},neutral:{fill:Ui.GRAY,stroke:no.GRAY},altUp:{fill:Ui.BLUE,stroke:no.BLUE},altDown:{fill:Ui.RED,stroke:no.RED},altNeutral:{fill:Ui.GRAY,stroke:no.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(hn,[Ui.ORANGE,Ui.YELLOW,Ui.GREEN]),t.set(Bs,["#2196f3","#329EF4","#42a5f5","#53ADF6","#64b5f6","#7AC0F8","#90caf9"]),t.set(ts,[Ui.GREEN,Ui.YELLOW,Ui.RED]),t.set(Ee,Ui.BLUE),t.set($e,Ui.BLUE),t}},Pe={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},so={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff",GRAY:"#eeeeee"},RP=class extends lc{getDefaultColors(){return{fills:Pe,strokes:so,up:{fill:Pe.GREEN,stroke:so.GREEN},down:{fill:Pe.RED,stroke:so.RED},neutral:{fill:Pe.GRAY,stroke:so.GRAY},altUp:{fill:Pe.BLUE,stroke:so.BLUE},altDown:{fill:Pe.RED,stroke:so.RED},altNeutral:{fill:Pe.GRAY,stroke:so.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(hn,[Pe.BLUE,Pe.RED]),t.set(Bs,[Pe.BLUE,Pe.PURPLE,Pe.MAGENTA,Pe.PINK,Pe.RED,Pe.ORANGE,Pe.YELLOW,Pe.GREEN]),t.set(ts,[Pe.BLUE,Pe.RED]),t.set(Ee,Pe.BLUE),t.set($e,Pe.BLUE),t}},Be={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},ao={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb",GRAY:"#888888"},jP=class extends wa{getDefaultColors(){return{fills:Be,strokes:ao,up:{fill:Be.GREEN,stroke:ao.GREEN},down:{fill:Be.RED,stroke:ao.RED},neutral:{fill:Be.GRAY,stroke:ao.GRAY},altUp:{fill:Be.BLUE,stroke:ao.BLUE},altDown:{fill:Be.RED,stroke:ao.RED},altNeutral:{fill:Be.GRAY,stroke:ao.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(hn,[Be.BLUE,Be.RED]),t.set(Bs,[Be.BLUE,Be.PURPLE,Be.MAGENTA,Be.PINK,Be.RED,Be.ORANGE,Be.YELLOW,Be.GREEN]),t.set(ts,[Be.BLUE,Be.RED]),t.set(Ee,Be.BLUE),t.set($e,Be.BLUE),t}},Ni={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},nr={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},_P=class extends lc{getDefaultColors(){return{fills:{...Ni,RED:Ni.ORANGE},strokes:{...nr,RED:nr.ORANGE},up:{fill:Ni.GREEN,stroke:nr.GREEN},down:{fill:Ni.ORANGE,stroke:nr.ORANGE},neutral:{fill:Ni.GRAY,stroke:nr.GRAY},altUp:{fill:Ni.BLUE,stroke:nr.BLUE},altDown:{fill:Ni.ORANGE,stroke:nr.ORANGE},altNeutral:{fill:Ni.GRAY,stroke:nr.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(hn,[Ni.ORANGE,Ni.YELLOW,Ni.GREEN]),t.set(ts,[Ni.GREEN,Ni.YELLOW,Ni.ORANGE]),t.set(Ee,Ni.BLUE),t.set($e,Ni.BLUE),t}},Yi={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},sa={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},zP=class extends wa{getDefaultColors(){return{fills:{...Yi,RED:Yi.ORANGE},strokes:{...sa,RED:sa.ORANGE},up:{fill:Yi.GREEN,stroke:sa.GREEN},down:{fill:Yi.ORANGE,stroke:sa.ORANGE},neutral:{fill:sa.GRAY,stroke:sa.GRAY},altUp:{fill:Yi.BLUE,stroke:sa.BLUE},altDown:{fill:Yi.ORANGE,stroke:sa.ORANGE},altNeutral:{fill:Yi.GRAY,stroke:sa.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(hn,[Yi.ORANGE,Yi.YELLOW,Yi.GREEN]),t.set(ts,[Yi.GREEN,Yi.YELLOW,Yi.ORANGE]),t.set(Ee,Yi.BLUE),t.set($e,Yi.BLUE),t}},Vi={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},ro={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#fff653",YELLOW:"#c18aff",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},PP=class extends lc{getDefaultColors(){return{fills:Vi,strokes:ro,up:{fill:Vi.GREEN,stroke:ro.GREEN},down:{fill:Vi.RED,stroke:ro.RED},neutral:{fill:Vi.GRAY,stroke:ro.GRAY},altUp:{fill:Vi.BLUE,stroke:ro.BLUE},altDown:{fill:Vi.ORANGE,stroke:ro.ORANGE},altNeutral:{fill:Vi.GRAY,stroke:ro.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(hn,[Vi.ORANGE,Vi.YELLOW,Vi.GREEN]),t.set(Bs,["#0083ff","#0076e6","#0069cc","#005cb3","#004f99","#004280","#003466","#00274c"]),t.set(ts,[Vi.GREEN,Vi.YELLOW,Vi.RED]),t.set(Ee,Vi.BLUE),t.set($e,Vi.BLUE),t}},Hi={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},oo={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},BP=class extends wa{getDefaultColors(){return{fills:Hi,strokes:oo,up:{fill:Hi.GREEN,stroke:oo.GREEN},down:{fill:Hi.RED,stroke:oo.RED},neutral:{fill:Hi.GRAY,stroke:oo.GRAY},altUp:{fill:Hi.BLUE,stroke:oo.BLUE},altDown:{fill:Hi.ORANGE,stroke:oo.ORANGE},altNeutral:{fill:Hi.GRAY,stroke:oo.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(hn,[Hi.ORANGE,Hi.YELLOW,Hi.GREEN]),t.set(Bs,["#0083ff","#1a8fff","#339cff","#4da8ff","#66b5ff","#80c1ff","#99cdff","#b3daff"]),t.set(ts,[Hi.GREEN,Hi.YELLOW,Hi.RED]),t.set(Ee,Hi.BLUE),t.set($e,Hi.BLUE),t}},Rl=Wi(()=>new wa),FP=Wi(()=>new lc),Nx={"ag-default-dark":FP,"ag-sheets-dark":Wi(()=>new _P),"ag-polychroma-dark":Wi(()=>new RP),"ag-vivid-dark":Wi(()=>new PP),"ag-material-dark":Wi(()=>new wP),"ag-financial-dark":Wi(()=>new EP),null:Rl,undefined:Rl,"ag-default":Rl,"ag-sheets":Wi(()=>new zP),"ag-polychroma":Wi(()=>new jP),"ag-vivid":Wi(()=>new BP),"ag-material":Wi(()=>new OP),"ag-financial":Wi(()=>new kP)},Zf=Wi(GP);function GP(t){if(t instanceof wa)return t;if(t==null||typeof t=="string"){const i=Nx[t];return i?i():(ot.warnOnce(`the theme [${t}] is invalid, using [ag-default] instead.`),Rl())}const{errors:e}=qf(t,YP,"theme");if(!e.length){const i=UP(t),n=i.baseTheme?Zf(i.baseTheme):Rl();return new n.constructor(i)}for(const{message:i}of e)ot.warnOnce(i);return Rl()}function UP(t){let e=t,i,n;const s=[];for(;typeof e=="object";)i??(i=e.palette),n??(n=e.params),e.overrides&&s.push(e.overrides),e=e.baseTheme;return{baseTheme:e,overrides:Rt(...s),params:n,palette:i}}var YP={baseTheme:po(xn,fy),overrides:fy,params:fy,palette:{fills:Zy(xn),strokes:Zy(xn),up:{fill:xn,stroke:xn},down:{fill:xn,stroke:xn},neutral:{fill:xn,stroke:xn}}},VP=new Set(["map-shape-background","map-line-background"]),Cx=class Ls{constructor(e,i,n,s,r,l=!1){this.themeParameters={},this.debug=ce.create(!0,"opts"),this.optionMetadata=s??{},this.processedOverrides=i??{};let c=null;if(e instanceof Ls){if(c=e,this.specialOverrides=c.specialOverrides,!r)throw new Error("AG Charts - internal error: deltaOptions must be supplied.");this.userOptions=Rt(r,Xe(c.userOptions,Ls.OPTIONS_CLONE_OPTS))}else this.userOptions=e,this.specialOverrides=this.specialOverridesDefaults({...n});l&&this.removeLeftoverSymbols(this.userOptions);let h,d,p,g,m;!l&&r!=null&&Ls.isFastPathDelta(r)&&c!=null?{activeTheme:h,processedOptions:d,defaultAxes:p,fastDelta:g}=this.fastSetup(r,c):{activeTheme:h,processedOptions:d,defaultAxes:p,themeParameters:m}=this.slowSetup(i,r,l),this.activeTheme=h,this.processedOptions=d,this.defaultAxes=p,this.fastDelta=g,this.themeParameters=m??{}}static isFastPathDelta(e){for(const i of Object.keys(e))if(!this.FAST_PATH_OPTIONS.has(i))return!1;return!0}fastSetup(e,i){const{activeTheme:n,defaultAxes:s,processedOptions:r}=i,{presetType:l}=this.optionMetadata,c=l?TP[l]:void 0;if(l!=null&&e.data!=null&&c!=null){const{series:d,data:p}=c(e.data);e=Rt({series:d,data:p},e)}this.fastSeriesSetup(e,r);const h=Rt(e,r);return{activeTheme:n,defaultAxes:s,processedOptions:h,fastDelta:e}}fastSeriesSetup(e,i){var n;e.series&&((n=e.series)!=null&&n.every((s,r)=>{var l;return MI(s,((l=i.series)==null?void 0:l[r])??{})})?delete e.series:e.series=e.series.map((s,r)=>{var l;return Rt(s,((l=i.series)==null?void 0:l[r])??{})}))}slowSetup(e,i,n=!1){var D;let s=Xe(this.userOptions,Ls.OPTIONS_CLONE_OPTS);i&&(s=Rt(i,s),n&&this.removeLeftoverSymbols(s));const{presetType:r}=this.optionMetadata;if(r!=null){const L=LP[r],C=this.userOptions,N=this.userOptions.type,k=N!=null?Zf(this.userOptions.theme).presets[N]:void 0;this.debug(">>> AgCharts.createOrUpdate() - applying preset",C),s=(L==null?void 0:L(C,k,()=>this.activeTheme))??s}Ki.isEnterprise||gL(s);const l=Zf(s.theme);this.sanityCheck(s),this.removeDisabledOptions(s);const c=this.optionsType(s),{axes:h={},annotations:d={},series:p,...g}=this.getSeriesThemeConfig(c,l),[m,b]=this.splitAnnotationsOptions(d);this.annotationThemes=Xe(b);const v=this.getDefaultAxes(s,p);let S=Rt(e,s,m,g,v);this.processAxesOptions(S,h),this.processSeriesOptions(S,l),this.processMiniChartSeriesOptions(S,l),S=Xe(S,Ls.OPTIONS_CLONE_OPTS);const A=this.getThemeParameters(l,S);return this.resolveThemeOperations(A,A),this.resolveThemeOperations(A,S),this.resolveThemeOperations(A,this.annotationThemes),(Eb(S)||cN(S)||B_(S))&&((D=S.legend)==null?void 0:D.enabled)==null&&(S.legend??(S.legend={}),S.legend.enabled=S.series.length>1),this.enableConfiguredOptions(S,this.userOptions),l.templateTheme(S,!1),this.removeDisabledOptions(s),IP(S),Ki.isEnterprise||gL(S,!0),this.debug("AgCharts.createOrUpdate() - processed options",S),{activeTheme:l,processedOptions:S,defaultAxes:v,themeParameters:A}}diffOptions(e){return this===e?{}:e==null?this.processedOptions:this.fastDelta??ba(e.processedOptions,this.processedOptions)}getSeriesThemeConfig(e,i){return(i==null?void 0:i.config[e])??{}}getDefaultAxes(e,i){var r;const n=this.optionsType(e);let s=((r=e.series)==null?void 0:r.find(l=>(l.type??"line")===n))??{};return an.isDerivedDefaultAxes(n)&&(s=Rt(s,i)),an.cloneDefaultAxes(n,s)}optionsType(e){var i,n;return((n=(i=e.series)==null?void 0:i[0])==null?void 0:n.type)??"line"}sanityCheck(e){this.axesTypeIntegrity(e),this.seriesTypeIntegrity(e),this.soloSeriesIntegrity(e)}splitAnnotationsOptions(e){const{axesButtons:i=null,enabled:n=null,optionsToolbar:s=null,toolbar:r=null,...l}=e;return i==null&&n==null&&s==null&&r==null?[{},l]:[{annotations:{axesButtons:i,enabled:n,optionsToolbar:s,toolbar:r}},l]}processAxesOptions(e,i){var n;"axes"in e&&(e.axes=(n=e.axes)==null?void 0:n.map(s=>{var b,v,S;const{crossLines:r,...l}=Rt((b=i[s.type])==null?void 0:b[s.position],i[s.type]);s.crossLines&&(s.crossLines=Lf(s.crossLines,r));const c=(v=l.gridLine)==null?void 0:v.style;(S=s.gridLine)!=null&&S.style&&(c!=null&&c.length)&&(s.gridLine.style=s.gridLine.style.map((A,D)=>A.stroke!=null||A.lineDash!=null?Rt(A,c.at(D%c.length)):A));const{top:h,right:d,bottom:p,left:g,...m}=Rt(s,l);return m}))}processSeriesOptions(e,i){var c,h;const n=this.getTooltipPositionDefaults(e),s=pi(e.theme)?A0((c=e.theme)==null?void 0:c.palette):"inbuilt",r={colourIndex:0,userPalette:s},l=(h=e.series)==null?void 0:h.map(d=>{d.type??(d.type=this.getDefaultSeriesType(e));const{innerLabels:p,...g}=this.getSeriesThemeConfig(d.type,i).series??{},m=VP.has(d.type)?{colourIndex:0,userPalette:s}:r,b=this.getSeriesPalette(d.type,m,i),v=this.getTooltipRangeDefaults(e,d.type),S=Rt(this.getSeriesGroupingOptions(d),d,n,v,g,b,{visible:!0});return S.innerLabels&&(S.innerLabels=Lf(S.innerLabels,p)),S});e.series=this.setSeriesGroupingOptions(l??[])}processMiniChartSeriesOptions(e,i){var r,l;let n=(l=(r=e.navigator)==null?void 0:r.miniChart)==null?void 0:l.series;if(n==null)return;const s={colourIndex:0,userPalette:pi(e.theme)?A0(e.theme.palette):"inbuilt"};n=n.map(c=>{c.type??(c.type="line");const{innerLabels:h,...d}=this.getSeriesThemeConfig(c.type,i).series??{};return Rt(this.getSeriesGroupingOptions(c),c,d,this.getSeriesPalette(c.type,s,i))}),e.navigator.miniChart.series=this.setSeriesGroupingOptions(n)}getThemeParameters(e,i){const n=e.getPublicParameters();if(!wi(i.theme)||!i.theme.params)return n;const s=Oi(h=>rn(h)&&Ne.validColorString(h),"a color"),r={accentColor:s,axisColor:s,backgroundColor:s,borderColor:s,foregroundColor:s,fontFamily:xn,fontSize:la,fontWeight:po(xn,la),gridLineColor:s,padding:la,subtleTextColor:s,textColor:s,chromeBackgroundColor:s,chromeFontFamily:xn,chromeFontSize:la,chromeFontWeight:po(xn,la),chromeSubtleTextColor:s,chromeTextColor:s,inputBackgroundColor:s,inputTextColor:s,crosshairLabelBackgroundColor:s,crosshairLabelTextColor:s},{valid:l,errors:c}=qf(i.theme.params,r);for(const{message:h}of c)ot.warnOnce(h);return Rt(l,n)}resolveThemeOperations(e,i){const n=SI(i,e,new Set(["palette","data"]));this.debug("resolveTheme()",n)}getSeriesPalette(e,i,n){const s=an.getPaletteFactory(e),{colourIndex:r,userPalette:l}=i,{fills:c=[],strokes:h=[]}=n.palette;return s==null?void 0:s({userPalette:l,colorsCount:Math.max(c.length,h.length),themeTemplateParameters:n.getTemplateParameters(),palette:n.palette,takeColors(d){return i.colourIndex+=d,{fills:YD(c,d,r),strokes:YD(h,d,r)}}})}getSeriesGroupingOptions(e){const i=an.isGroupable(e.type),n=an.isStackable(e.type),s=an.isStackedByDefault(e.type);e.grouped&&!i&&ot.warnOnce(`unsupported grouping of series type "${e.type}".`),(e.stacked||e.stackGroup)&&!n&&ot.warnOnce(`unsupported stacking of series type "${e.type}".`);let{grouped:r,stacked:l}=e;return l??(l=(s||e.stackGroup!=null)&&!(i&&r)),r??(r=!0),{stacked:n&&l,grouped:i&&r&&!(n&&l)}}setSeriesGroupingOptions(e){const i=this.getSeriesGrouping(e);this.debug("setSeriesGroupingOptions() - series grouping: ",i);const n={},s=i.reduce((r,l)=>{var c;return l.groupType==="default"||(r[c=l.seriesType]??(r[c]=0),r[l.seriesType]+=l.groupType==="stack"?1:l.series.length),r},{});return i.flatMap(r=>{var l;switch(n[l=r.seriesType]??(n[l]=0),r.groupType){case"stack":{const c=n[r.seriesType]++;return r.series.map((h,d)=>Object.assign(h,{seriesGrouping:{groupId:r.groupId,groupIndex:c,groupCount:s[r.seriesType],stackIndex:d,stackCount:r.series.length}}))}case"group":return r.series.map(c=>Object.assign(c,{seriesGrouping:{groupId:r.groupId,groupIndex:n[r.seriesType]++,groupCount:s[r.seriesType],stackIndex:0,stackCount:0}}))}return r.series}).map(({stacked:r,grouped:l,...c})=>c)}getSeriesGroupId(e){return[e.type,e.xKey,e.stacked?e.stackGroup??"stacked":"grouped"].filter(Boolean).join("-")}getSeriesGrouping(e){const i=new Map;return e.reduce((n,s)=>{const r=s.type;if(!s.stacked&&!s.grouped)n.push({groupType:"default",seriesType:r,series:[s],groupId:"__default__"});else{const l=this.getSeriesGroupId(s);if(!i.has(l)){const h={groupType:s.stacked?"stack":"group",seriesType:r,series:[],groupId:l};i.set(l,h),n.push(h)}i.get(l).series.push(s)}return n},[])}getDefaultSeriesType(e){switch(mo.detectChartDefinition(e).name){case"cartesian":return"line";case"polar":return"pie";case"hierarchy":return"treemap";case"topology":return"map-shape";case"flow-proportion":return"sankey";case"standalone":return"pyramid";case"gauge":return"radial-gauge";default:throw new Error("Invalid chart options type detected.")}}getTooltipPositionDefaults(e){var c;const i=(c=e.tooltip)==null?void 0:c.position;if(!wi(i))return;const{type:n,xOffset:s,yOffset:r}=i,l={};return rn(n)&&Xw(k1,n)&&(l.type=n),Wt(s)&&(l.xOffset=s),Wt(r)&&(l.yOffset=r),{tooltip:{position:l}}}getTooltipRangeDefaults(e,i){var n,s;return{tooltip:{range:((n=e.tooltip)==null?void 0:n.range)??((s=an.getTooltipDefauls(i))==null?void 0:s.range)}}}axesTypeIntegrity(e){if("axes"in e&&e.axes){const i=e.axes;for(const{type:n}of i)if(!G_(n)){delete e.axes;const s=[...fa.keys()].join(", ");ot.warnOnce(`unknown axis type: ${n}; expected one of: ${s}`)}}}seriesTypeIntegrity(e){var i;e.series=(i=e.series)==null?void 0:i.filter(({type:n})=>{if(n==null||F_(n)||y_(n))return!0;ot.warnOnce(`unknown series type: ${JSON.stringify(n)}; expected one of: ${rN.seriesTypes.join(", ")}`)})}soloSeriesIntegrity(e){const i=e.series;if(i&&i.length>1&&i.some(n=>an.isSolo(n.type))){const n=this.optionsType(e);if(an.isSolo(n))ot.warn(`series[0] of type '${n}' is incompatible with other series types. Only processing series[0]`),e.series=i.slice(0,1);else{const{solo:s,nonSolo:r}=j0(i,c=>an.isSolo(c.type)?"solo":"nonSolo"),l=Fw(s.map(c=>c.type)).join(", ");ot.warn(`Unable to mix these series types with the lead series type: ${l}`),e.series=r}}}static enableConfiguredJsonOptions(e,i){typeof i=="object"&&"enabled"in i&&!i._enabledFromTheme&&e.enabled==null&&(i.enabled=!0)}static cleanupEnabledFromThemeJsonOptions(e){e._enabledFromTheme!=null&&delete e._enabledFromTheme}enableConfiguredOptions(e,i){ha(i,Ls.enableConfiguredJsonOptions,new Set(["data","theme"]),e),ha(e,Ls.cleanupEnabledFromThemeJsonOptions,new Set(["data","theme"]))}static removeDisabledOptionJson(e){"enabled"in e&&e.enabled===!1&&Object.keys(e).forEach(i=>{i!=="enabled"&&delete e[i]})}removeDisabledOptions(e){ha(e,Ls.removeDisabledOptionJson,new Set(["data","theme"]))}static removeLeftoverSymbolsJson(e){if(!(!e||!pi(e)))for(const[i,n]of Object.entries(e))$w(n)&&delete e[i]}removeLeftoverSymbols(e){ha(e,Ls.removeLeftoverSymbolsJson,new Set(["data"]))}specialOverridesDefaults(e){if(e.window!=null?ZL(e.window):typeof window<"u"?e.window=window:typeof global<"u"&&(e.window=global.window),e.document!=null?KL(e.document):typeof document<"u"?e.document=document:typeof global<"u"&&(e.document=global.document),e.window==null)throw new Error("AG Charts - unable to resolve global window");if(e.document==null)throw new Error("AG Charts - unable to resolve global document");return e}};Cx.OPTIONS_CLONE_OPTS=new Set(["data","container"]);Cx.FAST_PATH_OPTIONS=new Set(["data","width","height"]);var z1=Cx,HP=100,Ex=class uo{constructor(e,i,n,s,r,l=HP){this.name=e,this.buildItem=i,this.releaseItem=n,this.destroyItem=s,this.maxPoolSize=r,this.cleanupTimeMs=l,this.freePool=[],this.busyPool=new Set}static getPool(e,i,n,s,r){return this.pools.has(e)||this.pools.set(e,new uo(e,i,n,s,r)),this.pools.get(e)}isFull(){return this.freePool.length+this.busyPool.size>=this.maxPoolSize}obtain(e){if(this.freePool.length===0&&this.isFull())throw new Error("AG Charts - pool exhausted");let i=this.freePool.pop();return i==null?(i=this.buildItem(e),uo.debug(`Pool[name=${this.name}]: Created instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,i)):uo.debug(`Pool[name=${this.name}]: Re-used instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,i),this.busyPool.add(i),{item:i,release:()=>this.release(i)}}release(e){if(!this.busyPool.has(e))throw new Error("AG Charts - cannot free item from pool which is not tracked as busy.");uo.debug(`Pool[name=${this.name}]: Releasing instance (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`,e),this.releaseItem(e),this.busyPool.delete(e),this.freePool.push(e),uo.debug(`Pool[name=${this.name}]: Returned instance to free pool (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`,e),this.cleanPoolTimer&&clearTimeout(this.cleanPoolTimer),this.cleanPoolTimer=setTimeout(()=>{this.cleanPool()},this.cleanupTimeMs)}cleanPool(){const e=this.freePool.splice(0);for(const i of e)this.destroyItem(i);uo.debug(`Pool[name=${this.name}]: Cleaned pool of ${e.length} items (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`)}destroy(){this.cleanPool();for(const e of this.busyPool.values())this.destroyItem(e);this.busyPool.clear()}};Ex.pools=new Map;Ex.debug=ce.create(!0,"pool");var WP=Ex;mo.registerMany([Oz,tP]);var ca=ce.create(!0,"opts"),dr=class{static licenseCheck(e){var i,n;this.licenseChecked||(this.licenseManager=(i=Ki.licenseManager)==null?void 0:i.call(Ki,e),(n=this.licenseManager)==null||n.validateLicense(),this.licenseChecked=!0)}static getLicenseDetails(e){var i;return(i=Ki.licenseManager)==null?void 0:i.call(Ki,{}).getLicenseDetails(e)}static getInstance(e){return yL.getInstance(e)}static create(e,i){return ca.group("AgCharts.create()",()=>{var s,r;this.licenseCheck(e);const n=yL.createOrUpdate({userOptions:e,licenseManager:this.licenseManager,optionsMetadata:i});return(s=this.licenseManager)!=null&&s.isDisplayWatermark()&&this.licenseManager&&((r=Ki.injectWatermark)==null||r.call(Ki,n.chart.ctx.domManager,this.licenseManager.getWatermarkMessage())),n})}static createFinancialChart(e){return ca.group("AgCharts.createFinancialChart()",()=>this.create(e,{presetType:"price-volume"}))}static createGauge(e){return ca.group("AgCharts.createGauge()",()=>this.create(e,{presetType:"gauge"}))}static __createSparkline(e){return ca.group("AgCharts.__createSparkline()",()=>{const{pool:i,...n}=e;return this.create(n,{presetType:"sparkline",pool:i??!0})})}};dr.licenseChecked=!1;var Ns=class ar{static getInstance(e){const i=Np.getInstance(e);return i?ZA.chartInstances.get(i):void 0}static initialiseModules(){ar.initialised||($4(),q4(),ar.initialised=!0)}static createOrUpdate(e){var O,_;let{proxy:i}=e;const{userOptions:n,licenseManager:s,processedOverrides:r=(i==null?void 0:i.chart.chartOptions.processedOverrides)??{},specialOverrides:l=(i==null?void 0:i.chart.chartOptions.specialOverrides)??{},optionsMetadata:c=(i==null?void 0:i.chart.chartOptions.optionMetadata)??{},deltaOptions:h,stripSymbols:d=!1}=e,p=Ki.styles!=null?[["ag-charts-enterprise",Ki.styles]]:[],{presetType:g}=c;ar.initialiseModules(),ca(()=>[">>> AgCharts.createOrUpdate() user options",Xe(n)]);let m=n;dr.optionsMutationFn&&m&&(m=dr.optionsMutationFn(Xe(m),g),ca(()=>[">>> AgCharts.createOrUpdate() MUTATED user options",Xe(m)]));const{document:b,window:v,styleContainer:S,...A}=m??{},D=(h?i==null?void 0:i.chart.getChartOptions():A)??A,L=new z1(D,r,{...l,document:b,window:v,styleContainer:S},c,h,d);let C=!1,N=i==null?void 0:i.chart,k;return(N==null||mo.detectChartDefinition(L.processedOptions)!==mo.detectChartDefinition(N.chartOptions.processedOptions))&&(k=(O=this.getPool(L))==null?void 0:O.obtain(L),k?N=k.item:(C=!0,N=ar.createChartInstance(L,N)),p.forEach(([j,z])=>{N==null||N.ctx.domManager.addStyles(j,z)})),i==null?(i=new ZA(N,ar.callbackApi,s),i.releaseChart=k==null?void 0:k.release):(k||C)&&((_=i.releaseChart)==null||_.call(i),i.chart=N,i.releaseChart=k==null?void 0:k.release),ca.check()&&typeof window<"u"&&(window.agChartInstances??(window.agChartInstances={}),window.agChartInstances[N.id]=N),N.queuedUserOptions.push(L.userOptions),N.queuedChartOptions.push(L),N.requestFactoryUpdate(j=>{ca.group(">>>> Chart.applyOptions()",()=>{j.applyOptions(L);const z=j.queuedUserOptions.indexOf(L.userOptions)+1;j.queuedUserOptions.splice(0,z),j.queuedChartOptions.splice(0,z)})}),i}static markRemovedProperties(e,i,n=!1){if(typeof e!="object")return n;for(const[s,r]of Object.entries(e))typeof r>"u"&&(Object.assign(e,{[s]:Symbol("UNSET")}),n||(n=!0));return n}static updateUserDelta(e,i){i=Xe(i,new Set(["data"]));const n=ha(i,ar.markRemovedProperties,new Set(["data"]),void 0,void 0,!1);ca(()=>[">>> AgCharts.updateUserDelta() user delta",Xe(i)]),ar.createOrUpdate({proxy:e,deltaOptions:i,stripSymbols:n})}static createChartInstance(e,i){const n=i==null?void 0:i.destroy({keepTransferableResources:!0});return mo.detectChartDefinition(e.processedOptions).create(e,n)}static getPool(e){if(e.optionMetadata.pool===!0)return WP.getPool(e.optionMetadata.presetType??"default",this.createChartInstance,this.detachAndClear,this.destroy,1/0)}};Ns.caretaker=new EI(Rf);Ns.initialised=!1;Ns.callbackApi={caretaker:Ns.caretaker,create(t,e,i,n){return Ns.createOrUpdate({userOptions:t,processedOverrides:e,specialOverrides:i,optionsMetadata:n})},update(t,e){return Ns.createOrUpdate({userOptions:t,proxy:e})},updateUserDelta(t,e){return Ns.updateUserDelta(t,e)}};Ns.detachAndClear=t=>t.detachAndClear();Ns.destroy=t=>t.destroy();var yL=Ns,KP={};$n(KP,{Arc:()=>Fs,BBox:()=>bt,Caption:()=>le,CategoryScale:()=>rh,Group:()=>Tt,Line:()=>An,LinearScale:()=>fs,Marker:()=>ai,Path:()=>Qi,RadialColumnShape:()=>es,Rect:()=>Ri,Scene:()=>Lp,Sector:()=>yi,Shape:()=>Xn,TranslatableGroup:()=>Xi,getRadialColumnWidth:()=>P1,toRadians:()=>qe});var Fs=class extends Qi{constructor(){super(),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=Math.PI*2,this.counterClockwise=!1,this.type=0,this.restoreOwnStyles()}get fullPie(){return cs(fe(this.startAngle),fe(this.endAngle))}updatePath(){const t=this.path;t.clear(),t.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===1?t.closePath():this.type===2&&!this.fullPie&&(t.lineTo(this.centerX,this.centerY),t.closePath())}computeBBox(){return new bt(this.centerX-this.radius,this.centerY-this.radius,this.radius*2,this.radius*2)}isPointInPath(t,e){const i=this.getBBox();return this.type!==0&&i.containsPoint(t,e)&&this.path.isPointInPath(t,e)}};Fs.className="Arc";M([Nt()],Fs.prototype,"centerX",2);M([Nt()],Fs.prototype,"centerY",2);M([Nt()],Fs.prototype,"radius",2);M([Nt()],Fs.prototype,"startAngle",2);M([Nt()],Fs.prototype,"endAngle",2);M([Nt()],Fs.prototype,"counterClockwise",2);M([Nt()],Fs.prototype,"type",2);function Fy(t,e,i){const n=Math.sqrt(t**2+e**2),r=Math.atan2(e,t)+i;return{x:Math.cos(r)*n,y:Math.sin(r)*n}}var es=class extends Qi{constructor(){super(...arguments),this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}set cornerRadius(t){}computeBBox(){const{innerRadius:t,outerRadius:e,columnWidth:i}=this,n=this.getRotation(),s=-i/2,r=i/2,l=-e,c=-t;let h=1/0,d=1/0,p=-1/0,g=-1/0;for(let m=0;m<4;m+=1){const{x:b,y:v}=Fy(m%2===0?s:r,m<2?l:c,n);h=Math.min(b,h),d=Math.min(v,d),p=Math.max(b,p),g=Math.max(v,g)}return new bt(h,d,p-h,g-d)}getRotation(){const{startAngle:t,endAngle:e}=this,i=gp(t,e);return fe(t+i/2+Math.PI/2)}updatePath(){const{isBeveled:t}=this;t?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){const{columnWidth:t,innerRadius:e,outerRadius:i,path:n}=this,s=-t/2,r=t/2,l=-i,c=-e,h=this.getRotation(),d=[[s,c],[s,l],[r,l],[r,c]].map(([p,g])=>Fy(p,g,h));n.clear(!0),n.moveTo(d[0].x,d[0].y),n.lineTo(d[1].x,d[1].y),n.lineTo(d[2].x,d[2].y),n.lineTo(d[3].x,d[3].y),n.closePath()}updateBeveledPath(){const{columnWidth:t,path:e,outerRadius:i,innerRadius:n,axisInnerRadius:s,axisOuterRadius:r,isRadiusAxisReversed:l}=this,c=cs(n,s),h=Math.asin(t/2/n),d=this.getRotation(),p=(j,z)=>Fy(j,z,d),g=(j,z)=>Math.sqrt(j**2+z**2),m=(j,z)=>z>j?0:Math.sqrt(j**2-z**2),b=(j,z,B)=>B?j<z:j>z,v=c&&!isNaN(h)&&h<Math.PI/6;let S=-t/2,A=t/2;const D=-i,L=-n*(v?Math.cos(h):1),C=b(r,g(n,t/2),!l);if(C){const j=m(r,n);S=-j,A=j}e.clear(!0);const N=p(S,L);e.moveTo(N.x,N.y);const k=cs(n,i),O=b(r,g(i,t/2),!l);if(k&&v)e.arc(0,0,n,fe(-h-Math.PI/2)+d,fe(h-Math.PI/2)+d,!1);else if(O){const j=-m(r,t/2),z=m(r,i);if(!C){const B=p(S,j);e.lineTo(B.x,B.y)}if(e.arc(0,0,r,Math.atan2(j,S)+d,Math.atan2(D,-z)+d,!1),!cs(z,0)){const B=p(z,D);e.lineTo(B.x,B.y)}e.arc(0,0,r,Math.atan2(D,z)+d,Math.atan2(j,A)+d,!1)}else{const j=p(S,D),z=p(A,D);e.lineTo(j.x,j.y),e.lineTo(z.x,z.y)}const _=p(A,L);if(e.lineTo(_.x,_.y),v)e.arc(0,0,n,fe(h-Math.PI/2)+d,fe(-h-Math.PI/2)+d,!0);else{const j=p(S,L);e.lineTo(j.x,j.y)}e.closePath()}};es.className="RadialColumnShape";M([Nt()],es.prototype,"isBeveled",2);M([Nt()],es.prototype,"columnWidth",2);M([Nt()],es.prototype,"startAngle",2);M([Nt()],es.prototype,"endAngle",2);M([Nt()],es.prototype,"outerRadius",2);M([Nt()],es.prototype,"innerRadius",2);M([Nt()],es.prototype,"axisInnerRadius",2);M([Nt()],es.prototype,"axisOuterRadius",2);M([Nt()],es.prototype,"isRadiusAxisReversed",2);function P1(t,e,i,n,s){const r=gp(t,e),l=r*(1-n)/2;if(t+=l,e-=l,r<.001)return 2*i*s;if(r>=2*Math.PI){const b=t+r/2;t=b-Math.PI,e=b+Math.PI}const c=i*Math.cos(t),h=i*Math.sin(t),d=i*Math.cos(e),p=i*Math.sin(e),g=Math.floor(Math.sqrt((c-d)**2+(h-p)**2)),m=2*i*s;return Math.max(1,Math.min(m,g))}var ZP={};$n(ZP,{ChartTheme:()=>wa,DEFAULT_ANNOTATION_HANDLE_FILL:()=>Sh,DEFAULT_ANNOTATION_STATISTICS_COLOR:()=>Lh,DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE:()=>Th,DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL:()=>Wu,DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE:()=>Ku,DEFAULT_ANNOTATION_STATISTICS_FILL:()=>Dh,DEFAULT_ANNOTATION_STATISTICS_STROKE:()=>Ah,DEFAULT_BACKGROUND_COLOUR:()=>jp,DEFAULT_CAPTION_ALIGNMENT:()=>ur,DEFAULT_CAPTION_LAYOUT_STYLE:()=>cr,DEFAULT_COLOR_RANGE:()=>Gp,DEFAULT_DIVERGING_SERIES_COLOR_RANGE:()=>hn,DEFAULT_FIBONACCI_STROKES:()=>Hu,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_BACKGROUND_FILL:()=>$e,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_COLOR:()=>Ee,DEFAULT_FUNNEL_SERIES_COLOR_RANGE:()=>Bs,DEFAULT_GAUGE_SERIES_COLOR_RANGE:()=>ts,DEFAULT_GRIDLINE_ENABLED:()=>Is,DEFAULT_HIERARCHY_FILLS:()=>Yp,DEFAULT_HIERARCHY_STROKES:()=>Vp,DEFAULT_POLAR_SERIES_STROKE:()=>Fp,DEFAULT_SEPARATION_LINES_COLOUR:()=>bh,DEFAULT_SHADOW_COLOUR:()=>Nr,DEFAULT_SPARKLINE_CROSSHAIR_STROKE:()=>Up,DEFAULT_TEXTBOX_COLOR:()=>Ch,DEFAULT_TEXTBOX_FILL:()=>Ih,DEFAULT_TEXTBOX_STROKE:()=>Nh,DEFAULT_TEXT_ANNOTATION_COLOR:()=>Mh,DEFAULT_TOOLBAR_POSITION:()=>Eh,IS_COMMUNITY:()=>Kb,IS_DARK_THEME:()=>wl,IS_ENTERPRISE:()=>Zb,PALETTE_ALT_DOWN_FILL:()=>Qb,PALETTE_ALT_DOWN_STROKE:()=>$b,PALETTE_ALT_NEUTRAL_FILL:()=>Jb,PALETTE_ALT_NEUTRAL_STROKE:()=>Bp,PALETTE_ALT_UP_FILL:()=>qb,PALETTE_ALT_UP_STROKE:()=>Xb,PALETTE_DOWN_FILL:()=>vh,PALETTE_DOWN_STROKE:()=>zp,PALETTE_NEUTRAL_FILL:()=>Pp,PALETTE_NEUTRAL_STROKE:()=>sc,PALETTE_UP_FILL:()=>xh,PALETTE_UP_STROKE:()=>_p,getChartTheme:()=>Zf,themeNames:()=>XP,themeSymbols:()=>Wb,themes:()=>Nx});var XP=Object.keys(Nx),$P={};$n($P,{Color:()=>Ne,interpolateColor:()=>eT});var qP={};$n(qP,{AND:()=>js,ARRAY:()=>lh,ARRAY_OF:()=>va,AbstractBarSeries:()=>m1,AbstractBarSeriesProperties:()=>dx,ActionOnSet:()=>ln,AnchoredPopover:()=>G1,Animation:()=>lT,AnimationManager:()=>YI,Arc:()=>Fs,Axis:()=>hb,AxisGroupZIndexMap:()=>fI,AxisInterval:()=>No,AxisLabel:()=>oi,AxisTick:()=>Wl,AxisTickGenerator:()=>mI,AxisTicks:()=>MB,BBox:()=>bt,BBoxValues:()=>Qf,BOOLEAN:()=>At,BOOLEAN_ARRAY:()=>yR,Background:()=>ec,BackgroundModule:()=>VN,BandScale:()=>ah,BarSeries:()=>Hp,BarSeriesModule:()=>v1,BaseModuleInstance:()=>xp,BaseProperties:()=>Ct,BaseToolbar:()=>Px,ButtonWidget:()=>ph,COLOR_GRADIENT:()=>AT,COLOR_STRING:()=>$t,COLOR_STRING_ARRAY:()=>Sn,CachedTextMeasurer:()=>UT,CachedTextMeasurerPool:()=>Da,Caption:()=>le,CartesianAxis:()=>fh,CartesianSeries:()=>Lr,CartesianSeriesNodeEvent:()=>zb,CartesianSeriesProperties:()=>Ca,CategoryAxis:()=>Zl,CategoryScale:()=>rh,ChangeDetectableProperties:()=>Gb,Chart:()=>Np,ChartAxisDirection:()=>nb,ChartEventManager:()=>VI,ChartOptions:()=>z1,ChartUpdateType:()=>Cu,CollapseMode:()=>o1,Color:()=>Ne,ColorScale:()=>xr,ConicGradient:()=>TB,ContextMenuRegistry:()=>HI,ContinuousScale:()=>te,DATE:()=>Y0,DATE_ARRAY:()=>bR,DATE_OR_DATETIME_MS:()=>V0,DEFAULT_CARTESIAN_DIRECTION_KEYS:()=>ko,DEFAULT_CARTESIAN_DIRECTION_NAMES:()=>wo,DEFAULT_TOOLTIP_CLASS:()=>ki,DEFAULT_TOOLTIP_DARK_CLASS:()=>yN,DIRECTION:()=>IT,DOMManager:()=>zI,DataController:()=>sN,DataModel:()=>iN,DataModelSeries:()=>jb,DataService:()=>Tp,Debug:()=>ce,Default:()=>Mr,Deprecated:()=>QP,DeprecatedAndRenamedTo:()=>JP,DragInterpreter:()=>XI,DraggablePopover:()=>U1,DropShadow:()=>bs,ExtendedPath2D:()=>Uu,FONT_SIZE_RATIO:()=>Hb,FONT_STYLE:()=>Ma,FONT_WEIGHT:()=>Sa,FUNCTION:()=>$i,FloatingToolbar:()=>kB,GREATER_THAN:()=>uh,Gradient:()=>pp,Group:()=>Tt,GroupedCategoryAxis:()=>tc,HdpiCanvas:()=>Ab,HierarchyNode:()=>yB,HierarchySeries:()=>bB,HierarchySeriesProperties:()=>Cr,HighlightManager:()=>WI,HighlightProperties:()=>_b,HighlightStyle:()=>yh,INTERACTION_RANGE:()=>fp,INTERPOLATION_STEP_POSITION:()=>t1,INTERPOLATION_TYPE:()=>JN,Image:()=>cc,InteractionManager:()=>UI,InteractionState:()=>GI,InterpolationProperties:()=>ac,Invalidating:()=>Yl,LABEL_PLACEMENT:()=>K0,LARGEST_KEY_INTERVAL:()=>jN,LESS_THAN:()=>ch,LINE_CAP:()=>xR,LINE_DASH:()=>_s,LINE_JOIN:()=>vR,LINE_STYLE:()=>MR,Label:()=>ri,LayoutElement:()=>bb,LayoutManager:()=>NI,LegendMarkerLabel:()=>Jn,Line:()=>An,LineSeries:()=>Wp,LineSeriesModule:()=>S1,LinearGradient:()=>e0,LinearScale:()=>fs,Listeners:()=>La,LogScale:()=>Ob,LonLatBBox:()=>xB,MARKER_SHAPE:()=>Ub,MATCHING_CROSSLINE_TYPE:()=>lb,MAX_SPACING:()=>CT,MIN_SPACING:()=>NT,Marker:()=>ai,Menu:()=>NB,MercatorScale:()=>vB,ModuleRegistry:()=>mo,Motion:()=>Jy,NAN:()=>up,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>us,NUMBER:()=>Ut,NUMBER_ARRAY:()=>hp,NUMBER_OR_NAN:()=>Vl,NativeWidget:()=>Fl,NiceMode:()=>cI,Node:()=>yr,NumberAxis:()=>Ar,OBJECT:()=>mt,OBJECT_ARRAY:()=>H0,OR:()=>br,OVERFLOW_STRATEGY:()=>DR,ObserveChanges:()=>vr,OrdinalTimeScale:()=>Es,PHASE_METADATA:()=>zu,PHASE_ORDER:()=>Sl,PLACEMENT:()=>AR,PLAIN_OBJECT:()=>MT,POSITION:()=>W0,POSITION_TOP_COORDINATES:()=>Ef,POSITIVE_NUMBER:()=>ft,PREV_NEXT_KEYS:()=>El,Padding:()=>Sr,ParallelStateMachine:()=>GR,Path:()=>Qi,PointerEvents:()=>QL,PolarAxis:()=>Gl,PolarSeries:()=>Zp,PolarZIndexMap:()=>N1,Popover:()=>zx,PropertiesArray:()=>oh,ProxyInteractionService:()=>BI,ProxyOnWrite:()=>UR,ProxyProperty:()=>xe,ProxyPropertyOnWrite:()=>mi,QUICK_TRANSITION:()=>Tf,RATIO:()=>ee,REAL_NUMBER:()=>ST,RENDER_TO_OFFSCREEN_CANVAS_THRESHOLD:()=>Ff,RadialColumnShape:()=>es,Range:()=>ms,Rect:()=>Ri,RepeatType:()=>oT,Rotatable:()=>Hl,RotatableGroup:()=>PR,RotatableText:()=>YT,SKIP_JS_BUILTINS:()=>B0,SMALLEST_KEY_INTERVAL:()=>RN,SORT_DOMAIN_GROUPS:()=>_N,STRING:()=>rt,STRING_ARRAY:()=>LT,Scalable:()=>q0,ScalableGroup:()=>zR,Scene:()=>Lp,SceneChangeDetection:()=>yt,ScenePathChangeDetection:()=>Nt,Sector:()=>yi,SectorBox:()=>A1,Selection:()=>Ge,Series:()=>Ip,SeriesContentZIndexMap:()=>dN,SeriesGroupingChangedEvent:()=>kb,SeriesItemHighlightStyle:()=>Na,SeriesMarker:()=>ji,SeriesNodeEvent:()=>gh,SeriesNodePickMode:()=>fN,SeriesProperties:()=>Ln,SeriesTooltip:()=>_i,SeriesZIndexMap:()=>hN,Shape:()=>Xn,SimpleTextMeasurer:()=>tb,SliderWidget:()=>Db,StateMachine:()=>dh,StateMachineProperty:()=>FR,StopProperties:()=>X0,SvgPath:()=>_x,TEXT_ALIGN:()=>TT,TEXT_WRAP:()=>dp,TICK_INTERVAL:()=>lI,Text:()=>si,TextUtils:()=>Ae,TextWrapper:()=>ib,ThemeConstants:()=>HN,ThemeSymbols:()=>Wb,TimeScale:()=>tI,Toolbar:()=>CB,ToolbarButtonProperties:()=>Rh,ToolbarButtonWidget:()=>Y1,ToolbarWidget:()=>Ap,Tooltip:()=>Ps,TooltipManager:()=>jf,TooltipPosition:()=>ql,Transformable:()=>ke,TransformableText:()=>Pl,Translatable:()=>Io,TranslatableGroup:()=>Xi,TranslatableLine:()=>wf,UNION:()=>ue,UpdateService:()=>qI,VERTICAL_ALIGN:()=>SR,Validate:()=>T,Vec2:()=>Dl,Vec4:()=>h0,WIDGET_HTML_EVENTS:()=>yb,Widget:()=>zs,WidgetEventUtil:()=>da,ZIndexMap:()=>oI,ZoomManager:()=>$I,accumulateGroup:()=>zN,accumulateStack:()=>PN,accumulatedValue:()=>IN,accumulativeValueProperty:()=>Yu,addHitTestersToQuadtree:()=>ux,adjustLabelPlacement:()=>x1,angleBetween:()=>gp,animationValidation:()=>Ql,applyShapeStyle:()=>Vu,areScalingEqual:()=>Ol,area:()=>y0,buildFormatter:()=>sh,buildResetPathFn:()=>lx,calculateDefaultTimeTickFormat:()=>yT,calculateDerivativeExtrema:()=>p0,calculateDerivativeExtremaXY:()=>gN,calculateLabelChartPadding:()=>aI,calculateLabelTranslation:()=>a0,calculatePlacement:()=>g0,checkCrisp:()=>y1,clamp:()=>Et,clampArray:()=>$y,clippedRoundRect:()=>yf,collapsedStartingBarPosition:()=>Qu,compareDates:()=>HT,computeBarFocusBounds:()=>px,computeMarkerFocusBounds:()=>Oh,countExpandingSearch:()=>ZI,countFractionDigits:()=>ip,createButton:()=>SB,createCheckbox:()=>DB,createDatumId:()=>Ye,createDeprecationWarning:()=>kx,createElement:()=>zt,createElementId:()=>O2,createIcon:()=>F1,createId:()=>qn,createSelect:()=>AB,createSvgElement:()=>Kn,createTextArea:()=>LB,dateToNumber:()=>Ei,datesSortOrder:()=>ab,datumKeys:()=>_f,datumStylerProperties:()=>pr,deconstructSelectionsOrNodes:()=>rp,deepClone:()=>Xe,deepFreeze:()=>Au,defaultTimeTickFormat:()=>U0,diff:()=>Jl,downloadUrl:()=>XL,drawCorner:()=>Su,drawMarkerUnitPolygon:()=>Mu,easing:()=>Jy,enterpriseModule:()=>Ki,evaluateBezier:()=>zf,extent:()=>Ia,extractDecoratedProperties:()=>sT,findMinMax:()=>gi,findQuadtreeMatch:()=>hx,findRangeExtent:()=>jl,fixNumericExtent:()=>on,focusCursorAtEnd:()=>k2,formatNumber:()=>nI,formatPercent:()=>iI,formatValue:()=>ya,fromToMotion:()=>Ce,generateUUID:()=>iO,getAngleRatioRadians:()=>RT,getColorStops:()=>_T,getDateTicksForInterval:()=>ob,getDatumRefPoint:()=>Lb,getDocument:()=>ga,getElementBBox:()=>xI,getIconClassNames:()=>vp,getLastFocus:()=>Mb,getMissCount:()=>Tb,getPath:()=>P0,getPathComponents:()=>eN,getRadialColumnWidth:()=>P1,getWindow:()=>pe,groupAccumulativeValueProperty:()=>gr,groupAverage:()=>TN,groupCount:()=>m0,groupStackValueProperty:()=>ON,groupSum:()=>LN,hasNoModifiers:()=>Dp,inRange:()=>$L,initMenuKeyNav:()=>RI,initRovingTabIndex:()=>OI,interpolatePoints:()=>Yf,isAgFlowProportionChartOptions:()=>P_,isAgGaugeChartOptions:()=>uN,isAgHierarchyChartOptions:()=>__,isAgStandaloneChartOptions:()=>cN,isAgTopologyChartOptions:()=>z_,isBetweenAngles:()=>lr,isButtonClickEvent:()=>vb,isContinuous:()=>mp,isDecoratedObject:()=>ap,isDenseInterval:()=>Gu,isInputPending:()=>vI,isInteger:()=>qL,isNegative:()=>ep,isNumberEqual:()=>cs,isProperties:()=>Os,isScaleValid:()=>Xu,jsonApply:()=>Nu,jsonDiff:()=>ba,jsonPropertyCompare:()=>MI,jsonResolveOperations:()=>SI,jsonWalk:()=>ha,keyProperty:()=>ps,labelDirectionHandling:()=>rI,legendSymbolSvg:()=>mN,lineDistanceSquared:()=>Iu,listDecoratedProperties:()=>yo,makeAccessibleClickListener:()=>cj,mapValues:()=>bO,markerFadeInAnimation:()=>$u,markerPaletteFactory:()=>tx,markerScaleInAnimation:()=>ax,markerSwipeScaleInAnimation:()=>rx,mergeArrayDefaults:()=>Lf,mergeDefaults:()=>Rt,midpointStartingBarPosition:()=>E4,mod:()=>_0,moduleRegistry:()=>ks,motion:()=>OB,nearestSquared:()=>tp,nearestSquaredInContainer:()=>oO,normaliseGroupTo:()=>wp,normalisePropertyTo:()=>bo,normalisedExtentWithMetadata:()=>Rb,normalizeAngle180:()=>Pu,normalizeAngle360:()=>fe,normalizeAngle360Inclusive:()=>wR,objectsEqual:()=>vo,objectsEqualWith:()=>z0,pairUpSpans:()=>ku,partialAssign:()=>Qy,pathFadeInAnimation:()=>Vf,pathMotion:()=>Uf,pathSwipeInAnimation:()=>ox,pickByMatchingAngle:()=>Dx,plotAreaPathFill:()=>f1,plotInterpolatedAreaSeriesFillSpans:()=>xf,plotInterpolatedLinePathStroke:()=>bf,plotLinePathStroke:()=>ix,predicateWithMessage:()=>ie,prepareAreaFillAnimationFns:()=>p1,prepareAreaPathAnimation:()=>g1,prepareAxisAnimationContext:()=>kf,prepareAxisAnimationFunctions:()=>uI,prepareBarAnimationFunctions:()=>Ju,prepareLinePathAnimation:()=>d1,prepareLinePathPropertyAnimation:()=>sx,prepareLinePathStrokeAnimationFns:()=>nx,preparePieSeriesAnimationFunctions:()=>xo,range:()=>Fu,rangedValueProperty:()=>Bb,resetAxisGroupFn:()=>hI,resetAxisLabelSelectionFn:()=>ub,resetAxisLineSelectionFn:()=>dI,resetAxisSelectionFn:()=>cb,resetBarSelectionsFn:()=>th,resetIds:()=>eO,resetLabelFn:()=>ka,resetMarkerFn:()=>wh,resetMarkerPositionFn:()=>qu,resetMotion:()=>fi,resetPieSelectionsFn:()=>Sx,round:()=>lO,rowCountProperty:()=>wN,sanitizeHtml:()=>kl,scale:()=>Ci,sectorBox:()=>L1,seriesLabelFadeInAnimation:()=>Xt,seriesLabelFadeOutAnimation:()=>hr,setAttribute:()=>ae,setAttributes:()=>Mo,setDocument:()=>KL,setElementBBox:()=>Of,setElementStyle:()=>hs,setPath:()=>F0,setWindow:()=>ZL,shallowClone:()=>gb,singleSeriesPaletteFactory:()=>kh,solveBezier:()=>Pf,sortAndUniqueDates:()=>n0,splitBezier:()=>Bf,staticFromToMotion:()=>xa,stopPageScrolling:()=>jI,sum:()=>jz,sumValues:()=>kp,swapAxisCondition:()=>qN,toDegrees:()=>OR,toRadians:()=>qe,tooltipContentAriaLabel:()=>bN,trailingAccumulatedValue:()=>NN,trailingAccumulatedValueProperty:()=>Pz,updateClipPath:()=>Hf,updateLabelNode:()=>b1,validateCrossLineValues:()=>sI,valueProperty:()=>jt,visibleRangeIndices:()=>KI,without:()=>qy});function kx(){return(t,e)=>{const i=[`Property [${t}] is deprecated.`,e].filter(Boolean).join(" ");ot.warnOnce(i)}}function QP(t,e){const i=kx(),n=e==null?void 0:e.default;return ma((s,r,l)=>(l!==n&&i(r.toString(),t),l))}function JP(t,e){const i=kx();return ma((n,s,r)=>(r!==n[t]&&(i(s.toString(),`Use [${t}] instead.`),F0(n,t,e?e(r):r)),Af),(n,s)=>(i(s.toString(),`Use [${t}] instead.`),P0(n,t)))}var Dl={add:tB,angle:rB,apply:gB,equal:fB,distance:nB,distanceSquared:sB,from:pB,gradient:lB,intercept:cB,intersectAtX:hB,intersectAtY:uB,length:Ox,lengthSquared:iB,multiply:eB,normalized:aB,origin:Rx,required:mB,rotate:oB,round:dB,sub:wx};function tB(t,e){return typeof e=="number"?{x:t.x+e,y:t.y+e}:{x:t.x+e.x,y:t.y+e.y}}function wx(t,e){return typeof e=="number"?{x:t.x-e,y:t.y-e}:{x:t.x-e.x,y:t.y-e.y}}function eB(t,e){return typeof e=="number"?{x:t.x*e,y:t.y*e}:{x:t.x*e.x,y:t.y*e.y}}function Ox(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function iB(t){return t.x*t.x+t.y*t.y}function nB(t,e){const i=wx(t,e);return Math.sqrt(i.x*i.x+i.y*i.y)}function sB(t,e){const i=wx(t,e);return i.x*i.x+i.y*i.y}function aB(t){const e=Ox(t);return{x:t.x/e,y:t.y/e}}function rB(t,e=Rx()){return Math.atan2(t.y,t.x)-Math.atan2(e.y,e.x)}function oB(t,e,i=Rx()){const n=Ox(t);return{x:i.x+n*Math.cos(e),y:i.y+n*Math.sin(e)}}function lB(t,e,i){const n=e.x-t.x;return(i==null?e.y-t.y:i-e.y-(i-t.y))/n}function cB(t,e,i){return(i==null?t.y:i-t.y)-e*t.x}function uB(t,e,i=0,n){return{x:t===1/0?1/0:(i-e)/t,y:n==null?i:n-i}}function hB(t,e,i=0,n){const s=t===1/0?1/0:t*i+e;return{x:i,y:n==null?s:n-s}}function dB(t){return{x:Math.round(t.x),y:Math.round(t.y)}}function fB(t,e){return t.x===e.x&&t.y===e.y}function pB(t,e){if(typeof t=="number")return{x:t,y:e};if("currentX"in t)return{x:t.currentX,y:t.currentY};if("offsetWidth"in t)return{x:t.offsetWidth,y:t.offsetHeight};if("width"in t)return[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y+t.height}];if("x1"in t)return[{x:t.x1,y:t.y1},{x:t.x2,y:t.y2}];throw new Error(`Values can not be converted into a vector: [${JSON.stringify(t)}] [${e}]`)}function gB(t,e){return t.x=e.x,t.y=e.y,t}function mB(t){return{x:(t==null?void 0:t.x)??0,y:(t==null?void 0:t.y)??0}}function Rx(){return{x:0,y:0}}var B1=class vf{constructor(e,i,n,s,r,l,c,h,d){this.series=e,this.datumIndex=i,this.datum=n,this.sizeValue=s,this.colorValue=r,this.sumSize=l,this.depth=c,this.parent=h,this.children=d,this.midPoint={x:0,y:0}}get hasChildren(){return this.children.length>0}walk(e,i=vf.Walk.PreOrder){i===vf.Walk.PreOrder&&e(this),this.children.forEach(n=>{n.walk(e,i)}),i===vf.Walk.PostOrder&&e(this)}*[Symbol.iterator](){yield this;for(const e of this.children)yield*e}};B1.Walk={PreOrder:0,PostOrder:1};var yB=B1,bB=class extends Ip{constructor(t){super({moduleCtx:t,pickModes:[1,0]}),this.colorDomain=[0,0],this.maxDepth=0,this.colorScale=new xr,this.animationState=new dh("empty",{empty:{update:{target:"ready",action:e=>this.animateEmptyUpdateReady(e)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:e=>this.animateReadyHighlight(e),resize:e=>this.animateReadyResize(e),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:e=>this.animateWaitingUpdateReady(e)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:e=>this.animateClearingUpdateEmpty(e)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(t){t==="initial"?this.animationState.transition("reset"):t==="ready"&&this.animationState.transition("skip")}processData(){const{NodeClass:t}=this,{childrenKey:e,sizeKey:i,colorKey:n,colorRange:s}=this.properties;let r=0,l=1/0,c=-1/0;const h=(m,b,v)=>{const S=v.depth!=null?v.depth+1:0,A=e!=null?m[e]:void 0,D=A==null||A.length===0;let L=i!=null?m[i]:void 0;Number.isFinite(L)?L=Math.max(L,0):L=D?1:0;const C=L;r=Math.max(r,S);const N=n!=null?m[n]:void 0;return typeof N=="number"&&(l=Math.min(l,N),c=Math.max(c,N)),d(new t(this,b,m,L,N,C,S,v,[]),A)},d=(m,b)=>{const{datumIndex:v}=m;return b==null||b.forEach((S,A)=>{const D=h(S,v.concat(A),m);m.children.push(D),m.sumSize+=D.sumSize}),m},p=d(new t(this,[],void 0,0,void 0,0,void 0,void 0,[]),this.data),g=[l,c];this.colorScale.domain=l<c?[l,c]:[0,1],this.colorScale.range=s??["black"],this.colorScale.update(),this.rootNode=p,this.maxDepth=r,this.colorDomain=g}update({seriesRect:t}){this.updateSelections(),this.updateNodes();const e=this.getAnimationData();this.checkResize(t)&&this.animationState.transition("resize",e),this.animationState.transition("update",e)}resetAllAnimation(t){this.ctx.animationManager.stopByAnimationGroupId(this.id)}animateEmptyUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateWaitingUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateReadyHighlight(t){}animateReadyResize(t){this.resetAllAnimation(t)}animateClearingUpdateEmpty(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}getAnimationData(){return{}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}getSeriesDomain(){return[NaN,NaN]}getSeriesRange(t,e){return[NaN,NaN]}getLegendData(t){const{colorKey:e,colorName:i,colorRange:n}=this.properties,{id:s,ctx:{legendManager:r},visible:l}=this;return t==="gradient"&&e!=null&&n!=null?[{legendType:"gradient",enabled:l&&r.getItemEnabled({seriesId:s}),seriesId:s,colorName:i,colorRange:n,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(t){return t.datumIndex.join(":")}getDatumId(t){return this.getDatumIdFromData(t)}removeMeIndexPathForIndex(t){var e;return((e=this.datumSelection.at(t+1))==null?void 0:e.datum.datumIndex)??[]}removeMeIndexForIndexPath(t){for(const{index:e,datum:i}of this.datumSelection)if(Cs(i.datumIndex,t))return e-1;return 0}pickFocus(t){var h;if(!((h=this.rootNode)!=null&&h.children.length))return;const e=Et(0,t.datumIndex-t.datumIndexDelta,this.datumSelection.length-1),{datumIndexDelta:i,otherIndexDelta:n}=t;let s=this.removeMeIndexPathForIndex(e);const r=s.reduce((d,p)=>d.children[p],this.rootNode);if(n>0&&r.hasChildren)s=[...s,0];else if(n<0&&s.length>1)s=s.slice(0,-1);else if(n===0&&i!==0){const d=r.parent.children.length-1;s=s.slice(),s[s.length-1]=Et(0,s[s.length-1]+i,d)}const l=s.reduce((d,p)=>d.children[p],this.rootNode),c=this.computeFocusBounds(this.datumSelection.at(e+1));if(c!=null)return{datum:l,datumIndex:this.removeMeIndexForIndexPath(s),otherIndex:l.depth,bounds:c,clipFocusBox:!0}}getDatumAriaText(t,e){if(!(t instanceof this.NodeClass)){ot.error(`datum is not HierarchyNode: ${JSON.stringify(t)}`);return}return this.ctx.localeManager.t("ariaAnnounceHierarchyDatum",{level:(t.depth??-1)+1,count:t.children.length,description:e})}},Cr=class extends Ln{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values(Fe),this.strokes=Object.values(Ts)}};M([T(rt)],Cr.prototype,"childrenKey",2);M([T(rt,{optional:!0})],Cr.prototype,"sizeKey",2);M([T(rt,{optional:!0})],Cr.prototype,"colorKey",2);M([T(rt,{optional:!0})],Cr.prototype,"colorName",2);M([T(Sn)],Cr.prototype,"fills",2);M([T(Sn)],Cr.prototype,"strokes",2);M([T(Sn,{optional:!0})],Cr.prototype,"colorRange",2);var xB=class{constructor(t,e,i,n){this.lon0=t,this.lat0=e,this.lon1=i,this.lat1=n}merge(t){this.lon0=Math.min(this.lon0,t.lon0),this.lat0=Math.min(this.lat0,t.lat0),this.lon1=Math.max(this.lon1,t.lon1),this.lat1=Math.max(this.lat1,t.lat1)}},$p=Math.PI/180,Gy=t=>t*$p,Uy=t=>-Math.log(Math.tan(Math.PI*.25+t*$p*.5)),Yy=t=>t/$p,Vy=t=>(Math.atan(Math.exp(-t))-Math.PI*.25)/($p*.5),vB=class I0 extends op{constructor(e,i){super(),this.domain=e,this.range=i,this.type="mercator",this.bounds=I0.bounds(e)}static bounds(e){const[[i,n],[s,r]]=e,l=Gy(i),c=Uy(n),h=Gy(s),d=Uy(r);return new bt(Math.min(l,h),Math.min(c,d),Math.abs(h-l),Math.abs(d-c))}static fixedScale(){return new I0([[Yy(0),Vy(0)],[Yy(1),Vy(1)]],[[0,0],[1,1]])}toDomain(){}normalizeDomains(...e){let i=-1/0,n=1/0,s=-1/0,r=1/0;for(const l of e)for(const[c,h]of l)i=Math.min(c,i),n=Math.max(c,n),s=Math.min(h,s),r=Math.max(h,r);return{domain:[[i,s],[n,r]],animatable:!0}}convert([e,i]){const[[n,s],[r,l]]=this.range,c=(r-n)/this.bounds.width,h=(l-s)/this.bounds.height;return[(Gy(e)-this.bounds.x)*c+n,(Uy(i)-this.bounds.y)*h+s]}invert([e,i]){const[[n,s],[r,l]]=this.range,c=(r-n)/this.bounds.width,h=(l-s)/this.bounds.height;return[Yy((e-n)/c+this.bounds.x),Vy((i-s)/h+this.bounds.y)]}},jx=class N0{constructor(){this.id=qn(this),this.axisGroup=new Xi({name:`${this.id}-AxisTicks`,zIndex:2}),this.labelSelection=Ge.select(this.axisGroup,si),this.interval=new No,this.label=new oi,this.scale=new fs,this.position="bottom",this.translationX=0,this.translationY=0,this.padding=0}attachAxis(e){e.appendChild(this.axisGroup)}calculateLayout(){const e=[],i=this.generateTicks(),{translationX:n,translationY:s}=this;return this.labelSelection.update(i.ticks.map(r=>this.createLabelDatum(r)),void 0,r=>r.tickId),this.labelSelection.each((r,l)=>{r.setProperties(l),l.visible&&e.push(r.getBBox())}),this.axisGroup.setProperties({translationX:n,translationY:s}),bt.merge(e)}getLabelParams(e){const{padding:i}=this,{translate:n}=e;switch(this.position){case"top":case"bottom":return{x:n,y:i,textAlign:"center",textBaseline:"top"};case"left":case"right":return{x:i,y:n,textAlign:"start",textBaseline:"middle"}}}inRange(e,i=.001){const[n,s]=gi(this.scale.range);return e>=n-i&&e<=s+i}createLabelDatum(e){const{x:i,y:n,textBaseline:s,textAlign:r}=this.getLabelParams(e);return{visible:!!e.tickLabel,tickId:e.tickId,fill:this.label.color,fontFamily:this.label.fontFamily,fontSize:this.label.fontSize,fontStyle:this.label.fontStyle,fontWeight:this.label.fontWeight,rotation:0,rotationCenterX:0,text:e.tickLabel,textAlign:r,textBaseline:s,x:i,y:n}}generateTicks(){const{minSpacing:e,maxSpacing:i}=this.interval,{maxTickCount:n,minTickCount:s,tickCount:r}=JT(jl(this.scale.range),1,e,i,N0.DefaultTickCount,N0.DefaultMinSpacing),l=this.getTicksData({nice:!0,interval:this.interval.step,tickCount:r,minTickCount:s,maxTickCount:n});if(this.position==="bottom"||this.position==="top"){const c=Da.getMeasurer({font:this.label}),{domain:h}=this.scale,p=h[0]>h[1]?-1:1;let g=-1/0*p;l.ticks=l.ticks.filter(m=>Math.sign(m.translate-g)!==p?!1:(g=m.translate+c.textWidth(m.tickLabel,!0)*p,!0))}return l}getTicksData(e){var h,d;const i=[],n=e.nice?this.scale.niceDomain(e):this.scale.domain,s=this.scale.ticks(e,n),r=s.reduce((p,g)=>Math.max(p,ip(g)),0),l=db(),c=this.label.format?this.scale.tickFormatter({domain:n,ticks:s,fractionDigits:r,specifier:this.label.format}):p=>ya(p,r);for(let p=0;p<s.length;p++){const g=s[p],m=this.scale.convert(g);if(!this.inRange(m))continue;const b=((d=(h=this.label).formatter)==null?void 0:d.call(h,{value:g,index:p,fractionDigits:r}))??c(g),v=l(b);i.push({tick:g,tickId:v,tickLabel:b,translate:m})}return{rawTicks:s,fractionDigits:r,ticks:i}}};jx.DefaultTickCount=5;jx.DefaultMinSpacing=10;var MB=jx;function SB(t,e){const i=zt("button",qp("ag-charts-input ag-charts-button",e));return t.label!==void 0?i.append(t.label):(i.append(F1(t.icon)),i.ariaLabel=t.altText),i.addEventListener("click",t.onPress),Mo(i,e),i}function DB(t,e){const i=zt("input",qp("ag-charts-input ag-charts-checkbox",e));return i.type="checkbox",i.checked=t.checked,i.addEventListener("change",n=>t.onChange(i.checked,n)),i.addEventListener("keydown",n=>{vb(n)&&(n.preventDefault(),i.click())}),Mo(i,e),i}function AB(t,e){const i=zt("select",qp("ag-charts-input ag-charts-select",e));return i.append(...t.options.map(n=>{const s=zt("option");return s.value=n.value,s.textContent=n.label,s})),ae(i,"data-preventdefault",!1),i.value=t.value,i.addEventListener("change",n=>t.onChange(i.value,n)),Mo(i,e),i}function LB(t,e){const i=zt("textarea",qp("ag-charts-input ag-charts-textarea",e));return i.value=t.value,i.addEventListener("input",n=>t.onChange(i.value,n)),Mo(i,e),ae(i,"data-preventdefault",!1),i}function F1(t){const e=zt("span",`ag-charts-icon ag-charts-icon-${t}`);return ae(e,"aria-hidden",!0),e}function qp(t,e){return e==null?t:`${t} ${e.class}`}var TB=class extends pp{constructor(t,e,i=0,n){super(t,e,n),this.angle=i}createCanvasGradient(t,e){const{angle:n}=this,s=fe(qe(n+90)),r=e.x+e.width*.5,l=e.y+e.height*.5;return t.createConicGradient(s,r,l)}},_x=class extends Qi{constructor(t=""){super(),this.x=0,this.y=0,this.commands=[],this._d="",this.d=t}get d(){return this._d}set d(t){if(t!==this._d){this._d=t,this.commands.length=0;for(const[e,i,n]of t.matchAll(/([A-Z])([0-9. ]*)/g)){const s=n.split(/\s+/g).map(Number);this.commands.push([i,s])}this.checkPathDirty()}}updatePath(){const{path:t,x:e,y:i}=this;t.clear();let n=e,s=i;for(const[r,l]of this.commands)switch(r){case"M":t.moveTo(e+l[0],i+l[1]),n=e+l[0];break;case"C":t.cubicCurveTo(e+l[0],i+l[1],e+l[2],i+l[3],e+l[4],i+l[5]),n=e+l[4],s=i+l[5];break;case"H":t.lineTo(e+l[0],s),n=i+l[0];break;case"L":t.lineTo(e+l[0],i+l[1]),n=e+l[0],s=i+l[1];break;case"V":t.lineTo(n,i+l[0]),s=i+l[0];break;case"Z":t.closePath();break;default:throw new Error(`Could not translate command '${r}' with '${l.join(" ")}'`)}t.closePath()}};M([Nt()],_x.prototype,"x",2);M([Nt()],_x.prototype,"y",2);var cc=class extends yr{constructor(t){super(),this.sourceImage=t,this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1}render(t){const{ctx:e}=t,i=this.sourceImage;i&&(e.globalAlpha=this.opacity,e.drawImage(i,0,0,i.width,i.height,this.x,this.y,this.width,this.height)),super.render(t)}};M([yt()],cc.prototype,"x",2);M([yt()],cc.prototype,"y",2);M([yt()],cc.prototype,"width",2);M([yt()],cc.prototype,"height",2);M([yt()],cc.prototype,"opacity",2);var IB={};$n(IB,{ButtonWidget:()=>ph,NativeWidget:()=>Fl,SliderWidget:()=>Db,ToolbarWidget:()=>Ap,WIDGET_HTML_EVENTS:()=>yb,Widget:()=>zs,WidgetEventUtil:()=>da});var bL="canvas-overlay",zx=class extends xp{constructor(t,e,i){super(),this.ctx=t,this.hideFns=[],this.moduleId=`popover-${e}`,i!=null&&i.detached?this.element=zt("div"):this.element=t.domManager.addChild(bL,this.moduleId),this.element.setAttribute("role","presentation"),this.destroyFns.push(()=>t.domManager.removeChild(bL,this.moduleId))}attachTo(t){this.element.parentElement||t.element.append(this.element)}hide(t){const{lastFocus:e=this.lastFocus}=t??{};this.element.children.length!==0&&(this.hideFns.forEach(i=>i()),e==null||e.focus(),this.lastFocus=void 0)}removeChildren(){this.element.replaceChildren()}showWithChildren(t,e){if(!this.element.parentElement)throw new Error("Can not show popover that has not been attached to a parent.");const i=zt("div","ag-charts-popover");if(e.ariaLabel!=null&&i.setAttribute("aria-label",e.ariaLabel),e.class!=null&&i.classList.add(e.class),i.replaceChildren(...t),this.element.replaceChildren(i),this.hideFns.push(()=>this.removeChildren()),e.onHide&&this.hideFns.push(e.onHide),e.initialFocus&&e.sourceEvent){const n=Mb(e.sourceEvent);n!==void 0&&(this.lastFocus=n,this.initialFocus=e.initialFocus)}return i}getPopoverElement(){return this.element.firstElementChild}updatePosition(t){var i;const e=this.getPopoverElement();e&&(e.style.setProperty("right","unset"),e.style.setProperty("bottom","unset"),t.x!=null&&e.style.setProperty("left",`${Math.floor(t.x)}px`),t.y!=null&&e.style.setProperty("top",`${Math.floor(t.y)}px`),(i=this.initialFocus)==null||i.focus(),this.initialFocus=void 0)}},G1=class extends zx{setAnchor(t,e){this.anchor=t,this.fallbackAnchor=e,this.updatePosition(t),this.repositionWithinBounds()}showWithChildren(t,e){const i=e.anchor??this.anchor,n=e.fallbackAnchor??this.fallbackAnchor,s=super.showWithChildren(t,e);return i&&this.setAnchor(i,n),pe().requestAnimationFrame(()=>{this.repositionWithinBounds()}),s}repositionWithinBounds(){const{anchor:t,ctx:e,fallbackAnchor:i}=this,n=this.getPopoverElement();if(!t||!n)return;const s=e.domManager.getBoundingClientRect(),{offsetWidth:r,offsetHeight:l}=n;let c=Et(0,t.x,s.width-r),h=Et(0,t.y,s.height-l);c!==t.x&&(i==null?void 0:i.x)!=null&&(c=Et(0,i.x-r,s.width-r)),h!==t.y&&(i==null?void 0:i.y)!=null&&(h=Et(0,i.y-l,s.height-l)),this.updatePosition({x:c,y:h})}},NB=class extends G1{show(t){const e=t.items.map(n=>this.createRow(t,n)),i=this.showWithChildren(e,t);i.classList.add("ag-charts-menu"),i.setAttribute("role","menu"),this.menuCloser=RI({orientation:"vertical",menu:i,buttons:e,sourceEvent:t.sourceEvent,closeCallback:()=>this.hide()}),this.hideFns.push(()=>{var n;(n=this.menuCloser)==null||n.finishClosing(),this.menuCloser=void 0})}createRow(t,e){const{menuItemRole:i="menuitem"}=t,n=e.value===t.value,s=zt("div","ag-charts-menu__row");if(s.setAttribute("role",i),i==="menuitemradio"&&s.setAttribute("aria-checked",(t.value===e.value).toString()),typeof e.value=="string"&&(s.dataset.popoverId=e.value),s.classList.toggle("ag-charts-menu__row--active",n),e.icon!=null){const h=zt("span",`ag-charts-menu__icon ${vp(e.icon)}`);s.appendChild(h)}const r=e.strokeWidth!=null;if(r&&(s.classList.toggle("ag-charts-menu__row--stroke-width-visible",r),s.style.setProperty("--strokeWidth",r?`${e.strokeWidth}px`:null)),e.label!=null){const h=zt("span","ag-charts-menu__label");h.textContent=this.ctx.localeManager.t(e.label),s.appendChild(h)}"altText"in e&&(s.ariaLabel=this.ctx.localeManager.t(e.altText));const l=()=>{var h;(h=t.onPress)==null||h.call(t,e)},c=h=>{vb(h)&&(l(),h.preventDefault(),h.stopPropagation())};return s.addEventListener("keydown",c),s.addEventListener("click",c),s.addEventListener("mousemove",()=>{s.focus({preventScroll:!0})}),s}},U1=class extends zx{constructor(){super(...arguments),this.dragged=!1}setDragHandle(t){t.addListener("drag-start",e=>{t.addClass(this.dragHandleDraggingClass),this.onDragStart(e)}),t.addListener("drag-move",this.onDragMove.bind(this)),t.addListener("drag-end",()=>{t.removeClass(this.dragHandleDraggingClass),this.onDragEnd.bind(this)})}onDragStart(t){const e=this.getPopoverElement();e&&(t.sourceEvent.preventDefault(),this.dragged=!0,this.dragStartState={client:Dl.from(t.clientX,t.clientY),position:Dl.from(Number(e.style.getPropertyValue("left").replace("px","")),Number(e.style.getPropertyValue("top").replace("px","")))})}onDragMove(t){const{dragStartState:e}=this,i=this.getPopoverElement();if(!e||!i)return;const n=Dl.sub(Dl.from(t.clientX,t.clientY),e.client),s=Dl.add(e.position,n),r=this.ctx.domManager.getBoundingClientRect(),l={};s.x>=r.x&&s.x+i.offsetWidth<=r.width&&(l.x=s.x),s.y>=r.y&&s.y+i.offsetHeight<=r.height&&(l.y=s.y),this.updatePosition(l)}onDragEnd(){this.dragStartState=void 0}},Rh=class extends Ct{};M([T(rt,{optional:!0})],Rh.prototype,"icon",2);M([T(rt,{optional:!0})],Rh.prototype,"label",2);M([T(rt,{optional:!0})],Rh.prototype,"ariaLabel",2);M([T(rt,{optional:!0})],Rh.prototype,"tooltip",2);var Y1=class extends ph{constructor(t){super(),this.localeManager=t}update(t){const{localeManager:e}=this;t.tooltip&&(this.elem.title=e.t(t.tooltip));let i="";if(t.icon!=null&&(i=`<span class="${vp(t.icon)} ag-charts-toolbar__icon"></span>`),t.label!=null){const n=e.t(t.label);i=`${i}<span class="ag-charts-toolbar__label">${n}</span>`}this.elem.innerHTML=i}setChecked(t){ae(this.elem,"aria-checked",t)}},xL="ag-charts-toolbar__button--active",Px=class extends Ap{constructor(t,e="horizontal"){super(e),this.localeManager=t,this.horizontalSpacing=10,this.verticalSpacing=10,this.events=new La,this.hasPrefix=!1,this.buttonWidgets=[],this.addClass("ag-charts-toolbar"),this.toggleClass("ag-charts-toolbar--horizontal",e==="horizontal"),this.toggleClass("ag-charts-toolbar--vertical",e==="vertical")}addToolbarListener(t,e){return this.events.addListener(t,e)}clearButtons(){for(const t of this.buttonWidgets)t.destroy();this.buttonWidgets.splice(0)}updateButtons(t){const{buttonWidgets:e}=this;for(const[i,n]of t.entries())(this.buttonWidgets.at(i)??this.createButton(i,n)).update(n);for(let i=t.length;i<e.length;i++){const n=this.buttonWidgets.at(i);n==null||n.destroy()}this.buttonWidgets.splice(t.length),this.refreshButtonClasses()}updateButtonByIndex(t,e){var i;(i=this.buttonWidgets.at(t))==null||i.update(e)}clearActiveButton(){for(const t of this.buttonWidgets)t.toggleClass(xL,!1)}toggleActiveButtonByIndex(t){if(t!==-1)for(const[e,i]of this.buttonWidgets.entries())i.toggleClass(xL,t!=null&&t===e)}toggleButtonEnabledByIndex(t,e){var i;t!==-1&&((i=this.buttonWidgets.at(t))==null||i.setEnabled(e))}toggleSwitchCheckedByIndex(t,e){var i;t!==-1&&((i=this.buttonWidgets.at(t))==null||i.setChecked(e))}getButtonBounds(){return this.buttonWidgets.map(t=>this.getButtonWidgetBounds(t))}setButtonHiddenByIndex(t,e){var i;(i=this.buttonWidgets.at(t))==null||i.setHidden(e)}getButtonWidgetBounds(t){const e=this.getBounds(),i=t.getBounds();return new bt(i.x+e.x,i.y+e.y,i.width,i.height)}refreshButtonClasses(){var r;const{buttonWidgets:t,hasPrefix:e}=this;let i,n,s;for(const[l,c]of t.entries())i=!e&&l===0||s!=c.section,n=l===t.length-1||c.section!=((r=t.at(l+1))==null?void 0:r.section),c.toggleClass("ag-charts-toolbar__button--first",i),c.toggleClass("ag-charts-toolbar__button--last",n),c.toggleClass("ag-charts-toolbar__button--gap",l>0&&i),s=c.section}createButton(t,e){const i=this.createButtonWidget();return i.addClass("ag-charts-toolbar__button"),i.addListener("click",n=>{const s={index:t,...e instanceof Ct?e.toJson():e},r=this.getButtonWidgetBounds(i);this.events.dispatch("button-pressed",{event:n,button:s,buttonBounds:r})}),i.addListener("focus",()=>{this.events.dispatch("button-focused",{button:{index:t}})}),e.section&&(i.section=e.section),this.buttonWidgets.push(i),this.addChild(i),i}},CB=class extends Px{createButtonWidget(){return new Y1(this.localeManager)}},EB=class extends U1{constructor(t,e,i){super(t,e),this.onPopoverMoved=i,this.dragHandleDraggingClass="ag-charts-floating-toolbar__drag-handle--dragging"}show(t,e={}){this.showWithChildren(t,{...e,class:"ag-charts-floating-toolbar"})}hide(){this.dragged=!1,super.hide()}getBounds(){const t=this.getPopoverElement();return new bt((t==null?void 0:t.offsetLeft)??0,(t==null?void 0:t.offsetTop)??0,(t==null?void 0:t.offsetWidth)??0,(t==null?void 0:t.offsetHeight)??0)}hasBeenDragged(){return this.dragged}setAnchor(t,e,i){const n=this.getPopoverElement();if(!n)return;const s=t.position??"above",{offsetWidth:r,offsetHeight:l}=n;let c=t.y-l-i,h=t.x-r/2;s==="below"?c=t.y+i:s==="right"?(c=t.y-l/2,h=t.x+e):s==="above-left"&&(h=t.x),this.updatePosition({x:h,y:c})}ignorePointerEvents(){const t=this.getPopoverElement();t&&(t.style.pointerEvents="none")}capturePointerEvents(){const t=this.getPopoverElement();t&&(t.style.pointerEvents="unset")}updatePosition(t){const e=this.getBounds(),i=this.ctx.domManager.getBoundingClientRect();t.x=Math.floor(Et(0,t.x,i.width-e.width)),t.y=Math.floor(Et(0,t.y,i.height-e.height)),super.updatePosition(t),this.onPopoverMoved()}},kB=class extends Px{constructor(t,e){super(t.localeManager),this.hasPrefix=!0,this.popover=new EB(t,e,this.onPopoverMoved.bind(this)),this.dragHandle=new wB(t.localeManager.t("toolbarAnnotationsDragHandle")),this.popover.setDragHandle(this.dragHandle)}show(t={}){this.popover.show([this.dragHandle.getElement(),this.getElement()],t)}hide(){this.popover.hide()}setAnchor(t){this.popover.setAnchor(t,this.horizontalSpacing,this.verticalSpacing)}hasBeenDragged(){return this.popover.hasBeenDragged()}ignorePointerEvents(){this.popover.ignorePointerEvents()}capturePointerEvents(){this.popover.capturePointerEvents()}onPopoverMoved(){var i;const t=this.popover.getBounds();if((i=this.popoverBounds)!=null&&i.equals(t))return;this.popoverBounds=t.clone();const e=this.getButtonBounds();this.events.dispatch("toolbar-moved",{popoverBounds:t,buttonBounds:e})}getButtonWidgetBounds(t){const e=this.popover.getBounds(),i=super.getButtonWidgetBounds(t),n=this.dragHandle.getBounds();return new bt(i.x+e.x-n.width,i.y+e.y,i.width,i.height)}},wB=class extends Fl{constructor(t){super(zt("div","ag-charts-floating-toolbar__drag-handle"));const e=new Fl(zt("span",`${vp("drag-handle")} ag-charts-toolbar__icon`));e.setAriaHidden(!0),this.addChild(e),this.elem.title=t}},OB={...WL,...ET};dr.create.bind(dr),dr.__createSparkline.bind(dr);function vL(t,e){return{...t,container:e.current}}function RB(t,e){const i=gt.forwardRef(function(s,r){const{options:l,style:c,className:h}=s,d=gt.useRef(null),p=gt.useRef();gt.useLayoutEffect(()=>{const m=t(vL(l,d));return p.current=m,()=>{m.destroy()}},[]);const g=p.current===void 0;return gt.useEffect(()=>{var m;g||(m=p.current)==null||m.update(vL(l,d)).catch(b=>console.error(b))},[l]),gt.useImperativeHandle(r,()=>p.current,[]),gt.useMemo(()=>gt.createElement("div",{ref:d,style:c,className:h}),[c,h])});return i.displayName=e,i}var jB=RB(t=>dr.create(t),"AgCharts");function V1({expChart:t}){if(!t||!Array.isArray(t.data)||t.data.length===0||t.graphic_flag!==!0)return P.jsx("img",{className:"project-image",src:"/my_portfolio/"+t.project_picture,alt:""});const i={data:t.data.map(n=>t.graphic_type==="bubble"?{x:n.xKey,y:parseFloat(n.yKey),size:parseFloat(n.sizeyKey)}:{x:n.xKey,y:n.yKey}),series:[t.graphic_type==="bubble"?{type:"bubble",xKey:"x",yKey:"y",sizeKey:"size",fill:"rgba(17, 141, 56, 0.71)",stroke:"#7d3c98",fillOpacity:.7,strokeWidth:1,tooltip:{renderer:({datum:n})=>({content:`${n.xKey}: ${n.yKey}`})}}:{type:"bar",xKey:"x",yKey:"y",fill:"rgb(113, 19, 113)",tooltip:{renderer:({datum:n})=>({content:`${n.xKey}: ${n.yKey}`})}}],legend:{enabled:!1},axes:[{type:"category",position:"bottom"},{type:"number",position:"left"}]};return P.jsx(P.Fragment,{children:P.jsxs("div",{className:"Chart",children:[P.jsxs("div",{className:"Chart__header",children:[P.jsx("h2",{className:"Chart__title",children:t.achievement_title})," "]}),P.jsxs("div",{className:"Chart__content",children:[P.jsx(jB,{options:i,className:"Chart__container"}),P.jsx("div",{className:"time__line",children:P.jsx("div",{className:"chart__dates"})})]})]})})}V1.propTypes={expChart:Ht.object.isRequired};function H1({exp:t}){const e=(i,n)=>!i||!n?0:Math.max(n.getFullYear()-i.getFullYear()-(n.getMonth()<i.getMonth()||n.getMonth()===i.getMonth()&&n.getDate()<i.getDate()?-1:0),0);return P.jsxs(P.Fragment,{children:[P.jsxs("section",{className:"hero__section",children:[P.jsx("label",{className:"wip__label",htmlFor:"WIP",children:"WIP "}),P.jsxs("div",{className:"hero__container",children:[P.jsx("div",{className:"image__layout",children:P.jsx("div",{className:"experience__picture"})}),P.jsxs("div",{className:"hero__content",children:[P.jsx("h1",{className:"content__title",children:"About me!"}),P.jsx("h2",{className:"content__subtitle",children:"Passionate about learning"}),P.jsx("div",{className:"experience__content",children:P.jsx("p",{className:"content__text",children:"I am passionate about learning, travel and technology, which I value for its ability to transform lives and optimize processes. I have led projects as a Scrum Master, motivating teams, and more recently as a Project Manager, with a strategic and human focus. My essence reflects curiosity, resilience and a constant commitment to growth."})})]})]})]}),P.jsx("div",{className:"margin__title__container",children:P.jsx("h1",{className:"margin__title",children:"Experience"})}),P.jsx("section",{className:"container__section",children:t.map((i,n)=>P.jsxs("article",{className:"container__article",children:[P.jsx("img",{className:"line",src:"images/Line.png"}),P.jsxs("div",{className:"time-line",children:[P.jsxs("div",{className:"header__content",children:[P.jsx("img",{className:"logo",src:"/my_portfolio/"+i.logo}),P.jsx("img",{className:"divider",src:"images/Divider.png"}),P.jsxs("div",{className:"dates",children:[P.jsx("div",{className:"experience__years",children:i.start_date?`${e(new Date(i.start_date),i.end_date==="Currently"?new Date:new Date(i.end_date))} years`:"N/A"}),P.jsxs("time",{className:"date",children:[i.start_date," - ",i.end_date]}),P.jsx("legend",{className:"location",children:i.location})]})]}),P.jsxs("article",{className:"Down__content",children:[P.jsxs("div",{className:"left__experience",children:[P.jsxs("div",{className:"down__content",children:[P.jsx("h3",{className:"company__card",children:i.company}),Array.isArray(i.description)?P.jsx("ul",{className:"description__list",children:i.description.map((s,r)=>P.jsx("li",{className:"item__list",children:s},r))}):P.jsx("ul",{className:"description__list",children:i.description.split(". ").map((s,r)=>s.trim()&&P.jsx("li",{className:"item__list",children:s.trim()},r))}),i.projects&&P.jsx("ul",{className:"description__list",children:i.projects.map((s,r)=>P.jsxs("li",{className:"project__item",children:[P.jsxs("h4",{className:"project__title",children:[s.title," | ",s.Year]}),P.jsxs("ul",{children:[P.jsx("li",{className:"item__link",children:P.jsx("p",{children:s.description})}),P.jsx("li",{className:"item__link",children:P.jsx("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",children:s.link})})]})]},r))})]}),P.jsx("div",{children:P.jsx("ul",{className:"chips__container",children:i.skills.map((s,r)=>P.jsx("li",{className:"chip",children:s},r))})})]}),P.jsxs("div",{className:"right__experience",children:[P.jsxs("div",{className:"down__cards",children:[P.jsxs("div",{className:"card1",children:[P.jsx("button",{className:"Button-primary",children:P.jsx("img",{className:"user_logo",src:"images/icons/Button/User.svg"})}),P.jsx("div",{className:"alignment",children:P.jsx("legend",{className:"text__card1",children:i.role})})]}),P.jsxs("div",{className:"card2",children:[P.jsx("button",{className:"Button-primary",children:P.jsx("img",{className:"user_logo",src:"images/icons/Button/House.svg"})}),P.jsx("div",{className:"alignment",children:P.jsx("legend",{className:"text__card2",children:i.location_type})})]}),P.jsxs("div",{className:"card3",children:[P.jsx("button",{className:"Button-primary",children:P.jsx("img",{className:"user_logo",src:"images/icons/Button/Clock.svg"})}),P.jsx("div",{className:"alignment",children:P.jsx("legend",{className:"text__card3",children:i.employment_type})})]})]}),P.jsx(V1,{expChart:i})]})]})]})]},n))})]})}H1.propTypes={exp:Ht.arrayOf(Ht.shape({Company:Ht.string.isRequired,Role:Ht.string.isRequired,Employment_type:Ht.string,dateDifferenceInYears:Ht.func,start_date:Ht.string.isRequired,end_date:Ht.string.isRequired,Description:Ht.oneOfType([Ht.string,Ht.arrayOf(Ht.string)]),Projects:Ht.arrayOf(Ht.shape({Title:Ht.string.isRequired,Year:Ht.number.isRequired,Description:Ht.string.isRequired,Link:Ht.string.isRequired}))})).isRequired,chartOptions:Ht.object};function W1({handleSubmitClick:t,contactTypes:e,inputValues:i,setInputValues:n}){const[s,r]=gt.useState(""),l=m=>{const{name:b,value:v}=m.target;n(S=>({...S,[b]:v}))},c=m=>{const b=m.target.value;r(b)},h=m=>{const b=m.target.value;n(v=>({...v,description:b}))},[d,p]=gt.useState(!1),g=m=>{m.target.validity.patternMismatch?p(!0):p(!1)};return P.jsxs("article",{className:"contact__section",children:[P.jsx("h1",{className:"contact__title",children:"Contact"}),P.jsxs("fieldset",{className:"contact__reason",children:[P.jsx("legend",{className:"home__subtitle",children:"Contact Form"}),P.jsxs("select",{onChange:c,value:s,className:"select_reason",name:"reasonContact",id:"reason",required:!0,children:[P.jsx("option",{className:"select_reason",value:"",disabled:!0,children:"Select a type"}),Array.isArray(e)&&e.map(m=>P.jsx("option",{className:"option_reason",value:m.contact_typeid,children:m.contact_type},m.contact_typeid))]})]}),P.jsxs("fieldset",{className:"contact__inputs__form",children:[P.jsx("legend",{className:"home__subtitle",htmlFor:"reason_text",children:"Comments"}),P.jsx("textarea",{className:"form__text",id:"textarea",name:"description",placeholder:"Enter your comments here",value:i.description,onChange:h,type:"text",maxLength:500,required:!0}),P.jsxs("form",{onSubmit:m=>t(m,s),children:[P.jsx("div",{children:P.jsx("input",{className:"input__field",type:"text",inputMode:"text",pattern:"^[A-Za-z' ]+$",style:{borderColor:d?"red":"initial"},onBlur:g,maxLength:50,id:"name",name:"name",value:i.name,onChange:l,required:!0,placeholder:"Input your name"})}),P.jsx("div",{children:P.jsx("input",{className:"input__field",type:"email",inputMode:"email",maxLength:50,id:"email",name:"email",value:i.email,onChange:l,placeholder:"e.g. name@email.com"})}),P.jsx("div",{children:P.jsx("input",{className:"input__field",type:"tel",inputMode:"tel",pattern:"^\\+?\\d{0,3}-?\\d{3}-\\d{3}-\\d{3}$",maxLength:15,id:"phone",name:"phone",value:i.phone,onChange:l,placeholder:"e.g. 765-897-345"})}),P.jsx("div",{className:"submit__btn__box",children:P.jsx("button",{type:"submit",className:"submit__btn",children:"Submit"})})]})]})]})}W1.propTypes={handleSubmitClick:Ht.func.isRequired,contactTypes:Ht.array.isRequired,inputValues:Ht.object.isRequired,setInputValues:Ht.func.isRequired};function _B(){return P.jsxs("footer",{className:"footer",children:[P.jsxs("div",{className:"copy",children:[P.jsx("span",{children:" 2024 Designed by Jeannette Arias"}),P.jsx("span",{className:"additional-text",children:"All Rights Reserved"})]}),P.jsx("div",{className:"additional-text"})]})}const zB=[{company:"ENTELGY",logo:"images/icons/entelgy_logo.svg",location:"Madrid, Spain",location_type:"Remote",role:"Product Owner",employment_type:"Full-time",start_date:"April 2024",end_date:"Currently",description:"I currently work at OpenBank, as product owner providing services for Entelgy. Requirements analysis, both at product and technical level to document the flows in Confluence to then build the backlog of the next releases. Managed a product road-map that identified customer needs and aligned with the companys overall business strategy. Collaborated with stakeholders to define product requirements and prioritize features. Led a team of developers to ensure product features are delivered on time and meet quality standards.",skills:["Jira","Confluence","Scrum","high-level estimation","Roadmapping"],achievement_title:"Cycle time & Throughput",goal_description:"Throughput Time Period / Number of completed items",graphic_type:"bar",data:[{xKey:"Q4-2024",yKey:120},{xKey:"Q1-2025",yKey:200},{xKey:"Q2-2025",yKey:40}],project_picture:"N/A",graphic_flag:!0,image:"images/icons/calendar_icon.svg"},{company:"ALTEN Spain",logo:"images/icons/Alten_logo.svg",location:"Barcelona, Spain",location_type:"Hybrid",role:"Product Owner",employment_type:"Full-time",start_date:"Sept 2023",end_date:"Mar 2024",description:"At Alten I worked as a Product Owner with Scrum Framework. Analyze and understand the business requirements for further refinement with the business analyst and development team. Roadmapping and high-level estimation linked with the prioritized milestones. Prioritization at Epic and Features level, and items in the Team Product backlog. Process modeling in the analysis stage to get the target process (MODELIO). Backlog items breakdown in close collaboration with the Business Analyst. Product and Technical Backlog refinement to understand the intention and priority of the US. Promoting and attending Scrum ceremonies.",skills:["Modelio","Scrum","Business Analysis","Agile","Requirements Analysis","Roadmapping"],achievement_title:"Project schedule variance",goal_description:"Lowered project schedule variance to less than 1%, ensuring 99% of projects were delivered according to the planned timeline by enforcing strict schedule adherence and proactive resolution of potential delays.",graphic_type:"bubble",data:[{xKey:"Q1-2024",yKey:150},{xKey:"Q2-2024",yKey:180}],project_picture:"/images/modelio-screenshot1.png",graphic_flag:!1,image:"images/icons/html5.svg"},{company:"CITI",logo:"images/icons/citi_logo.png",location:"Santiago, Chile",location_type:"Hybrid",role:"Product Owner",employment_type:"Full-time",start_date:"Sept 2022",end_date:"Aug 2023",description:"At Citi, I worked as a Product Owner in the Product team under the SAFe (Scaled Agile Framework) guidelines for stream value organization and Scrum for team orientation. Transversal tasks before Scrum team assignment included analyzing and understanding the requirements received to involve all impacted tracks required in the scope, coordinating walkthroughs to get the L0 estimations and plan, closely working with Regional PMs and Business stakeholders to plan every ART (Agile Release Train), and building Jira and Confluence dashboards.",skills:["Design Thinking","Safe","Business Analysis","Requirements Analysis","SCRUM","Product Management","Leadership"],achievement_title:"Cycle time & Throughput",goal_description:"Throughput Time Period / Number of completed items",graphic_type:"bar",data:[{xKey:"Q3-2022",yKey:10},{xKey:"Q4-2022",yKey:30},{xKey:"Q1-2023",yKey:40},{xKey:"Q2-2023",yKey:10},{xKey:"Q3-2023",yKey:60}],project_picture:"N/A",graphic_flag:!0,image:"images/icons/laptop-code-solid.svg"},{company:"2Brains",logo:"images/icons/2brains_logo.png",location:"Santiago, Chile",location_type:"Remote",role:"Scrum master",employment_type:"Full-time",start_date:"Sept 2021",end_date:"Aug 2022",description:"As a Scrum Master at BCI Bank through 2Brains, I managed deliveries according to project milestones and releases integrated with the Jira project. My responsibilities included periodic roadmap tracking in Jira (Epics and their tickets), risk and dependency management, periodic reporting based on performance metrics, and facilitating Scrum ceremonies, tutoring, and coaching. I also applied techniques and tools to improve team performance, handled impediment removal management, and aligned with other teams to continue progress without dependencies.",skills:["Product Management","Design Thinking","Agile Leadership","SCRUM","Project Management"],achievement_title:"Cycle time & Throughput",goal_description:"Throughput Time Period / Number of completed items",graphic_type:"bar",data:[{xKey:"Q3-2021",yKey:70},{xKey:"Q4-2021",yKey:60},{xKey:"Q1-2022",yKey:120},{xKey:"Q2-2022",yKey:220},{xKey:"Q3-2022",yKey:200}],project_picture:"N/A",graphic_flag:!0,image:"images/icons/flame_image.svg"},{company:"FALABELLA TECHNOLOGY",logo:"images/icons/falabella_logo.png",location:"Santiago, Chile",location_type:"Hybrid",role:"Project Manager",employment_type:"Full-time",start_date:"Jun 2015",end_date:"Aug 2021",description:`At Falabella, I was responsible for iteration and testing management, as well as agile coaching at the program and project level, primarily for eCommerce and marketplace initiatives.

Iteration Manager:
 Managed delivery (Sprint goals) according to the planned milestone.
 Planned and executed showcases (PI System at a program level) where teams demonstrated progress based on product value.
 Facilitated Sync PO sessions to mitigate dependencies and risks.

Agile Coaching:
 Coached multiple delivery teams to become self-organizing and improve their agility and performance.
 Facilitated Scrum Ceremonies, mentoring Scrum Masters.
 Collected and analyzed retrospective feedback, applying techniques like the happiness radar.
 Planned and facilitated scaled activities including PI System, PI Planning, and Scrum of Scrums.
 Served as a servant leader, assisting teams with impediment resolution.
 Administered Agile tools (Jira & Confluence) to enhance process transparency.

Testing Management:
 Designed and implemented testing strategies (smoke, E2E, integration, etc.).
 Managed test progress, risks, and execution performance.
 Oversaw defect management in Jira and provided test maturity reports.

Project Management:
 Oversaw project financials, including budgeting, forecasting, and burn rate tracking.
 Handled planning, resource allocation, and milestone execution.
 Supported TCO creation for marketplace projects, optimizing scope and budget.
 Led project closure and activation processes.`,skills:["SCRUM","Quality Management","Project Management","Agile Leadership","Financial Management","Third-Party Vendor Management"],achievement_title:"Cycle time & Throughput",goal_description:"Throughput Time Period / Number of completed items",graphic_type:"bubble",data:[{xKey:"project schedule variance",yKey:8,sizeyKey:20},{xKey:"projects delivery",yKey:92,sizeyKey:80}],project_picture:"N/A",graphic_flag:!0,image:"images/icons/thumbs_UP_icon.svg"}],PB=[{title:"Management & Tools",skills:[{skill:"Roadmapping",level:"Advanced"},{skill:"Product Discovery Process",level:"Advanced"},{skill:"Business Analysis",level:"Advanced"},{skill:"Project Management",level:"Advanced"},{skill:"Delivery Management",level:"Intermediate"},{skill:"Financial Management",level:"Intermediate"}],technical_title:"Web Development",technical_skills:["React","javaScript","CSS","HTML","Node.js","Express.js","MySQL"]}],ML=[{title:"",achievements:[{institution:"BCI",role:"Scrum Master",description:"As the Product Owner in the Banco BCI project, achieved a 50% increase in the number of operational users (reaching 2K) and a 95% SNEX score (Customer Satisfaction and Efficiency) following the successful launch of the MVP into production.",metric:"+95% SNEX",avatar:"/jean_avatar.jpg",graphic:"",active:!0},{institution:"Citi",role:"Product Owner",description:"Move forward with a stuck MPV opening up communications and freeing up dependencies with other areas.",metric:"",avatar:"/jean_avatar.jpg",graphic:"",active:!1},{institution:"Falabella",role:"Project Manager",description:"Build the first Marketplace for Falabella Chile, managing a $5MM USD budget.",metric:"",avatar:"/jean_avatar.jpg",graphic:"",active:!1}]}],BB=[{idproject:1,project_name:"Molones Project",project_slogan:"Application to add new projects by author",project_repo:"https://github.com/jeannettearias/Project-admin-app",project_demo:"https://module-4-promo-bpt-proyectos-molones.onrender.com",project_technologies:"Node.js, Express, MongoDB, EJS, JavaScript, React, html, css",project_description:"Web project to create Project cards with the author's information, consisting of two applications; a frontend built with JavaScript, React HTML5, and SCSS, and an API built with Nodejs and Express, connected to a MySQL DB to store the information.",project_image:"images/molones_projects_pic_2.png",author_name:"Collaborative Adalab Group",author_job:"Web Developer bootcamp",author_photo:"images/photo-pw-adalab.jpg"},{idproject:2,project_name:"Harry potter Project",project_slogan:"Application to search harry potter characters",project_repo:"https://github.com/jeannettearias/harry-potter-movie-characters-search",project_demo:"https://jeannettearias.github.io/harry-potter-movie-characters-search",project_technologies:"Node.js, Express, MongoDB, EJS, JavaScript, React, html, css",project_description:"Web project to search and list Harry potter information.",project_image:"images/harry-potter-picture.png",author_name:"Jeannette Arias",author_job:"Full stack developer",author_photo:"images/me.jpg"},{idproject:3,project_name:"awesome-professional-cards",project_slogan:"Application to create professional cards",project_repo:"https://github.com/jeannettearias/awesome-professional-cards",project_demo:"https://jeannettearias.github.io/awesome-professional-cards",project_technologies:"Node.js, Express, MongoDB, EJS, JavaScript, React, html, css",project_description:"Web project to create professional cards with the user's information.",project_image:"images/awesome_projects.png",author_name:"Collaborative Adalab Group",author_job:"Full stack developer",author_photo:"images/photo-pw-adalab.jpg"},{idproject:4,project_name:"Disney characters cards",project_slogan:"Application to create Disney characters cards",project_repo:"https://jeannettearias.github.io/disney-character-cards",project_demo:"https://jeannettearias.github.io/disney-character-cards",project_technologies:"JavaScript, SCSS, HTML5",project_description:"Web project to create Disney characters cards.",project_image:"images/disney_projects.png",author_name:"Jeannette Arias",author_job:"Full stack developer",author_photo:"images/me.jpg"},{idproject:5,project_name:"Scooby Doo webpage",project_slogan:"scooby doo team's web page",project_repo:"https://github.com/jeannettearias/scoobydoo-services-web-site",project_demo:"https://jeannettearias.github.io/scoobydoo-services-web-site",project_technologies:"JavaScript, SCSS, HTML5",project_description:"Web project to create Scooby Doo characters cards.",project_image:"images/scooby_projects.png",author_name:"Collaborative Adalab Group",author_job:"Full stack developer",author_photo:"images/photo-pw-adalab.jpg"},{idproject:6,project_name:"My Portfolio",project_slogan:"My personal portfolio",project_repo:"https://github.com/jeannettearias/my_portfolio",project_demo:"https://jeannettearias.github.io/my_portfolio",project_technologies:"Node.js, Express, MongoDB, EJS, JavaScript, React, html, css",project_description:"Web project to create my personal portfolio.",project_image:"images/my_portfolio.png",author_name:"Jeannette Arias",author_job:"Full stack developer",author_photo:"images/me_working.jpeg"}];function FB(){const[t,e]=gt.useState([]),[i,n]=gt.useState([]),[s,r]=gt.useState([]),[l,c]=gt.useState([]),[h,d]=gt.useState([]),[p,g]=gt.useState([]),[m,b]=gt.useState({description:"",name:"",email:"",phone:"",status:"A"}),v=async()=>{try{const D=await(await fetch("http://localhost:4000/contact/type")).json();g(D)}catch(A){console.error("Error",A)}},S=async(A,D)=>{A.preventDefault();const L={...m,contact_typeid:D};console.log(" Data being sent:",JSON.stringify(L,null,2));try{const C=await fetch("http://localhost:4000/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)}),N=await C.json();console.log(" Server response:",N),C.ok&&(g([]),b({description:"",name:"",email:"",phone:"",status:"A"}))}catch(C){console.error(" Error in the insert:",C)}};return gt.useEffect(()=>{e(BB),d(zB),n(PB),r(ML),v();const A=ML[0].achievements.filter(D=>D.active===!0);c(A)},[]),P.jsxs("div",{className:"layout",children:[P.jsx(Nw,{}),P.jsxs(mw,{children:[P.jsx(mu,{path:"/",element:P.jsx(BL,{skills:i,achievements:s,activeAchievements:l})}),P.jsx(mu,{path:"/projects",element:P.jsx(zL,{projectsArray:t})}),P.jsx(mu,{path:"/experience",element:P.jsx(H1,{exp:h})}),P.jsx(mu,{path:"/contact",element:P.jsx(W1,{handleSubmitClick:S,contactTypes:p,inputValues:m,setInputValues:b})})]}),P.jsx(_B,{})]})}Dk.createRoot(document.getElementById("root")).render(P.jsx(SL.StrictMode,{children:P.jsx(Dw,{children:P.jsx(FB,{})})}));
